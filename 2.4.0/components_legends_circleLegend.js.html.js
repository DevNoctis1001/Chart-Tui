tui.util.defineNamespace("fedoc.content", {});
fedoc.content["components_legends_circleLegend.js.html"] = "      <div id=\"main\" class=\"main\">\n\n\n\n    \n    <section>\n        <article>\n            <pre class=\"prettyprint source linenums\"><code>/**\n * @fileoverview  Circle legend component render a legend in the form of overlapping circles\n *                  by representative radius values.\n * @author NHN Ent.\n *         FE Development Lab &lt;dl_javascript@nhnent.com>\n */\n\n'use strict';\n\nvar chartConst = require('../../const/');\nvar dom = require('../../helpers/domHandler');\nvar renderUtil = require('../../helpers/renderUtil');\nvar pluginFactory = require('../../factories//pluginFactory');\nvar legendTemplate = require('./legendTemplate');\n\nvar CircleLegend = tui.util.defineClass(/** @lends CircleLegend.prototype */ {\n    /**\n     * css className of circle legend\n     * @type {string}\n     */\n    className: 'tui-chart-circle-legend-area',\n    /**\n     * ratios for rendering circle\n     * @type {Array.&lt;number>}\n     */\n    circleRatios: [1, 0.5, 0.25],\n    /**\n     * Circle legend component render a legend in the form of overlapping circles by representative radius values.\n     * @constructs CircleLegend\n     * @param {object} params parameters\n     *      @param {?string} params.libType - library type for graph rendering\n     *      @param {string} params.chartType - chart type\n     *      @param {DataProcessor} params.dataProcessor - DataProcessor\n     *      @param {string} params.baseFontFamily - base fontFamily of chart\n     */\n    init: function(params) {\n        var libType = params.libType || chartConst.DEFAULT_PLUGIN;\n\n        /**\n         * chart type\n         * @type {string}\n         */\n        this.chartType = params.chartType;\n\n        /**\n         * data processor\n         * @type {DataProcessor}\n         */\n        this.dataProcessor = params.dataProcessor;\n\n        /**\n         * theme for label of circle legend area\n         * @type {{fontSize: number, fontFamily: *}}\n         */\n        this.labelTheme = {\n            fontSize: chartConst.CIRCLE_LEGEND_LABEL_FONT_SIZE,\n            fontFamily: params.baseFontFamily\n        };\n\n        /**\n         * Graph renderer\n         * @type {object}\n         */\n        this.graphRenderer = pluginFactory.get(libType, 'circleLegend');\n\n        /**\n         * layout bounds information for this components\n         * @type {null|{dimension:{width:number, height:number}, position:{left:number, top:number}}}\n         */\n        this.layout = null;\n\n        /**\n         * max radius for rendering circle legend\n         * @type {null|number}\n         */\n        this.maxRadius = null;\n    },\n\n    /**\n     * Format label\n     * @param {number} label - label\n     * @param {number} decimalLength - decimal length\n     * @returns {string}\n     * @private\n     */\n    _formatLabel: function(label, decimalLength) {\n        var formatFunctions = this.dataProcessor.getFormatFunctions();\n\n        if (decimalLength === 0) {\n            label = String(parseInt(label, 10));\n        } else {\n            label = String(label);\n            label = renderUtil.formatToDecimal(label, decimalLength);\n        }\n\n        return renderUtil.formatValue(label, formatFunctions, this.chartType, 'circleLegend', 'r');\n    },\n\n    /**\n     * Make label html.\n     * @returns {string}\n     * @private\n     */\n    _makeLabelHtml: function() {\n        var self = this;\n        var dimension = this.layout.dimension;\n        var halfWidth = dimension.width / 2;\n        var maxRadius = this.maxRadius;\n        var maxValueRadius = this.dataProcessor.getMaxValue(this.chartType, 'r');\n        var decimalLength = tui.util.getDecimalLength(maxValueRadius);\n        var labelHeight = renderUtil.getRenderedLabelHeight(maxValueRadius, this.labelTheme);\n\n        return tui.util.map(this.circleRatios, function(ratio) {\n            var diameter = maxRadius * ratio * 2;\n            var label = self._formatLabel(maxValueRadius * ratio, decimalLength);\n            var labelWidth = renderUtil.getRenderedLabelWidth(label, self.labelTheme);\n\n            return legendTemplate.tplCircleLegendLabel({\n                left: halfWidth - (labelWidth / 2),\n                top: dimension.height - diameter - labelHeight,\n                label: label\n            });\n        }).join('');\n    },\n\n    /**\n     * Render label area.\n     * @private\n     */\n    _renderLabelArea: function() {\n        var labelContainer = dom.create('DIV', 'tui-chart-circle-legend-label-area');\n\n        labelContainer.innerHTML = this._makeLabelHtml();\n        this.container.appendChild(labelContainer);\n    },\n\n    /**\n     * Render for circle legend area.\n     * @private\n     */\n    _render: function() {\n        var circleContainer = dom.create('DIV', 'tui-chart-circle-area');\n\n        this.container.appendChild(circleContainer);\n\n        this.graphRenderer.render(circleContainer, this.layout.dimension, this.maxRadius, this.circleRatios);\n\n        this._renderLabelArea();\n        renderUtil.renderPosition(this.container, this.layout.position);\n    },\n\n    /**\n     * Set data for rendering.\n     * @param {{\n     *      layout: {\n     *          dimension: {width: number, height: number},\n     *          position: {left: number, top: number}\n     *      },\n     *      maxRadius: number\n     * }} data - bounds data\n     * @private\n     */\n    _setDataForRendering: function(data) {\n        this.layout = data.layout;\n        this.maxRadius = data.maxRadius;\n    },\n\n    /**\n     * Render.\n     * @param {object} data - bounds data\n     * @returns {HTMLElement}\n     */\n    render: function(data) {\n        var container = dom.create('DIV', this.className);\n\n        this.container = container;\n        this._setDataForRendering(data);\n        this._render(data);\n\n        return container;\n    },\n\n    /**\n     * Rerender.\n     * @param {object} data - bounds data\n     */\n    rerender: function(data) {\n        this.container.innerHTML = '';\n        this._setDataForRendering(data);\n        this._render();\n    },\n\n    /**\n     * Resize.\n     * @param {object} data - bounds data\n     */\n    resize: function(data) {\n        this.rerender(data);\n    }\n});\n\nmodule.exports = CircleLegend;\n</code></pre>\n        </article>\n    </section>\n\n\n\n</div>\n\n"