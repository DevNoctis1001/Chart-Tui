/**
 * @fileoverview tui.chart
 * @author NHN Ent. FE Development Team <dl_javascript@nhnent.com>
 * @version 1.4.0a
 * @license MIT
 * @link https://github.com/nhnent/tui.chart
 */
!function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return o(i?i:t)},h,h.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),o=t("../const"),r=t("../helpers/calculator"),s=t("../helpers/renderUtil"),a=t("./axisTemplate"),u=tui.util.defineClass({init:function(t){tui.util.extend(this,t),this.className="tui-chart-axis-area"},_renderAxisArea:function(t,e,i){var o,r=this.theme,a=!!i.isVertical,u=!!i.isPositionRight,l=this.options,h=e.dimension,c=a?h.height:h.width,d=this._renderTitleArea({title:l.title,theme:r.title,isVertical:a,isPositionRight:u,size:c}),p=this._renderLabelArea(i,c,h.width,e.degree);this.data=i,this.bound=e,a&&i.aligned||(o=this._renderTickArea(c)),s.renderDimension(t,h),s.renderPosition(t,e.position),n.addClass(t,a?"vertical":"horizontal"),n.addClass(t,u?"right":""),n.append(t,[d,o,p])},render:function(t,e){var i=n.create("DIV",this.className);return this._renderAxisArea(i,t,e),this.axisContainer=i,i},rerender:function(t,e){this.axisContainer.innerHTML="",t.dimension.width>0&&(e.options&&(this.options=e.options),this._renderAxisArea(this.axisContainer,t,e))},resize:function(t,e){this.rerender(t,e)},_renderTitleAreaStyle:function(t,e,i){var n=[s.concatStr("width:",e,"px")];i?(s.isIE7()?n.push(s.concatStr("right:","0px")):n.push(s.concatStr("right:",-e,"px")),n.push("top:0px")):(n.push("left:0px"),s.isOldBrowser()||n.push(s.concatStr("top:",e,"px"))),t.style.cssText+=";"+n.join(";")},_renderTitleArea:function(t){var e=s.renderTitle(t.title,t.theme,"tui-chart-title-area");return e&&t.isVertical&&this._renderTitleAreaStyle(e,t.size,t.isPositionRight),e},_renderTickArea:function(t){var e=this.data,i=e.tickCount,u=this.theme.tickColor,l=r.makeTickPixelPositions(t,i),h=n.create("DIV","tui-chart-tick-area"),c=e.isVertical?"bottom":"left",d=e.isVertical?e.isPositionRight?"borderLeftColor":"borderRightColor":"borderTopColor",p=a.tplAxisTick,m=tui.util.map(l,function(t,i){var n;return e.aligned&&e.labels[i]===o.EMPTY_AXIS_LABEL?"":(n=[s.concatStr("background-color:",u),s.concatStr(c,": ",t,"px")].join(";"),p({cssText:n}))},this).join("");return h.innerHTML=m,h.style[d]=u,h},_makeVerticalLabelCssText:function(t,e){return";width:"+(t-e+o.V_LABEL_RIGHT_PADDING)+"px"},_renderLabelArea:function(t,e,i,a){var u,l,h=r.makeTickPixelPositions(e,t.tickCount),c=h[1]-h[0],d="left",p=this._makeLabelCssTexts({isVertical:t.isVertical,isLabelAxis:t.isLabelAxis,labelSize:c}),m=n.create("DIV","tui-chart-label-area"),f=s.makeFontCssText(this.theme.label),_=t.labels;return t.isVertical?(d=t.isLabelAxis?"top":"bottom",l=this._getRenderedTitleHeight()+o.TITLE_AREA_WIDTH_PADDING,f+=this._makeVerticalLabelCssText(i,l)):t.isLabelAxis&&this.options.rotation===!1&&(_=this.dataProcessor.getMultilineCategories()),h.length=_.length,u=this._makeLabelsHtml({positions:h,labels:_,posType:d,cssTexts:p,labelSize:c,degree:a,theme:this.theme.label}),m.innerHTML=u,m.style.cssText=f,this._changeLabelAreaPosition({elLabelArea:m,isVertical:t.isVertical,isLabelAxis:t.isLabelAxis,theme:this.theme.label,labelSize:c,aligned:t.aligned}),m},_getRenderedTitleHeight:function(){var t=this.options.title,e=this.theme.title,i=t?s.getRenderedLabelHeight(t,e):0;return i},_makeLabelCssTexts:function(t){var e=[];return t.isVertical&&t.isLabelAxis?(e.push(s.concatStr("height:",t.labelSize,"px")),e.push(s.concatStr("line-height:",t.labelSize,"px"))):t.isVertical||e.push(s.concatStr("width:",t.labelSize,"px")),e},_calculateRotationMovingPosition:function(t){var e=t.moveLeft;return t.degree===o.ANGLE_85&&(e+=r.calculateAdjacent(o.ANGLE_90-t.degree,t.labelHeight/2)),{top:t.top,left:t.left-e}},_calculateRotationMovingPositionForIE8:function(t){var e=s.getRenderedLabelWidth(t.label,t.theme),i=r.calculateAdjacent(o.ANGLE_90-t.degree,t.labelHeight/2),n=2*(r.calculateAdjacent(t.degree,e/2)+i),a=e-n,u=t.labelWidth/2-2*i;return t.degree===o.ANGLE_85&&(u+=i),{top:o.XAXIS_LABEL_TOP_MARGIN,left:t.left+a-u}},_makeCssTextForRotationMoving:function(t){var e;return e=s.isOldBrowser()?this._calculateRotationMovingPositionForIE8(t):this._calculateRotationMovingPosition(t),s.concatStr("left:",e.left,"px",";top:",e.top,"px")},_makeRotationLabelsHtml:function(t){var e=a.tplAxisLabel,i=s.getRenderedLabelHeight(t.labels[0],t.theme),n=t.cssTexts.length?t.cssTexts.join(";")+";":"",u=" tui-chart-xaxis-rotation tui-chart-xaxis-rotation"+t.degree,l=t.labelSize/2,h=r.calculateAdjacent(t.degree,l),c=r.calculateOpposite(t.degree,l)+o.XAXIS_LABEL_TOP_MARGIN,d=tui.util.map(t.positions,function(o,r){var s=t.labels[r],a=this._makeCssTextForRotationMoving({degree:t.degree,labelHeight:i,labelWidth:t.labelSize,top:c,left:o,moveLeft:h,label:s,theme:t.theme});return e({addClass:u,cssText:n+a,label:s})},this).join("");return d},_makeNormalLabelsHtml:function(t){var e=a.tplAxisLabel,i=t.cssTexts.length?t.cssTexts.join(";")+";":"",n=tui.util.map(t.positions,function(n,o){var r=s.concatStr(t.posType,":",n,"px");return e({addClass:"",cssText:i+r,label:t.labels[o]})},this).join("");return n},_makeLabelsHtml:function(t){var e;return e=t.degree?this._makeRotationLabelsHtml(t):this._makeNormalLabelsHtml(t)},_changeLabelAreaPosition:function(t){var e;(!t.isLabelAxis||t.aligned)&&(t.isVertical?(e=s.getRenderedLabelHeight("ABC",t.theme),t.elLabelArea.style.top=s.concatStr(parseInt(e/2,10),"px")):t.elLabelArea.style.left=s.concatStr("-",parseInt(t.labelSize/2,10),"px"))}});e.exports=u},{"../const":15,"../helpers/calculator":28,"../helpers/domHandler":30,"../helpers/renderUtil":33,"./axisTemplate":2}],2:[function(t,e,i){var n=t("../helpers/templateMaker"),o={HTML_AXIS_TICK:'<div class="tui-chart-tick" style="{{ cssText }}"></div>',HTML_AXIS_LABEL:'<div class="tui-chart-label{{ addClass }}" style="{{ cssText }}"><span>{{ label }}</span></div>'};e.exports={tplAxisTick:n.template(o.HTML_AXIS_TICK),tplAxisLabel:n.template(o.HTML_AXIS_LABEL)}},{"../helpers/templateMaker":34}],3:[function(t,e,i){"use strict";var n,o=t("./const"),r=t("./factories/chartFactory"),s=t("./factories/pluginFactory"),a=t("./factories/themeFactory");t("./polyfill"),t("./code-snippet-util"),t("./registerCharts"),t("./registerThemes"),tui.util.defineNamespace("tui.chart"),n=function(t,e,i){var n,s,u;return i=i||{},n=i.theme||o.DEFAULT_THEME_NAME,s=a.get(n),u=r.get(i.chartType,e,s,i),t.appendChild(u.render()),u.animateChart(),u},tui.chart.barChart=function(t,e,i){return i=i||{},i.chartType=o.CHART_TYPE_BAR,n(t,e,i)},tui.chart.columnChart=function(t,e,i){return i=i||{},i.chartType=o.CHART_TYPE_COLUMN,n(t,e,i)},tui.chart.lineChart=function(t,e,i){return i=i||{},i.chartType=o.CHART_TYPE_LINE,n(t,e,i)},tui.chart.areaChart=function(t,e,i){return i=i||{},i.chartType=o.CHART_TYPE_AREA,n(t,e,i)},tui.chart.comboChart=function(t,e,i){return i=i||{},i.chartType=o.CHART_TYPE_COMBO,n(t,e,i)},tui.chart.pieChart=function(t,e,i){return i=i||{},i.chartType=o.CHART_TYPE_PIE,n(t,e,i)},tui.chart.registerTheme=function(t,e){a.register(t,e)},tui.chart.registerPlugin=function(t,e){s.register(t,e)}},{"./code-snippet-util":14,"./const":15,"./factories/chartFactory":23,"./factories/pluginFactory":24,"./factories/themeFactory":25,"./polyfill":48,"./registerCharts":49,"./registerThemes":50}],4:[function(t,e,i){"use strict";var n=t("./chartBase"),o=t("./lineTypeMixer"),r=t("./axisTypeMixer"),s=t("./verticalTypeMixer"),a=t("../series/areaChartSeries"),u=tui.util.defineClass(n,{className:"tui-area-chart",Series:a,init:function(){this._lineTypeInit.apply(this,arguments)}});r.mixin(u),s.mixin(u),o.mixin(u),e.exports=u},{"../series/areaChartSeries":51,"./axisTypeMixer":5,"./chartBase":7,"./lineTypeMixer":11,"./verticalTypeMixer":13}],5:[function(t,e,i){"use strict";var n=t("../helpers/renderUtil"),o=t("./chartBase"),r=t("../axes/axis"),s=t("../plots/plot"),a=t("../legends/legend"),u=t("../customEvents/groupTypeCustomEvent"),l=t("../customEvents/pointTypeCustomEvent"),h=t("../tooltips/tooltip"),c=t("../tooltips/groupTooltip"),d={_addAxisComponents:function(t,e){tui.util.forEach(t,function(t){var i={aligned:e};"rightYAxis"===t&&(i.componentType="yAxis",i.index=1),this._addComponent(t,r,i)},this)},_addSeriesComponents:function(t,e){var i={libType:e.libType,chartType:e.chartType,userEvent:this.userEvent,componentType:"series"};tui.util.forEach(t,function(t){var e=tui.util.extend(i,t.data);this._addComponent(t.name,t.SeriesClass,e)},this)},_addTooltipComponent:function(){var t=this.hasGroupTooltip?c:h;this._addComponent("tooltip",t,this._makeTooltipData())},_addLegendComponent:function(t,e,i){i&&i.hidden||this._addComponent("legend",a,{chartTypes:t,chartType:e,userEvent:this.userEvent})},_addComponentsForAxisType:function(t){var e=this.options,i=!!t.aligned;this._addComponent("plot",s),this._addAxisComponents(t.axes,i),this._addLegendComponent(t.seriesChartTypes,t.chartType,this.options.legend),this._addSeriesComponents(t.serieses,e),this._addTooltipComponent(e.chartType)},_getLimitMap:function(t,e,i){var n={},o=t.yAxis.limit;return n[e[0]]=i?o:t.xAxis.limit,e.length>1&&(n[e[1]]=t.rightYAxis?t.rightYAxis.limit:o),n},_makeSeriesDataForRendering:function(t,e,i){var n=this._getLimitMap(t,e,i),o=t.xAxis.aligned,r={};return tui.util.forEachArray(e,function(t){r[t+"Series"]={limit:n[t],aligned:o}}),r},_makeRenderingData:function(t){var e,i,n;return e=this._makeAxesData(t),i=this.chartTypes||[this.chartType],n=this._makeSeriesDataForRendering(e,i,this.isVertical),tui.util.extend({plot:{vTickCount:e.yAxis.validTickCount,hTickCount:e.xAxis.validTickCount},customEvent:{tickCount:this.isVertical?e.xAxis.tickCount:e.yAxis.tickCount},tooltip:{chartDimension:t.chart.dimension}},n,e)},_addCustomEventComponentForGroupTooltip:function(){this._addComponent("customEvent",u,{chartType:this.chartType,isVertical:this.isVertical})},_addCustomEventComponentForNormalTooltip:function(){this._addComponent("customEvent",l,{chartType:this.chartType,isVertical:this.isVertical})},_addCustomEventComponent:function(){this.hasGroupTooltip?this._addCustomEventComponentForGroupTooltip():this._addCustomEventComponentForNormalTooltip()},_attachCustomEventForGroupTooltip:function(){var t=this.componentMap.customEvent,e=this.componentMap.tooltip,i=tui.util.filter(this.componentMap,function(t){return"series"===t.componentType});t.on("showGroupTooltip",e.onShow,e),t.on("hideGroupTooltip",e.onHide,e),tui.util.forEach(i,function(t){t.onShowGroupTooltipLine&&(e.on("showGroupTooltipLine",t.onShowGroupTooltipLine,t),e.on("hideGroupTooltipLine",t.onHideGroupTooltipLine,t)),e.on("showGroupAnimation",t.onShowGroupAnimation,t),e.on("hideGroupAnimation",t.onHideGroupAnimation,t)},this)},_attachCustomEventForNormalTooltip:function(){var t=this.componentMap.customEvent,e=this.componentMap.tooltip,i=tui.util.filter(this.componentMap,function(t){return"series"===t.componentType});t.on("showTooltip",e.onShow,e),t.on("hideTooltip",e.onHide,e),tui.util.forEach(i,function(t){t.onShowAnimation&&(e.on(n.makeCustomEventName("show",t.chartType,"animation"),t.onShowAnimation,t),e.on(n.makeCustomEventName("hide",t.chartType,"animation"),t.onHideAnimation,t))},this)},_attachCustomEventForSeriesSelection:function(){var t=this.componentMap.customEvent,e=tui.util.filter(this.componentMap,function(t){return"series"===t.componentType});tui.util.forEach(e,function(e){t.on(n.makeCustomEventName("select",e.chartType,"series"),e.onSelectSeries,e),t.on(n.makeCustomEventName("unselect",e.chartType,"series"),e.onUnselectSeries,e)},this)},_attachCustomEvent:function(){o.prototype._attachCustomEvent.call(this),this.hasGroupTooltip?this._attachCustomEventForGroupTooltip():this._attachCustomEventForNormalTooltip(),this._attachCustomEventForSeriesSelection()},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=d},{"../axes/axis":1,"../customEvents/groupTypeCustomEvent":19,"../customEvents/pointTypeCustomEvent":20,"../helpers/renderUtil":33,"../legends/legend":36,"../plots/plot":39,"../tooltips/groupTooltip":61,"../tooltips/tooltip":63,"./chartBase":7}],6:[function(t,e,i){"use strict";var n=t("./chartBase"),o=t("./axisTypeMixer"),r=t("../helpers/axisDataMaker"),s=t("../series/barChartSeries"),a=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-bar-chart",n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0}),this._addComponents(i.chartType)},_makeAxesData:function(t){var e=this.options,i=r.makeValueAxisData({values:this.dataProcessor.getGroupValues(),seriesDimension:t.series.dimension,stacked:e.series&&e.series.stacked||"",chartType:e.chartType,formatFunctions:this.dataProcessor.getFormatFunctions(),options:e.xAxis}),n=r.makeLabelAxisData({labels:this.dataProcessor.getCategories(),isVertical:!0});return{xAxis:i,yAxis:n}},_addComponents:function(t){this._addComponentsForAxisType({axes:["yAxis","xAxis"],chartType:t,serieses:[{name:"barSeries",SeriesClass:s}]})}});o.mixin(a),e.exports=a},{"../helpers/axisDataMaker":26,"../series/barChartSeries":52,"./axisTypeMixer":5,"./chartBase":7}],7:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),o=t("../helpers/renderUtil"),r=t("../helpers/dataProcessor"),s=t("../helpers/boundsMaker"),a=t("../helpers/userEventListener"),u=tui.util.defineClass({init:function(t){this.dataProcessor=this._createDataProcessor(t),this.orgWholeLegendData=this.dataProcessor.getWholeLegendData(),this.components=[],this.componentMap={},this.rawData=t.rawData,this.theme=t.theme,this.options=t.options,this.hasAxes=t.hasAxes,this.isVertical=!!t.isVertical,this.hasGroupTooltip=t.options.tooltip&&t.options.tooltip.grouped,this.userEvent=new a,this.chartType=this.options.chartType,this._addCustomEventComponent()},_createDataProcessor:function(t){var e=new r(t.rawData),i=t.options;return e.process(t.rawData,i,t.seriesChartTypes),e},_makeTooltipData:function(){return{isVertical:this.isVertical,userEvent:this.userEvent,chartType:this.chartType}},_addCustomEventComponent:function(){},_addComponent:function(t,e,i){var n,o,r,s,a,u={};i=i||{},a=i.componentType||t,n=i.options||this.options[a],r=i.theme||this.theme[a],o=i.index||0,u.theme=tui.util.isArray(r)?r[o]:r,u.options=tui.util.isArray(n)?n[o]:n||{},u.dataProcessor=this.dataProcessor,i=tui.util.extend(i,u),s=new e(i),this.components.push({name:t,componentType:a,instance:s}),this.componentMap[t]=s},_makeBounds:function(t){return s.make(this.dataProcessor,tui.util.extend({theme:this.theme,options:this.options,hasAxes:this.hasAxes,isVertical:this.isVertical,chartType:this.chartType},t))},_makeRenderingData:function(){},_attachCustomEvent:function(){var t=this.componentMap.legend,e=tui.util.filter(this.componentMap,function(t){return"series"===t.componentType});t&&(t.on("changeCheckedLegends",this.onChangeCheckedLegends,this),tui.util.forEach(e,function(e){t.on(o.makeCustomEventName("select",e.chartType,"legend"),e.onSelectLegend,e)},this))},render:function(t){var e,i,r=n.create("DIV",this.className);return n.addClass(r,"tui-chart"),e=this._makeBounds(t),i=this._makeRenderingData(e),this._renderTitle(r),o.renderDimension(r,e.chart.dimension),o.renderBackground(r,this.theme.chart.background),o.renderFontFamily(r,this.theme.chart.fontFamily),this._renderComponents(e,i,"render",r),this._sendSeriesData(),this._attachCustomEvent(),this.chartContainer=r,r},_filterRawData:function(t,e){var i=JSON.parse(JSON.stringify(t));return tui.util.isArray(i.series)?i.series=tui.util.filter(i.series,function(t,i){return e[i]}):tui.util.forEach(i.series,function(t,n){e[n]?e[n].length&&(i.series[n]=tui.util.filter(t,function(t,i){return e[n][i]})):i.series[n]=[]}),i},_makeRerenderingData:function(t,e){var i=this._makeTooltipData(),n=tui.util.filter(this.componentMap,function(t){return"series"===t.componentType});return t.tooltip=tui.util.extend({checkedLegends:e},i,t.tooltip),tui.util.forEach(n,function(i,n){t[n]=tui.util.extend({checkedLegends:e[i.chartType]||e},t[n])}),t},_rerender:function(t,e,i){var n,o,r;e=e||this._filterRawData(this.dataProcessor.getRawData(),t),this.dataProcessor.process(e,this.options,this.seriesChartTypes),n=this.dataProcessor.getWholeLegendData(),this.dataProcessor.setWholeLegendData(this.orgWholeLegendData),o=this._makeBounds(i),this.dataProcessor.setWholeLegendData(n),r=this._makeRenderingData(o),r=this._makeRerenderingData(r,t),this._renderComponents(o,r,"rerender"),this._sendSeriesData(i)},onChangeCheckedLegends:function(t,e,i){this._rerender(t,e,i)},_renderTitle:function(t){var e=this.options.chart||{},i=o.renderTitle(e.title,this.theme.title,"tui-chart-title");n.append(t,i)},_renderComponents:function(t,e,i,o){var r=tui.util.map(this.components,function(n){var o=t[n.name]||t[n.componentType],r=e[n.name],s=null;return o&&n.instance[i]&&(s=n.instance[i](o,r)),s},this);o&&n.append(o,r)},_sendSeriesData:function(){var t,e;this.componentMap.customEvent&&(e=this.chartTypes||[this.chartType],t=tui.util.map(e,function(t){var e=this.componentMap[t+"Series"]||this.componentMap.series;return{chartType:t,data:e.getSeriesData()}},this),this.componentMap.customEvent.initCustomEventData(t))},_makeAnimationEventName:function(t,e){return e+t.substring(0,1).toUpperCase()+t.substring(1)+"Animation"},animateChart:function(){tui.util.forEachArray(this.components,function(t){t.instance.animateComponent&&t.instance.animateComponent()})},on:function(t,e){this.userEvent.register(t,e)},_updateDimension:function(t){var e=!1;return t.width&&(this.options.chart.width=t.width,e=!0),t.height&&(this.options.chart.height=t.height,e=!0),e},resize:function(t){var e,i,n;t&&(e=this._updateDimension(t),e&&(i=this._makeBounds(),n=this._makeRenderingData(i),o.renderDimension(this.chartContainer,i.chart.dimension),this._renderComponents(i,n,"resize"),this._sendSeriesData()))},setTooltipAlign:function(t){this.componentMap.tooltip.setAlign(t)},setTooltipPosition:function(t){this.componentMap.tooltip.setPosition(t)},resetTooltipAlign:function(){this.componentMap.tooltip.resetAlign()},resetTooltipPosition:function(){this.componentMap.tooltip.resetPosition()}});e.exports=u},{"../helpers/boundsMaker":27,"../helpers/dataProcessor":29,"../helpers/domHandler":30,"../helpers/renderUtil":33,"../helpers/userEventListener":35}],8:[function(t,e,i){"use strict";var n=t("./chartBase"),o=t("./axisTypeMixer"),r=t("./verticalTypeMixer"),s=t("../series/columnChartSeries"),a=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-column-chart",n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0}),this._addComponents(i.chartType)},_addComponents:function(t){this._addComponentsForAxisType({axes:["yAxis","xAxis"],chartType:t,serieses:[{name:"columnSeries",SeriesClass:s,data:{allowNegativeTooltip:!0}}]})}});o.mixin(a),r.mixin(a),e.exports=a},{"../series/columnChartSeries":54,"./axisTypeMixer":5,"./chartBase":7,"./verticalTypeMixer":13}],9:[function(t,e,i){"use strict";var n=t("../helpers/calculator"),o=t("./chartBase"),r=t("./axisTypeMixer"),s=t("../helpers/axisDataMaker"),a=t("../themes/defaultTheme"),u=t("../series/columnChartSeries"),l=t("../series/lineChartSeries"),h=tui.util.defineClass(o,{init:function(t,e,i){var n;this.className="tui-combo-chart",n=this._makeChartTypesMap(t.series,i.yAxis),tui.util.extend(this,n),o.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0,seriesChartTypes:n.seriesChartTypes}),this.yAxisOptionsMap=this._makeYAxisOptionsMap(n.chartTypes,i.yAxis),this._addComponents(n)},_makeYAxisOptionsMap:function(t,e){var i={};return e=e||{},tui.util.forEachArray(t,function(t,n){i[t]=e[n]||e}),i},_makeChartTypesMap:function(t,e){var i,n=tui.util.keys(t).sort(),o=this._getYAxisOptionChartTypes(n,e),r=o.length?o:n,s=tui.util.filter(o,function(e){return t[e].length});return i=1===s.length?{chartTypes:s,seriesChartTypes:s,optionChartTypes:o.length?s:o}:{chartTypes:r,seriesChartTypes:n,optionChartTypes:o}},_makeOptionsMap:function(t){var e={};return tui.util.forEachArray(t,function(t){e[t]=this.options.series&&this.options.series[t]},this),e},_makeThemeMap:function(t){var e=this.theme,i={},n=0;return tui.util.forEachArray(t,function(t){var o,r=JSON.parse(JSON.stringify(e));r.series[t]?i[t]=r.series[t]:r.series.colors?(o=r.series.colors.splice(0,n),r.series.colors=r.series.colors.concat(o),i[t]=r.series,n+=this.dataProcessor.getLegendLabels(t).length):(i[t]=JSON.parse(JSON.stringify(a.series)),i[t].label.fontFamily=r.chart.fontFamily)},this),i},_makeSerieses:function(t){var e,i={column:u,line:l},n=this._makeOptionsMap(t),o=this._makeThemeMap(t);return e=tui.util.map(t,function(t){var e={allowNegativeTooltip:!0,componentType:"series",chartType:t,options:n[t],theme:o[t]};return{name:t+"Series",SeriesClass:i[t],data:e}})},_addComponents:function(t){var e=["yAxis","xAxis"],i=this._makeSerieses(t.seriesChartTypes);t.optionChartTypes.length&&e.push("rightYAxis"),this._addComponentsForAxisType({axes:e,seriesChartTypes:t.seriesChartTypes,chartType:this.options.chartType,serieses:i})},_getYAxisOptionChartTypes:function(t,e){var i,n=t.slice(),o=!1;return e=e?[].concat(e):[],1!==e.length||e[0].chartType?e.length&&(i=tui.util.map(e,function(t){return t.chartType}),tui.util.forEachArray(i,function(t,e){o=o||t&&n[e]!==t||!1}),o&&n.reverse()):n=[],n},_makeYAxisData:function(t){var e,i,n,o=t.index,r=t.chartTypes[o],a=t.options,u=this.yAxisOptionsMap[r];return r?(e=t.isOneYAxis?this.dataProcessor.getWholeGroupValues():this.dataProcessor.getGroupValues(r),i=a.series&&a.series[r]||a.series,n=s.makeValueAxisData(tui.util.extend({values:e,stacked:i&&i.stacked||"",options:u,chartType:r,seriesDimension:t.seriesDimension,formatFunctions:this.dataProcessor.getFormatFunctions(),isVertical:!0},t.addParams)),n.options=u,n):{}},_makeAxesData:function(t){var e,i,n=this.options,o=this.dataProcessor.getFormatFunctions(),r={seriesDimension:t.series.dimension,chartTypes:this.chartTypes,isOneYAxis:!this.optionChartTypes.length,options:n},a=s.makeLabelAxisData({labels:this.dataProcessor.getCategories()}),u=this._makeYAxisData(tui.util.extend({index:0},r));return e={yAxis:u,xAxis:a},r.isOneYAxis||(i=this._makeYAxisData(tui.util.extend({index:1,addParams:{isPositionRight:!0}},r)),u.tickCount<i.tickCount?this._increaseYAxisTickCount(i.tickCount-u.tickCount,u,o):u.tickCount>i.tickCount&&this._increaseYAxisTickCount(u.tickCount-i.tickCount,i,o),i.aligned=a.aligned,e.rightYAxis=i),e},_increaseYAxisTickCount:function(t,e,i){e.limit.max+=e.step*t,e.labels=s.formatLabels(n.makeLabelsFromLimit(e.limit,e.step),i),e.tickCount+=t,e.validTickCount+=t},render:function(){return o.prototype.render.call(this,{optionChartTypes:this.optionChartTypes})},onChangeCheckedLegends:function(t){var e=this._filterRawData(this.rawData,t),i=this._makeChartTypesMap(e.series,this.options.yAxis);tui.util.extend(this,i),o.prototype.onChangeCheckedLegends.call(this,t,e,i)}});r.mixin(h),e.exports=h},{"../helpers/axisDataMaker":26,"../helpers/calculator":28,"../series/columnChartSeries":54,"../series/lineChartSeries":55,"../themes/defaultTheme":60,"./axisTypeMixer":5,"./chartBase":7}],10:[function(t,e,i){"use strict";var n=t("./chartBase"),o=t("./lineTypeMixer"),r=t("./axisTypeMixer"),s=t("./verticalTypeMixer"),a=t("../series/lineChartSeries"),u=tui.util.defineClass(n,{className:"tui-line-chart",Series:a,init:function(){this._lineTypeInit.apply(this,arguments)}});r.mixin(u),s.mixin(u),o.mixin(u),e.exports=u},{"../series/lineChartSeries":55,"./axisTypeMixer":5,"./chartBase":7,"./lineTypeMixer":11,"./verticalTypeMixer":13}],11:[function(t,e,i){"use strict";var n=t("./chartBase"),o=t("../customEvents/areaTypeCustomEvent"),r={_lineTypeInit:function(t,e,i){n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0}),this._addComponents(i.chartType)},_addCustomEventComponentForNormalTooltip:function(){this._addComponent("customEvent",o,{chartType:this.chartType,isVertical:this.isVertical})},_addComponents:function(t){this._addComponentsForAxisType({axes:["yAxis","xAxis"],chartType:t,serieses:[{name:this.options.chartType+"Series",SeriesClass:this.Series}]})},render:function(){return n.prototype.render.apply(this,arguments)},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=r},{"../customEvents/areaTypeCustomEvent":16,"./chartBase":7}],12:[function(t,e,i){"use strict";var n=t("./chartBase"),o=t("../const"),r=t("../helpers/predicate"),s=t("../helpers/renderUtil"),a=t("../legends/legend"),u=t("../tooltips/tooltip"),l=t("../series/pieChartSeries"),h=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-pie-chart",i.tooltip=i.tooltip||{},i.tooltip.align||(i.tooltip.align=o.TOOLTIP_DEFAULT_ALIGN_OPTION),n.call(this,{rawData:t,theme:e,options:i}),this._addComponents(e.chart.background,i)},_addComponents:function(t,e){var i,n;e.legend=e.legend||{},i=e.legend&&e.legend.align,n=r.isPieLegendAlign(i),n||e.legend.hidden||this._addComponent("legend",a,{chartType:e.chartType,userEvent:this.userEvent}),this._addComponent("tooltip",u,this._makeTooltipData()),this._addComponent("pieSeries",l,{libType:e.libType,chartType:e.chartType,componentType:"series",chartBackground:t,userEvent:this.userEvent,legendAlign:n&&!e.legend.hidden?i:null})},_makeRenderingData:function(t){return{tooltip:{seriesPosition:t.series.position,chartDimension:t.chart.dimension},pieSeries:{chartWidth:t.chart.dimension.width}}},_attachCustomEvent:function(){var t,e;n.prototype._attachCustomEvent.call(this),t=this.componentMap.tooltip,e=tui.util.filter(this.componentMap,function(t){return"series"===t.componentType}),tui.util.forEach(e,function(e){e.on("showTooltip",t.onShow,t),e.on("hideTooltip",t.onHide,t),e.onShowAnimation&&(t.on(s.makeCustomEventName("show",e.chartType,"animation"),e.onShowAnimation,e),t.on(s.makeCustomEventName("hide",e.chartType,"animation"),e.onHideAnimation,e))},this)}});e.exports=h},{"../const":15,"../helpers/predicate":32,"../helpers/renderUtil":33,"../legends/legend":36,"../series/pieChartSeries":57,"../tooltips/tooltip":63,"./chartBase":7}],13:[function(t,e,i){"use strict";var n=t("../helpers/axisDataMaker"),o=t("../helpers/predicate"),r={_makeAxesData:function(t){var e=this.options,i=o.isLineTypeChart(e.chartType),r=n.makeLabelAxisData({labels:this.dataProcessor.getCategories(),aligned:i,options:e.xAxis}),s=n.makeValueAxisData({values:this.dataProcessor.getGroupValues(),seriesDimension:t.series.dimension,stacked:e.series&&e.series.stacked||"",chartType:e.chartType,formatFunctions:this.dataProcessor.getFormatFunctions(),options:e.yAxis,isVertical:!0,aligned:i});return{xAxis:r,yAxis:s}},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=r},{"../helpers/axisDataMaker":26,"../helpers/predicate":32}],14:[function(t,e,i){"use strict";function n(t,e){function i(){o=v.call(arguments),window.clearTimeout(n),n=window.setTimeout(function(){t.apply(null,o)},e)}var n,o;return e=e||0,i}function o(t,e){function i(){return a=v.call(arguments),l?(h(a),void(l=!1)):(s=u(),o=o||s,r(a),void(s-o>=e&&h(a)))}function n(){l=!0,o=null}var o,r,s,a,u=tui.util.timestamp,l=!0,h=function(e){t.apply(null,e),o=null};return e=e||0,r=tui.util.debounce(h,e),i.reset=n,i}var r=function(t,e,i){var n,o,r;return e||(e=function(t){return t}),n=t[0],o=e.call(i,n),r=t.slice(1),tui.util.forEachArray(r,function(t){var r=e.call(i,t);o>r&&(o=r,n=t)}),n},s=function(t,e,i){var n,o,r;return e||(e=function(t){return t}),n=t[0],o=e.call(i,n),r=t.slice(1),tui.util.forEachArray(r,function(t){var r=e.call(i,t);r>o&&(o=r,n=t)}),n},a=function(t,e){var i=!1;return tui.util.forEachArray(t,function(t){return e(t)?(i=!0,!1):void 0}),i},u=function(t,e){var i=!0;return tui.util.forEachArray(t,function(t){return e(t)?void 0:(i=!1,!1)}),i},l=function(t){var e=[];return tui.util.forEachArray(t,function(t){tui.util.forEachArray(t,function(t,i){e[i]||(e[i]=[]),e[i].push(t)})}),e},h=function(t){var e=(t+"").split(".");return 2===e.length?e[1].length:0},c=function(){var t=[].slice.call(arguments),e=tui.util.map(t,function(t){return tui.util.lengthAfterPoint(t)}),i=tui.util.max(e),n=Math.pow(10,i);return n},d=function(t,e){var i=tui.util.findMultipleNum(e);return t*i%(e*i)/i},p=function(t,e){var i=c(t,e);return(t*i+e*i)/i},m=function(t,e){var i=c(t,e);return(t*i-e*i)/i},f=function(t,e){var i=c(t,e);return t*i*(e*i)/(i*i)},_=function(t,e){var i=c(t,e);return t*i/(e*i)},g=function(t){var e=t.slice();return e.unshift(0),tui.util.reduce(e,function(t,e){return parseFloat(t)+parseFloat(e)})},T=function(t){return t.substring(0,1).toUpperCase()+t.substring(1)};tui.util.min=r,tui.util.max=s,tui.util.any=a,tui.util.all=u,tui.util.pivot=l,tui.util.lengthAfterPoint=h,tui.util.mod=d,tui.util.findMultipleNum=c,tui.util.addition=p,tui.util.subtraction=m,tui.util.multiplication=f,tui.util.division=_,tui.util.sum=g,tui.util.properCase=T;var v=Array.prototype.slice;tui.util.debounce=n,tui.util.throttle=o},{}],15:[function(t,e,i){var n={CLASS_NAME_LEGEND_LABEL:"tui-chart-legend-label",CLASS_NAME_LEGEND_CHECKBOX:"tui-chart-legend-checkbox",CLASS_NAME_SERIES_LABEL:"tui-chart-series-label",CLASS_NAME_SERIES_LEGEND:"tui-chart-series-legend",CHART_TYPE_BAR:"bar",CHART_TYPE_COLUMN:"column",CHART_TYPE_LINE:"line",CHART_TYPE_AREA:"area",CHART_TYPE_COMBO:"combo",CHART_TYPE_PIE:"pie",CHART_PADDING:10,CHART_DEFAULT_WIDTH:500,CHART_DEFAULT_HEIGHT:400,HIDDEN_WIDTH:1,TEXT_PADDING:2,SERIES_EXPAND_SIZE:10,SERIES_LABEL_PADDING:5,DEFAULT_TITLE_FONT_SIZE:14,DEFAULT_AXIS_TITLE_FONT_SIZE:10,DEFAULT_LABEL_FONT_SIZE:12,DEFAULT_SERIES_LABEL_FONT_SIZE:11,DEFAULT_PLUGIN:"raphael",DEFAULT_TICK_COLOR:"black",DEFAULT_THEME_NAME:"default",STACKED_NORMAL_TYPE:"normal",STACKED_PERCENT_TYPE:"percent",EMPTY_AXIS_LABEL:"",ANGLE_85:85,ANGLE_90:90,ANGLE_360:360,RAD:Math.PI/180,LEGEND_ALIGN_OUTER:"outer",LEGEND_ALIGN_CENTER:"center",LEGEND_ALIGN_TOP:"top",LEGEND_ALIGN_BOTTOM:"bottom",LEGEND_ALIGN_LEFT:"left",SERIES_OUTER_LABEL_PADDING:20,PIE_GRAPH_DEFAULT_RATE:.8,PIE_GRAPH_SMALL_RATE:.65,DOT_RADIUS:4,YAXIS_PROPS:["tickColor","title","label"],SERIES_PROPS:["label","colors","borderColor","singleColors","selectionColor"],TITLE_AREA_WIDTH_PADDING:20,XAXIS_LABEL_TOP_MARGIN:10,V_LABEL_RIGHT_PADDING:10,TOOLTIP_PREFIX:"tui-chart-tooltip",MIN_PIXEL_TYPE_STEP_SIZE:40,MAX_PIXEL_TYPE_STEP_SIZE:60,PERCENT_STACKED_TICK_INFO:{limit:{min:0,max:100},step:25,tickCount:5,labels:[0,25,50,75,100]},NEGATIVE_PERCENT_STACKED_TICK_INFO:{limit:{min:-100,max:100},step:25,tickCount:9,labels:[-100,-75,-50,-25,0,25,50,75,100]},TITLE_PADDING:20,LEGEND_AREA_PADDING:10,LEGEND_CHECKBOX_WIDTH:20,LEGEND_RECT_WIDTH:12,LEGEND_LABEL_LEFT_PADDING:5,AXIS_LABEL_PADDING:7,DEGREE_CANDIDATES:[25,45,65,85],XAXIS_LABEL_COMPARE_MARGIN:20,XAXIS_LABEL_GUTTER:2,AXIS_STANDARD_MULTIPLE_NUMS:[1,2,5,10],LABEL_PADDING_TOP:2,LINE_MARGIN_TOP:5,TOOLTIP_GAP:5,TOOLTIP_DIRECTION_FORWARD:"forword",TOOLTIP_DIRECTION_CENTER:"center",TOOLTIP_DIRECTION_BACKWARD:"backword",TOOLTIP_DEFAULT_ALIGN_OPTION:"center top",TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION:"center bottom",HIDE_DELAY:200};e.exports=n},{}],16:[function(t,e,i){"use strict";var n=t("./customEventBase"),o=t("./areaTypeDataModel"),r=t("../const"),s=tui.util.defineClass(n,{init:function(t){n.call(this,t),this.prevFoundData=null},initCustomEventData:function(t){var e=t[0];this.dataModel=new o(e),n.prototype.initCustomEventData.call(this,t)},_onMousemove:function(t){var e=t.target||t.srcElement,i=e.getBoundingClientRect(),n=t.clientX-r.SERIES_EXPAND_SIZE-i.left,o=t.clientY-i.top,s=this.tickBaseDataModel.findIndex(n),a=this.dataModel.findData(s,o);this._isChanged(this.prevFoundData,a)&&(a?this.fire("showTooltip",a):this.prevFoundData&&this.fire("hideTooltip",this.prevFoundData),this.prevFoundData=a)},_onMouseout:function(){this.prevFoundData&&(this.fire("hideTooltip",this.prevFoundData),
this.prevFoundData=null)}});e.exports=s},{"../const":15,"./areaTypeDataModel":17,"./customEventBase":18}],17:[function(t,e,i){"use strict";var n=tui.util.defineClass({init:function(t){this.data=this._makeData(t.data.groupPositions,t.chartType)},_makeData:function(t,e){return t=tui.util.pivot(t),tui.util.map(t,function(t,i){return tui.util.map(t,function(t,n){return{chartType:e,indexes:{groupIndex:i,index:n},bound:t}})})},findData:function(t,e){var i=null,n=1e4;return tui.util.forEach(this.data[t],function(t){var o=Math.abs(e-t.bound.top);n>o&&(n=o,i=t)}),i}});e.exports=n},{}],18:[function(t,e,i){"use strict";var n=t("../helpers/eventListener"),o=t("./tickBaseDataModel"),r=t("./pointTypeDataModel"),s=t("../const"),a=t("../helpers/domHandler"),u=t("../helpers/renderUtil"),l=tui.util.defineClass({init:function(t){this.chartType=t.chartType,this.isVertical=t.isVertical,this.dataProcessor=t.dataProcessor},_renderCustomEventArea:function(t,e,i){var n;this.bound=e,this.tickBaseDataModel=new o(e.dimension,i.tickCount,this.chartType,this.isVertical),n=u.expandBound(e),u.renderDimension(t,n.dimension),u.renderPosition(t,n.position)},render:function(t,e){var i=a.create("DIV","tui-chart-series-custom-event-area");return this._renderCustomEventArea(i,t,e),this.attachEvent(i),this.customEventContainer=i,i},initCustomEventData:function(t){this.pointTypeDataModel=new r(t)},rerender:function(t,e){this._renderCustomEventArea(this.customEventContainer,t,e)},resize:function(t,e){this.rerender(t,e)},_isChanged:function(t,e){return!t||!e||t.chartType!==e.chartType||t.indexes.groupIndex!==e.indexes.groupIndex||t.indexes.index!==e.indexes.index},_findPointTypeData:function(t,e,i){var n=t.getBoundingClientRect(),o=e-n.left,r=i-n.top,a=this.tickBaseDataModel.findIndex(this.isVertical?o:r);return this.pointTypeDataModel.findData(a,o+s.SERIES_EXPAND_SIZE,r)},_unselectSelectedData:function(){var t=u.makeCustomEventName("unselect",this.selectedData.chartType,"series");this.fire(t,this.selectedData),delete this.selectedData},_onClick:function(t){var e=t.target||t.srcElement,i=t.clientX-s.SERIES_EXPAND_SIZE,n=this._findPointTypeData(e,i,t.clientY);this._isChanged(this.selectedData,n)?n&&(this.selectedData&&this._unselectSelectedData(),this.fire(u.makeCustomEventName("select",n.chartType,"series"),n),this.selectedData=n):this._unselectSelectedData()},_onMousemove:function(){},_onMouseout:function(){},attachEvent:function(t){n.bindEvent("click",t,tui.util.bind(this._onClick,this)),n.bindEvent("mousemove",t,tui.util.bind(this._onMousemove,this)),n.bindEvent("mouseout",t,tui.util.bind(this._onMouseout,this))}});tui.util.CustomEvents.mixin(l),e.exports=l},{"../const":15,"../helpers/domHandler":30,"../helpers/eventListener":31,"../helpers/renderUtil":33,"./pointTypeDataModel":21,"./tickBaseDataModel":22}],19:[function(t,e,i){"use strict";var n=t("./customEventBase"),o=t("../const"),r=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_isOutPosition:function(t,e){var i=this.bound.dimension;return 0>t||t>i.width||0>e||e>i.height},_onMousemove:function(t){var e=t.target||t.srcElement,i=e.getBoundingClientRect(),n=t.clientX-o.SERIES_EXPAND_SIZE-i.left,r=t.clientY-o.SERIES_EXPAND_SIZE-i.top,s=-1;this._isOutPosition(n,r)||(s=this.tickBaseDataModel.findIndex(this.isVertical?n:r)),-1===s?this._onMouseout():this.prevIndex!==s&&(this.prevIndex=s,this.fire("showGroupTooltip",{index:s,range:this.tickBaseDataModel.makeRange(s,this.chartType),size:this.bound.dimension[this.isVertical?"height":"width"],isVertical:this.isVertical}))},_onMouseout:function(){tui.util.isUndefined(this.prevIndex)||(this.fire("hideGroupTooltip",this.prevIndex),delete this.prevIndex)}});e.exports=r},{"../const":15,"./customEventBase":18}],20:[function(t,e,i){"use strict";var n=t("../const"),o=t("./customEventBase"),r=tui.util.defineClass(o,{init:function(){o.apply(this,arguments),this.prevFoundData=null},_onMousemove:function(t){var e=t.target||t.srcElement,i=t.clientX-n.SERIES_EXPAND_SIZE,o=this._findPointTypeData(e,i,t.clientY);this._isChanged(this.prevFoundData,o)&&(this.prevFoundData&&this.fire("hideTooltip",this.prevFoundData),o&&this.fire("showTooltip",o),this.prevFoundData=o)},_onMouseout:function(){this.prevFoundData&&(this.fire("hideTooltip",this.prevFoundData),this.prevFoundData=null)}});e.exports=r},{"../const":15,"./customEventBase":18}],21:[function(t,e,i){"use strict";var n=t("../const"),o=t("../helpers/predicate"),r=tui.util.defineClass({init:function(t){this.data=this._makeData(t)},_makeRectTypeCoordinateData:function(t,e){return tui.util.map(t,function(t,i){return tui.util.map(t,function(t,n){var o;return t?(o=t.end,{sendData:{chartType:e,indexes:{groupIndex:i,index:n},allowNegativeTooltip:!0,bound:o},bound:{left:o.left,top:o.top,right:o.left+o.width,bottom:o.top+o.height}}):null})})},_makeDotTypeCoordinateData:function(t,e){return t?tui.util.map(tui.util.pivot(t),function(t,i){return tui.util.map(t,function(t,o){return{sendData:{chartType:e,indexes:{groupIndex:i,index:o},bound:t},bound:{left:t.left-n.DOT_RADIUS,top:t.top-n.DOT_RADIUS,right:t.left+n.DOT_RADIUS,bottom:t.top+n.DOT_RADIUS}}})}):[]},_joinData:function(t){var e=[];return tui.util.forEachArray(t,function(t){tui.util.forEachArray(t,function(t,i){e[i]||(e[i]=[]),e[i]=e[i].concat(t)})}),e},_makeData:function(t){var e;return t.reverse(),e=tui.util.map(t,function(t){var e;return e=o.isLineTypeChart(t.chartType)?this._makeDotTypeCoordinateData(t.data.groupPositions,t.chartType):this._makeRectTypeCoordinateData(t.data.groupBounds,t.chartType)},this),this._joinData(e)},findData:function(t,e,i){var n,o=1e4,r=null;return-1===t?r:(n=tui.util.filter(this.data[t],function(t){var n=t&&t.bound;return n&&n.left<=e&&n.right>=e&&n.top<=i&&n.bottom>=i}),tui.util.forEachArray(n,function(t){var e=Math.abs(i-t.sendData.bound.top);o>e&&(o=e,r=t.sendData)}),r)}});e.exports=r},{"../const":15,"../helpers/predicate":32}],22:[function(t,e,i){"use strict";var n=t("../helpers/predicate"),o=tui.util.defineClass({init:function(t,e,i,n){this.data=this._makeData(t,e,i,n)},_makeLineTypeData:function(t,e){var i=(t+1)/(e-1),n=i/2,o=tui.util.map(tui.util.range(0,e),function(t){return{min:t*i-n,max:t*i+n}});return o[e-1].max-=1,o},_makeNormalData:function(t,e){var i=e-1,n=t/i,o=0;return tui.util.map(tui.util.range(0,i),function(e){var i=tui.util.min([t,(e+1)*n]),r={min:o,max:i};return o=i,r})},_makeData:function(t,e,i,o){var r,s=o?"width":"height";return r=n.isLineTypeChart(i)?this._makeLineTypeData(t[s],e):this._makeNormalData(t[s],e)},findIndex:function(t){var e=-1;return tui.util.forEachArray(this.data,function(i,n){return i.min<t&&i.max>=t?(e=n,!1):void 0}),e},getLength:function(){return this.data.length},makeRange:function(t,e){var i,o,r=this.data[t];return n.isLineTypeChart(e)?(o=parseInt(r.max-(r.max-r.min)/2,10),i={start:o,end:o}):i={start:r.min,end:r.max},i}});e.exports=o},{"../helpers/predicate":32}],23:[function(t,e,i){"use strict";var n={},o={get:function(t,e,i,o){var r,s=n[t];if(!s)throw new Error("Not exist "+t+" chart.");return r=new s(e,i,o)},register:function(t,e){n[t]=e}};e.exports=o},{}],24:[function(t,e,i){"use strict";var n={},o={get:function(t,e){var i,o,r=n[t];if(!r)throw new Error("Not exist "+t+" plugin.");if(i=r[e],!i)throw new Error("Not exist "+e+" chart renderer.");return o=new i},register:function(t,e){n[t]=e}};e.exports=o},{}],25:[function(t,e,i){"use strict";var n=t("../const"),o=t("../themes/defaultTheme"),r={};e.exports={get:function(t){var e=r[t];if(!e)throw new Error("Not exist "+t+" theme.");return e},register:function(t,e){var i;e=JSON.parse(JSON.stringify(e)),t!==n.DEFAULT_THEME_NAME&&(e=this._initTheme(e)),i=this._getInheritTargetThemeItems(e),this._inheritThemeFont(e,i),this._copyColorInfo(e),r[t]=e},_initTheme:function(t){var e,i=JSON.parse(JSON.stringify(o));return this._concatDefaultColors(t,i.series.colors),e=this._overwriteTheme(t,i),e=this._copyProperty({propName:"yAxis",fromTheme:t,toTheme:e,rejectionProps:n.YAXIS_PROPS}),e=this._copyProperty({propName:"series",fromTheme:t,toTheme:e,rejectionProps:n.SERIES_PROPS})},_filterChartTypes:function(t,e){var i;return t?i=tui.util.filter(t,function(t,i){return-1===tui.util.inArray(i,e)}):[]},_concatColors:function(t,e){t.colors&&(t.colors=t.colors.concat(e)),t.singleColors&&(t.singleColors=t.singleColors.concat(e))},_concatDefaultColors:function(t,e){var i;t.series&&(i=this._filterChartTypes(t.series,n.SERIES_PROPS),tui.util.keys(i).length?tui.util.forEach(i,function(t){this._concatColors(t,e)},this):this._concatColors(t.series,e))},_overwriteTheme:function(t,e){return tui.util.forEach(e,function(i,n){var o=t[n];o&&(tui.util.isArray(o)?e[n]=o.slice():tui.util.isObject(o)?this._overwriteTheme(o,i):e[n]=o)},this),e},_copyProperty:function(t){var e;return t.toTheme[t.propName]?(e=this._filterChartTypes(t.fromTheme[t.propName],t.rejectionProps),tui.util.keys(e).length&&(tui.util.forEach(e,function(e,i){var n=JSON.parse(JSON.stringify(o[t.propName]));t.fromTheme[t.propName][i]=this._overwriteTheme(e,n)},this),t.toTheme[t.propName]=t.fromTheme[t.propName]),t.toTheme):t.toTheme},_copyColorInfoToOther:function(t,e,i){e.colors=i||t.colors,t.singleColors&&(e.singleColors=t.singleColors),t.borderColor&&(e.borderColor=t.borderColor),t.selectionColor&&(e.selectionColor=t.selectionColor)},_getInheritTargetThemeItems:function(t){var e=[t.title,t.xAxis.title,t.xAxis.label,t.legend.label],i=this._filterChartTypes(t.yAxis,n.YAXIS_PROPS),o=this._filterChartTypes(t.series,n.SERIES_PROPS);return tui.util.keys(i).length?tui.util.forEach(i,function(t){e.push(t.title),e.push(t.label)}):(e.push(t.yAxis.title),e.push(t.yAxis.label)),tui.util.keys(o).length?tui.util.forEach(o,function(t){e.push(t.label)}):e.push(t.series.label),e},_inheritThemeFont:function(t,e){var i=t.chart.fontFamily;tui.util.forEachArray(e,function(t){t.fontFamily||(t.fontFamily=i)})},_copyColorInfo:function(t){var e=this._filterChartTypes(t.series,n.SERIES_PROPS);tui.util.keys(e).length?tui.util.forEach(e,function(e,i){t.legend[i]={},t.tooltip[i]={},this._copyColorInfoToOther(e,t.legend[i],e.colors||t.legend.colors),this._copyColorInfoToOther(e,t.tooltip[i],e.colors||t.tooltip.colors),delete t.legend.colors,delete t.tooltip.colors},this):(this._copyColorInfoToOther(t.series,t.legend),this._copyColorInfoToOther(t.series,t.tooltip))}}},{"../const":15,"../themes/defaultTheme":60}],26:[function(t,e,i){"use strict";var n=t("../const"),o=t("./predicate"),r=t("./calculator"),s=t("./renderUtil"),a=Math.abs,u=Array.prototype.concat,l={_makeLabels:function(t,e){var i;return e?(i=t.length-1,tui.util.map(t,function(t,o){return o>0&&i>o&&o%e>0&&(t=n.EMPTY_AXIS_LABEL),t})):t},makeLabelAxisData:function(t){var e=t.labels.length,i=t.options||{};return t.aligned||(e+=1),{labels:this._makeLabels(t.labels,i.labelInterval),tickCount:e,validTickCount:0,isLabelAxis:!0,isVertical:!!t.isVertical,aligned:!!t.aligned}},makeValueAxisData:function(t){var e,i=t.options||{},s=!!t.isVertical,a=!!t.isPositionRight,l=o.isAllowedStackedOption(t.chartType),h=t.formatFunctions;return l&&o.isPercentStacked(t.stacked)?(e=r.sumMinusValues(u.apply([],t.values))<0?n.NEGATIVE_PERCENT_STACKED_TICK_INFO:n.PERCENT_STACKED_TICK_INFO,h=[function(t){return t+"%"}]):e=this._getTickInfo({values:this._makeBaseValues(t.values,l,t.stacked),seriesDimension:t.seriesDimension,isVertical:s,isPositionRight:a,chartType:t.chartType},i),{labels:this.formatLabels(e.labels,h),tickCount:e.tickCount,validTickCount:e.tickCount,limit:e.limit,step:e.step,isVertical:s,isPositionRight:a,aligned:!!t.aligned}},_makeBaseValues:function(t,e,i){return e&&o.isNormalStacked(i)&&(t=tui.util.map(t,function(t){var e=r.sumPlusValues(t),i=r.sumMinusValues(t);return[e,i]},this)),u.apply([],t)},_getBaseSize:function(t,e){var i;return i=e?t.height:t.width},_getCandidateTickCounts:function(t,e){var i=this._getBaseSize(t,e),o=tui.util.max([3,parseInt(i/n.MAX_PIXEL_TYPE_STEP_SIZE,10)]),r=tui.util.max([o,parseInt(i/n.MIN_PIXEL_TYPE_STEP_SIZE,10)])+1,s=tui.util.range(o,r);return s},_getComparingValue:function(t,e,i){var n=a(i.limit.max-e),o=a(t-i.limit.min),r=Math.pow(10,tui.util.lengthAfterPoint(i.step));return(n+o)*r},_selectTickInfo:function(t,e,i){var n=tui.util.bind(this._getComparingValue,this,t,e),o=tui.util.min(i,n);return o},_getTickInfo:function(t,e){var i,n,o,r,s=tui.util.min(t.values),a=tui.util.max(t.values);return 0===s&&0===a&&(a=5),i=this._makeIntegerTypeInfo(s,a,e),n=t.tickCount?[t.tickCount]:this._getCandidateTickCounts(t.seriesDimension,t.isVertical),o=this._getCandidateTickInfos({min:i.min,max:i.max,tickCounts:n,chartType:t.chartType},i.options),r=this._selectTickInfo(i.min,i.max,o),r=this._revertOriginalTypeTickInfo(r,i.divideNum)},_makeIntegerTypeInfo:function(t,e,i){var n,o;return a(t)>=1||a(e)>=1?{min:t,max:e,options:i,divideNum:1}:(n=tui.util.findMultipleNum(t,e),o={},tui.util.isUndefined(i.min)||(o.min=i.min*n),tui.util.isUndefined(i.max)||(o.max=i.max*n),{min:t*n,max:e*n,options:o,divideNum:n})},_revertOriginalTypeTickInfo:function(t,e){return 1===e?t:(t.step=tui.util.division(t.step,e),t.limit.min=tui.util.division(t.limit.min,e),t.limit.max=tui.util.division(t.limit.max,e),t.labels=tui.util.map(t.labels,function(t){return tui.util.division(t,e)}),t)},_normalizeStep:function(t){return r.normalizeAxisNumber(t)},_minimizeTickLimit:function(t){var e,i=t.tickInfo,n=tui.util.range(1,i.tickCount),o=t.options,s=i.step,a=i.limit,u=a.max,l=a.min,h=tui.util.isUndefined(o.min),c=tui.util.isUndefined(o.max);return tui.util.forEachArray(n,function(e){var i=s*e,n=l+i,r=u-i;return t.userMin<=n&&t.userMax>=r?!1:((h&&t.userMin>n||!h&&o.min>=n)&&(a.min=n),void((h&&t.userMax<r||!c&&o.max<=r)&&(a.max=r)))}),e=r.makeLabelsFromLimit(a,s),i.labels=e,i.step=s,i.tickCount=e.length,i},_divideTickStep:function(t,e){var i=t.step,n=t.limit,o=t.tickCount;return i%2===0&&a(e-(2*o-1))<=a(e-o)&&(i/=2,t.labels=r.makeLabelsFromLimit(n,i),t.tickCount=t.labels.length,t.step=i),t},_makeTickInfo:function(t){var e,i,n=t.limit;return e=r.calculateStepFromLimit(n,t.tickCount),e=this._normalizeStep(e),n=this.normalizeLimit(n,e,t.tickCount),n.min=this._addMinPadding({min:n.min,step:e,userMin:t.userMin,minOption:t.options.min,chartType:t.chartType}),n.max=this._addMaxPadding({max:n.max,step:e,userMax:t.userMax,maxOption:t.options.max,chartType:t.chartType}),i=this._minimizeTickLimit({userMin:t.userMin,userMax:t.userMax,tickInfo:{limit:n,step:e,tickCount:t.tickCount},options:t.options}),i=this._divideTickStep(i,t.tickCount)},_addMinPadding:function(t){var e=t.min;return!o.isLineChart(t.chartType)&&t.userMin>=0||!tui.util.isUndefined(t.minOption)?e:(t.min===t.userMin&&(e-=t.step),e)},_addMaxPadding:function(t){var e=t.max;return!o.isLineChart(t.chartType)&&t.userMax<=0||!tui.util.isUndefined(t.maxOption)?e:(tui.util.isUndefined(t.maxOption)&&t.max===t.userMax&&(e+=t.step),e)},_normalizeMin:function(t,e){var i,n=tui.util.mod(t,e);return i=0===n?t:tui.util.subtraction(t,t>=0?n:e+n)},_makeNormalizedMax:function(t,e,i){var n,o,r=tui.util.multiplication(e,i-1),s=tui.util.addition(t.min,r),a=t.max-s;return a>0&&(n=a%e,o=Math.floor(a/e),s+=e*(n>0?o+1:o)),s},normalizeLimit:function(t,e,i){return t.min=this._normalizeMin(t.min,e),t.max=this._makeNormalizedMax(t,e,i),t},_getCandidateTickInfos:function(t,e){var i,n,o=t.min,r=t.max,s=t.min,a=t.max;return i=this._makeBaseLimit(s,a,e),n=tui.util.map(t.tickCounts,function(n){return this._makeTickInfo({tickCount:n,limit:tui.util.extend({},i),userMin:o,userMax:r,chartType:t.chartType,options:e})},this)},_makeBaseLimit:function(t,e,i){var n,o,s=!1;return t===e?(t>0?t=0:e=0,{min:t,max:e}):(0>t&&0>=e&&(s=!0,n=t,t=-e,e=-n),o=r.calculateLimit(t,e),s&&(n=o.min,o.min=-o.max,o.max=-n),o.min=tui.util.isUndefined(i.min)?o.min:i.min,o.max=tui.util.isUndefined(i.max)?o.max:i.max,o)},formatLabels:function(t,e){var i;return e&&e.length?i=tui.util.map(t,function(t){return s.formatValue(t,e)}):t}};e.exports=l},{"../const":15,"./calculator":28,"./predicate":32,"./renderUtil":33}],27:[function(t,e,i){"use strict";var n=t("../const"),o=t("./calculator"),r=t("./predicate"),s=t("./renderUtil"),a=Array.prototype.concat,u={_getValueAxisMaxLabel:function(t){var e=r.isComboChart(t)?this.dataProcessor.getWholeGroupValues():this.dataProcessor.getGroupValues(t),i=this.dataProcessor.getFormatFunctions(),n=a.apply([],e),u=tui.util.min(n),l=tui.util.max(n),h=o.calculateLimit(u,l),c=o.normalizeAxisNumber(h.min),d=o.normalizeAxisNumber(h.max);return d=(c+"").length>(d+"").length?c:d,s.formatValue(d,i)},_getXAxisHeight:function(t,e,i){var o=t&&t.title,r=s.getRenderedLabelHeight(o,i.title)+n.TITLE_PADDING,a=s.getRenderedLabelsMaxHeight(e,i.label)+r;return a},_getYAxisWidth:function(t,e,i,o){var r,a,u="";return t&&(t=[].concat(t),u=t[o||0].title),r=s.getRenderedLabelHeight(u,i.title)+n.TITLE_PADDING,a=s.getRenderedLabelsMaxWidth(e,i.label)+r+n.AXIS_LABEL_PADDING},_getRightYAxisWidth:function(t){var e,i,n,o,r=t.chartTypes||[],s=r.length,a=0;return s>1&&(e=s-1,i=r[e],n=t.theme[i]||t.theme,o=this._getValueAxisMaxLabel(i),a=this._getYAxisWidth(t.options,[o],n,e)),a},_makeAxesDimension:function(t){var e,i,n=0,o=0,r=0;return t.hasAxes&&(e=t.axesLabelInfo,i=t.optionChartTypes&&t.optionChartTypes[0]||"",n=this._getYAxisWidth(t.options.yAxis,e.yAxis,t.theme.yAxis[i]||t.theme.yAxis),o=this._getXAxisHeight(t.options.xAxis,e.xAxis,t.theme.xAxis),r=this._getRightYAxisWidth({chartTypes:t.optionChartTypes,theme:t.theme.yAxis,options:t.options.yAxis})),{yAxis:{width:n},rightYAxis:{width:r},xAxis:{height:o}}},_isSkippedLegendSizing:function(t,e){return r.isPieChart(t)&&r.isPieLegendAlign(e.align)||e.hidden},_makeLegendWidth:function(t){return t+this.legendCheckboxWidth+n.LEGEND_RECT_WIDTH+n.LEGEND_LABEL_LEFT_PADDING+n.LEGEND_AREA_PADDING},_calculateLegendsWidthSum:function(t,e){return tui.util.sum(tui.util.map(t,function(t){var i=this._makeLegendWidth(s.getRenderedLabelWidth(t,e));return i},this))},_divideLegendLabels:function(t,e){var i=Math.round(t.length/e),n=[],o=[];return tui.util.forEachArray(t,function(t){o.length<i?o.push(t):(n.push(o),o=[t])}),o.length&&n.push(o),n},_makeDividedLabelsAndMaxLineWidth:function(t,e,i){var n,o,r=1,s=0,a=0;do{if(n=this._divideLegendLabels(t,r),s=Math.max.apply(null,tui.util.map(n,function(t){return this._calculateLegendsWidthSum(t,i)},this)),a===s){n=o;break}a=s,o=n,r+=1}while(s>=e);return{dividedLabels:n,maxLineWidth:s}},_calculateHorizontalLegendHeight:function(t,e){return tui.util.sum(tui.util.map(t,function(t){return s.getRenderedLabelsMaxHeight(t,e)},this))},_getWholeLegendLabels:function(){return tui.util.map(this.dataProcessor.getWholeLegendData(),function(t){return t.label})},_makeHorizontalLegendDimension:function(t,e){var i=this._getWholeLegendLabels(),o=this._makeDividedLabelsAndMaxLineWidth(i,t,e),r=this._calculateHorizontalLegendHeight(o.dividedLabels,e)+2*n.LEGEND_AREA_PADDING;return{width:o.maxLineWidth,height:r}},_makeVerticalLegendDimension:function(t){var e=this._getWholeLegendLabels(),i=s.getRenderedLabelsMaxWidth(e,t),n=this._makeLegendWidth(i);return{width:n,height:0}},_makeLegendDimension:function(t,e,i,n){var o={};return n=n||{},this._isSkippedLegendSizing(e,n)?o.width=0:o=r.isHorizontalLegend(n.align)?this._makeHorizontalLegendDimension(i,t):this._makeVerticalLegendDimension(t),o},_makeSeriesDimension:function(t){var e,i,o,s,a=t.axesDimension,u=t.legendOption||{},l=0,h=0;return r.isHorizontalLegend(u.align)?h=t.legendDimension.height:l=t.legendDimension.width,e=l+a.rightYAxis.width,i=h+a.xAxis.height,o=t.chartDimension.width-2*n.CHART_PADDING-a.yAxis.width-e,s=t.chartDimension.height-2*n.CHART_PADDING-t.titleHeight-i,{width:o,height:s}},_makeChartDimension:function(t){return{width:t.width||n.CHART_DEFAULT_WIDTH,height:t.height||n.CHART_DEFAULT_HEIGHT}},_makeTitleDimension:function(t,e){return{height:s.getRenderedLabelHeight(t,e)+n.TITLE_PADDING}},_makePlotDimension:function(t){return{width:t.width+n.HIDDEN_WIDTH,height:t.height+n.HIDDEN_WIDTH}},_makeComponentsDimensions:function(t){var e=t.options.chart||{},i=this._makeChartDimension(e),n=this._makeTitleDimension(e.title,t.theme.title),o=this._makeAxesDimension(t),r=this._makeLegendDimension(t.theme.legend.label,t.options.chartType,i.width,t.options.legend),s=this._makeSeriesDimension({chartDimension:i,axesDimension:o,legendDimension:r,titleHeight:n.height,legendOption:t.options.legend});return tui.util.extend({chart:i,title:n,series:s,plot:this._makePlotDimension(s),legend:r},o)},_makeBasicBound:function(t,e,i){return{dimension:t,position:{top:e,left:i}}},_makeYAxisBound:function(t,e,i){return{dimension:{width:t.yAxis.width,height:t.plot.height},position:{top:e,left:this.chartLeftPadding+i}}},_makeXAxisBound:function(t,e,i,o){var r={dimension:{width:t.plot.width,height:t.xAxis.height},position:{top:e+t.series.height,left:i-n.HIDDEN_WIDTH}};return o&&(r.degree=o.degree),r},_makeRightYAxisBound:function(t,e,i){return{dimension:{width:t.rightYAxis.width,height:t.plot.height},position:{top:e,left:this.chartLeftPadding+t.yAxis.width+t.series.width+i-n.HIDDEN_WIDTH}}},_makeAxesBounds:function(t){var e;return t.hasAxes?(e={plot:this._makeBasicBound(t.dimensions.plot,t.top,t.left-n.HIDDEN_WIDTH),yAxis:this._makeYAxisBound(t.dimensions,t.top,t.leftLegendWidth),xAxis:this._makeXAxisBound(t.dimensions,t.top,t.left,t.rotationInfo)},e.rightYAxis=this._makeRightYAxisBound(t.dimensions,t.top,t.leftLegendWidth),e):{}},_makeChartBound:function(t){return{dimension:t}},_makeLegendBound:function(t,e){var i,o=t.title.height;return r.isBottomLegendAlign(e.align)&&(o+=t.series.height+t.xAxis.height+n.LEGEND_AREA_PADDING),i=r.isHorizontalLegend(e.align)?(t.chart.width-t.legend.width)/2:r.isLeftLegendAlign(e.align)?0:t.yAxis.width+t.series.width+t.rightYAxis.width+this.chartLeftPadding,{dimension:t.legend,position:{top:o,left:i}}},_makeAxesLabelInfo:function(t){var e,i,n,o,r;return t.hasAxes?(e=t.optionChartTypes&&t.optionChartTypes[0]||t.chartType,i=this._getValueAxisMaxLabel(e),n=this.dataProcessor.getCategories(),t.isVertical?(o=[i],r=n):(o=n,r=[i]),{xAxis:r,yAxis:o}):null},_findRotationDegree:function(t,e,i){var r,s=e/2,a=i/2;return tui.util.forEachArray(n.DEGREE_CANDIDATES,function(e){var i=2*(o.calculateAdjacent(e,s)+o.calculateAdjacent(n.ANGLE_90-e,a));return r=e,i<=t+n.XAXIS_LABEL_COMPARE_MARGIN?!1:void 0}),r},_makeHorizontalLabelRotationInfo:function(t,e,i){var n,o,r=s.getRenderedLabelsMaxWidth(e,i);return t>=r?null:(o=s.getRenderedLabelsMaxHeight(e,i),n=this._findRotationDegree(t,r,o),{maxLabelWidth:r,labelHeight:o,degree:n})},_calculateOverflowLeft:function(t,e,i,r){var a=e.degree,u=e.labelHeight,l=s.getRenderedLabelWidth(i,r),h=2*(o.calculateAdjacent(a,l/2)+o.calculateAdjacent(n.ANGLE_90-a,u/2)),c=h-t;return c},_calculateXAxisRotatedHeight:function(t){var e=t.degree,i=t.maxLabelWidth,r=t.labelHeight,s=2*(o.calculateOpposite(e,i/2)+o.calculateOpposite(n.ANGLE_90-e,r/2));return s},_calculateDiffWithRotatedHeight:function(t){var e=this._calculateXAxisRotatedHeight(t);return e-t.labelHeight},_updateDegree:function(t,e,i,o){var r,s;o>0&&(r=t/i+n.XAXIS_LABEL_GUTTER,s=this._findRotationDegree(r,e.maxLabelWidth,e.labelHeight),e.degree=s)},_updateDimensionsWidth:function(t,e){e>0&&(this.chartLeftPadding+=e,t.plot.width-=e,t.series.width-=e,t.xAxis.width-=e)},_updateDimensionsHeight:function(t,e){t.plot.height-=e,t.series.height-=e,t.xAxis.height+=e},_calculateDiffWithMultilineHeight:function(t,e,i){var n=this.dataProcessor.getMultilineCategories(i,e),o=s.getRenderedLabelsMaxHeight(t,e),r=s.getRenderedLabelsMaxHeight(n,tui.util.extend({cssText:"line-height:1.2;width:"+i+"px"},e));return r-o},_updateDimensionsAndDegree:function(t,e,i,n,o){var r,s;e?(r=this._calculateOverflowLeft(t.yAxis.width,e,i[0],n),this._updateDimensionsWidth(t,r),this._updateDegree(t.series.width,e,i.length,r),s=this._calculateDiffWithRotatedHeight(e)):s=this._calculateDiffWithMultilineHeight(i,n,o),this._updateDimensionsHeight(t,s)},_calculateXAxisLabelLimitWidth:function(t,e,i){var n=r.isLineTypeChart(i);return t/(n?e-1:e)},make:function(t,e){var i,o,s,a,u,l,h,c,d,p,m,f=e.options.legend||{},_=e.options.xAxis||{};return this.dataProcessor=t,this.chartLeftPadding=n.CHART_PADDING,this.legendCheckboxWidth=f.hasCheckbox===!1?0:n.LEGEND_CHECKBOX_WIDTH,i=this._makeAxesLabelInfo(e),o=this._makeComponentsDimensions(tui.util.extend({axesLabelInfo:i},e)),e.hasAxes&&(s=this._calculateXAxisLabelLimitWidth(o.series.width,i.xAxis.length,e.options.chartType),_.rotation!==!1&&(a=this._makeHorizontalLabelRotationInfo(s,i.xAxis,e.theme.xAxis.label)),this._updateDimensionsAndDegree(o,a,i.xAxis,e.theme.xAxis.label,s)),h=r.isTopLegendAlign(f.align)?o.legend.height:0,c=r.isLeftLegendAlign(f.align)?o.legend.width:0,u=o.title.height+n.CHART_PADDING+h,l=o.yAxis.width+this.chartLeftPadding+c,d=this._makeBasicBound(o.series,u,l),p=this._makeAxesBounds({hasAxes:e.hasAxes,rotationInfo:a,optionChartTypes:e.optionChartTypes,dimensions:o,top:u,left:l,leftLegendWidth:c}),m=tui.util.extend({chart:this._makeChartBound(o.chart),series:d,legend:this._makeLegendBound(o,f),tooltip:this._makeBasicBound(o.series,u-n.SERIES_EXPAND_SIZE,l-n.SERIES_EXPAND_SIZE),customEvent:d},p)}};e.exports=u},{"../const":15,"./calculator":28,"./predicate":32,"./renderUtil":33}],28:[function(t,e,i){"use strict";var n=t("../const"),o=(t("./predicate"),{calculateLimit:function(t,e){var i,n=0,o={};return 0>t&&(n=t,e-=t,t=0),i=(e-t)/20,o.max=e+i+n,e/6>t?o.min=0+n:o.min=t-i+n,o},normalizeAxisNumber:function(t){var e,i,o=0,r=1;return 0===t?t:(0>t&&(r=-1),t*=r,tui.util.forEachArray(n.AXIS_STANDARD_MULTIPLE_NUMS,function(e){return e>t?(e>1&&(o=e),!1):void(10===e&&(o=10))}),1>o?e=.1*this.normalizeAxisNumber(10*t):(i=tui.util.mod(t,o),e=tui.util.addition(t,i>0?o-i:0)),e*=r)},makeTickPixelPositions:function(t,e){var i,n,o=[];return e>0&&(i={min:0,max:t-1},n=this.calculateStepFromLimit(i,e),o=tui.util.map(tui.util.range(0,t,n),function(t){return Math.round(t)}),o[o.length-1]=t-1),o},makeLabelsFromLimit:function(t,e){var i=tui.util.findMultipleNum(e),n=t.min*i,o=t.max*i,r=tui.util.range(n,o+1,e*i);return r=tui.util.map(r,function(t){return t/i})},calculateStepFromLimit:function(t,e){return(t.max-t.min)/(e-1)},calculateAdjacent:function(t,e){return Math.cos(t*n.RAD)*e},calculateOpposite:function(t,e){return Math.sin(t*n.RAD)*e},sumPlusValues:function(t){var e=tui.util.filter(t,function(t){return t>0});return tui.util.sum(e)},sumMinusValues:function(t){var e=tui.util.filter(t,function(t){return 0>t});return tui.util.sum(e)}});e.exports=o},{"../const":15,"./predicate":32}],29:[function(t,e,i){"use strict";var n=t("./predicate"),o=t("./renderUtil"),r=t("./calculator"),s=Array.prototype.concat,a=tui.util.defineClass({init:function(t){this.orgRawData=t,this.data=null},getRawData:function(){return this.orgRawData},process:function(t,e,i){var n=e.chartType,o=this._processCategories(t.categories),r=t.series,s=this._pickValues(r),a=this._makeWholeValues(s,i),u=this._pickLegendLabels(r),l=this._makeWholeLegendData(u,n,i),h=e.chart&&e.chart.format||"",c=this._findFormatFunctions(h),d=h?this._formatValues(s,c):s,p=this._makeWholeValues(d,i);this.data={categories:o,values:s,wholeValues:a,legendLabels:u,wholeLegendData:l,formatFunctions:c,formattedValues:d,wholeFormattedValues:p,percentValues:{}}},getCategories:function(){return this.data.categories},getCategory:function(t){return this.data.categories[t]},getGroupValues:function(t){return this.data.values[t]||this.data.values},getValue:function(t,e,i){var n=this.getGroupValues(i);return n[t][e]},getWholeGroupValues:function(){return this.data.wholeValues},getLegendLabels:function(t){return this.data.legendLabels[t]||this.data.legendLabels},getWholeLegendData:function(){return this.data.wholeLegendData},setWholeLegendData:function(t){this.data.wholeLegendData=t},getLegendData:function(t){return this.data.wholeLegendData[t]},getFormatFunctions:function(){return this.data.formatFunctions},getFormattedGroupValues:function(t){return this.data.formattedValues[t]||this.data.formattedValues},getFormattedValue:function(t,e,i){var n=this.getFormattedGroupValues(i);return n[t][e]},getFirstFormattedValue:function(t){return this.getFormattedValue(0,0,t)},getWholeFormattedValues:function(){return this.data.wholeFormattedValues},_processCategories:function(t){return tui.util.map(t,tui.util.encodeHTMLEntity)},_pickValue:function(t){return tui.util.map([].concat(t.data),parseFloat)},_pickValues:function(t){var e,i;return tui.util.isArray(t)?(e=tui.util.map(t,this._pickValue,this),i=tui.util.pivot(e)):(i={},tui.util.forEach(t,function(t,n){e=tui.util.map(t,this._pickValue,this),i[n]=tui.util.pivot(e)},this)),i},_makeWholeValues:function(t,e){var i=[];return e?tui.util.forEachArray(e,function(e){tui.util.forEach(t[e],function(t,e){i[e]||(i[e]=[]),i[e]=i[e].concat(t)})}):i=t,i},_pickLegendLabel:function(t){return tui.util.encodeHTMLEntity(t.name)},_pickLegendLabels:function(t){var e;return tui.util.isArray(t)?e=tui.util.map(t,this._pickLegendLabel,this):(e={},tui.util.forEach(t,function(t,i){e[i]=tui.util.map(t,this._pickLegendLabel,this)},this)),e},_makeWholeLegendData:function(t,e,i){var n;return i&&i.length?(n=[],tui.util.forEachArray(i,function(e){var i=tui.util.map(t[e],function(t){return{chartType:e,label:t}});n=n.concat(i)})):n=tui.util.map(t,function(t){return{chartType:e,label:t}}),n},_formatGroupValues:function(t,e){return tui.util.map(t,function(t){return tui.util.map(t,function(t){var i=[t].concat(e);return tui.util.reduce(i,function(t,e){return e(t)})})})},_formatValues:function(t,e){var i;return tui.util.isArray(t)?i=this._formatGroupValues(t,e):(i={},tui.util.forEach(t,function(t,n){i[n]=this._formatGroupValues(t,e)},this)),i},_pickMaxLenUnderPoint:function(t){var e=0;return tui.util.forEachArray(t,function(t){var i=tui.util.lengthAfterPoint(t);i>e&&(e=i)},this),e},_isZeroFill:function(t){return t.length>2&&"0"===t.charAt(0)},_isDecimal:function(t){var e=t.indexOf(".");return e>-1&&e<t.length-1},_isComma:function(t){return t.indexOf(",")===t.split(".")[0].length-4},_formatZeroFill:function(t,e){var i="0",n=0>e;if(e=Math.abs(e)+"",e.length>=t)return e;for(;e.length<t;)e=i+e;return(n?"-":"")+e},_formatDecimal:function(t,e){var i;return 0===t?Math.round(e,10):(i=Math.pow(10,t),e=Math.round(e*i)/i,e=parseFloat(e).toFixed(t))},_formatComma:function(t){var e,i,n=",",o="";return t+="",t.indexOf(".")>-1&&(e=t.split("."),t=e[0],o="."+e[1]),t.length<4?t+o:(e=t.split("").reverse(),i=e.length-1,e=tui.util.map(e,function(t,e){var o=[t];return i>e&&(e+1)%3===0&&o.push(n),o}),s.apply([],e).reverse().join("")+o)},_findFormatFunctions:function(t){var e,i=[];if(!t)return[];if(this._isDecimal(t))e=this._pickMaxLenUnderPoint([t]),i=[tui.util.bind(this._formatDecimal,this,e)];else if(this._isZeroFill(t))return e=t.length,i=[tui.util.bind(this._formatZeroFill,this,e)];return this._isComma(t)&&i.push(this._formatComma),i},_makeMultilineCategory:function(t,e,i){var n=t.split(/\s+/),r=n[0],s=[];return tui.util.forEachArray(n.slice(1),function(t){var n=o.getRenderedLabelWidth(r+" "+t,i);n>e?(s.push(r),r=t):r+=" "+t}),r&&s.push(r),s.join("<br>")},getMultilineCategories:function(t,e){return this.data.multilineCategories||(this.data.multilineCategories=tui.util.map(this.getCategories(),function(i){return this._makeMultilineCategory(i,t,e)},this)),this.data.multilineCategories},_makePieChartPercentValues:function(t){var e=tui.util.map(t,function(t){var e=tui.util.sum(t);return tui.util.map(t,function(t){return t/e})});return e},_makeNormalStackedPercentValues:function(t,e){var i=Math.abs(e.max-e.min);return tui.util.map(t,function(t){return tui.util.map(t,function(t){return t/i})})},_makePercentStackedPercentValues:function(t){var e=s.apply([],t),i=r.sumPlusValues(e),n=Math.abs(r.sumMinusValues(e)),o=i>0&&n>0?.5:1,a=tui.util.map(t,function(t){var e=tui.util.sum(tui.util.map(t,function(t){return Math.abs(t)}));return tui.util.map(t,function(t){return 0===e?0:o*(t/e)})});return a},_makePercentValues:function(t,e,i){
var n,o=e.min,r=e.max,s=r-o,a=1,u=0;return!i&&0>o&&0>=r?(a=-1,u=r,s=o-r):(i||o>=0)&&(u=o),n=tui.util.map(t,function(t){return tui.util.map(t,function(t){return(t-u)*a/s})})},setPercentValues:function(t,e,i){var o,r=this.getGroupValues(i),s=n.isAllowedStackedOption(i),a=n.isLineTypeChart(i);o=n.isPieChart(i)?this._makePieChartPercentValues(r):s&&n.isNormalStacked(e)?this._makeNormalStackedPercentValues(r,t):s&&n.isPercentStacked(e)?this._makePercentStackedPercentValues(r):this._makePercentValues(r,t,a),this.data.percentValues[i]=a?tui.util.pivot(o):o},getPercentValues:function(t){return this.data.percentValues[t]}});e.exports=a},{"./calculator":28,"./predicate":32,"./renderUtil":33}],30:[function(t,e,i){"use strict";var n=Array.prototype.slice,o={create:function(t,e){var i=document.createElement(t);return e&&this.addClass(i,e),i},_getClassNames:function(t){var e,i;return t.classList?i=n.call(t.classList):(e=t.className||"",i=e&&tui.util.isString(e)?e.split(" "):[]),i},addClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);n>-1||(i.push(e),t.className=i.join(" "))},removeClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);-1!==n&&(i.splice(n,1),t.className=i.join(" "))},hasClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);return n>-1},findParentByClass:function(t,e,i){var n=t.parentNode;return n?this.hasClass(n,e)?n:"BODY"===n.nodeName||this.hasClass(n,i)?null:this.findParentByClass(n,e,i):null},append:function(t,e){t&&e&&(e=tui.util.isArray(e)?e:[e],tui.util.forEachArray(e,function(e){e&&t.appendChild(e)},this))}};e.exports=o},{}],31:[function(t,e,i){"use strict";var n={_attachEvent:function(t,e,i){"object"==typeof i&&i.handleEvent?e.attachEvent("on"+t,function(){i.handleEvent.call(i)}):e.attachEvent("on"+t,i)},_addEventListener:function(t,e,i){try{e.addEventListener(t,i)}catch(n){if("object"!=typeof i||!i.handleEvent)throw n;e.addEventListener(t,function(t){i.handleEvent.call(i,t)})}},bindEvent:function(t,e,i){var n;"addEventListener"in e?n=this._addEventListener:"attachEvent"in e&&(n=this._attachEvent),this.bindEvent=n,n(t,e,i)}};e.exports=n},{}],32:[function(t,e,i){"use strict";var n=t("../const"),o={isBarChart:function(t){return t===n.CHART_TYPE_BAR},isColumnChart:function(t){return t===n.CHART_TYPE_COLUMN},isComboChart:function(t){return t===n.CHART_TYPE_COMBO},isLineChart:function(t){return t===n.CHART_TYPE_LINE},isAreaChart:function(t){return t===n.CHART_TYPE_AREA},isLineTypeChart:function(t){return this.isLineChart(t)||this.isAreaChart(t)},isPieChart:function(t){return t===n.CHART_TYPE_PIE},isOuterLegendAlign:function(t){return t===n.LEGEND_ALIGN_OUTER},isCenterLegendAlign:function(t){return t===n.LEGEND_ALIGN_CENTER},isLeftLegendAlign:function(t){return t===n.LEGEND_ALIGN_LEFT},isTopLegendAlign:function(t){return t===n.LEGEND_ALIGN_TOP},isBottomLegendAlign:function(t){return t===n.LEGEND_ALIGN_BOTTOM},isHorizontalLegend:function(t){return this.isTopLegendAlign(t)||this.isBottomLegendAlign(t)},isPieLegendAlign:function(t){var e=!1;return t&&(e=this.isOuterLegendAlign(t)||this.isCenterLegendAlign(t)),e},isAllowedStackedOption:function(t){return this.isBarChart(t)||this.isColumnChart(t)||this.isAreaChart(t)},isNormalStacked:function(t){return t===n.STACKED_NORMAL_TYPE},isPercentStacked:function(t){return t===n.STACKED_PERCENT_TYPE},isValidStackedOption:function(t){return t&&(this.isNormalStacked(t)||this.isPercentStacked(t))}};e.exports=o},{"../const":15}],33:[function(t,e,i){"use strict";var n=t("./domHandler"),o=t("./../const"),r=tui.util.browser,s=r.msie&&7===r.version,a=r.msie&&r.version<=8,u={concatStr:function(){return String.prototype.concat.apply("",arguments)},makeFontCssText:function(t){var e=[];return t?(t.fontSize&&e.push(this.concatStr("font-size:",t.fontSize,"px")),t.fontFamily&&e.push(this.concatStr("font-family:",t.fontFamily)),t.color&&e.push(this.concatStr("color:",t.color)),e.join(";")):""},checkEl:null,_createSizeCheckEl:function(){var t,e;return this.checkEl?this.checkEl.style.cssText="":(t=n.create("DIV","tui-chart-size-check-element"),e=n.create("SPAN"),t.appendChild(e),this.checkEl=t),this.checkEl},_makeCachingKey:function(t,e,i){var n=[t,i];return tui.util.forEach(e,function(t,e){n.push(t+e)}),n.join("-")},sizeCache:{},_addCssStyle:function(t,e){t.style.fontSize=(e.fontSize||o.DEFAULT_LABEL_FONT_SIZE)+"px",e.fontFamily&&(t.style.fontFamily=e.fontFamily),e.cssText&&(t.style.cssText+=e.cssText)},_getRenderedLabelSize:function(t,e,i){var n,o,r,s;return e=e||{},t?(t+="",n=this._makeCachingKey(t,e,i),s=this.sizeCache[n],s||(o=this._createSizeCheckEl(),r=o.firstChild,r.innerHTML=t,this._addCssStyle(o,e),document.body.appendChild(o),s=r[i],document.body.removeChild(o),this.sizeCache[n]=s),s):0},getRenderedLabelWidth:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetWidth");return i},getRenderedLabelHeight:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetHeight");return i},_getRenderedLabelsMaxSize:function(t,e,i){var n=tui.util.map(t,function(t){return i(t,e)},this),o=tui.util.max(n);return o},getRenderedLabelsMaxWidth:function(t,e){var i=tui.util.bind(this.getRenderedLabelWidth,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},getRenderedLabelsMaxHeight:function(t,e){var i=tui.util.bind(this.getRenderedLabelHeight,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},renderDimension:function(t,e){t.style.cssText=[this.concatStr("width:",e.width,"px"),this.concatStr("height:",e.height,"px")].join(";")},renderPosition:function(t,e){tui.util.isUndefined(e)||(e.top&&(t.style.top=e.top+"px"),e.left&&(t.style.left=e.left+"px"),e.right&&(t.style.right=e.right+"px"))},renderBackground:function(t,e){e&&(t.style.background=e)},renderFontFamily:function(t,e){e&&(t.style.fontFamily=e)},renderTitle:function(t,e,i){var o,r;return t?(o=n.create("DIV",i),o.innerHTML=t,r=u.makeFontCssText(e),e.background&&(r+=";"+this.concatStr("background:",e.background)),o.style.cssText=r,o):null},expandBound:function(t){var e=t.dimension,i=t.position;return{dimension:{width:e.width+2*o.SERIES_EXPAND_SIZE,height:e.height+2*o.SERIES_EXPAND_SIZE},position:{left:i.left-o.SERIES_EXPAND_SIZE,top:i.top-o.SERIES_EXPAND_SIZE}}},makeCustomEventName:function(t,e,i){return t+tui.util.properCase(e)+tui.util.properCase(i)},formatValue:function(t,e){var i=[t].concat(e||[]);return tui.util.reduce(i,function(t,e){return e(t)})},isIE7:function(){return s},isOldBrowser:function(){return a}};e.exports=u},{"./../const":15,"./domHandler":30}],34:[function(t,e,i){"use strict";e.exports={template:function(t){return function(e){var i=t;return tui.util.forEach(e,function(t,e){var n=new RegExp("{{\\s*"+e+"\\s*}}","g");i=i.replace(n,t)}),i}}}},{}],35:[function(t,e,i){"use strict";var n=tui.util.defineClass({register:function(t,e){this.on(t,e)}});tui.util.CustomEvents.mixin(n),e.exports=n},{}],36:[function(t,e,i){"use strict";var n=t("./legendModel"),o=t("../const"),r=t("../helpers/domHandler"),s=t("../helpers/predicate"),a=t("../helpers/eventListener"),u=t("../helpers/renderUtil"),l=t("./../legends/legendTemplate"),h=tui.util.defineClass({init:function(t){this.theme=t.theme,this.options=t.options||{},this.chartTypes=t.chartTypes,this.chartType=t.chartType,this.userEvent=t.userEvent,this.className="tui-chart-legend-area",this.checkedIndexes=[],this.legendModel=new n({theme:t.theme,labels:t.dataProcessor.getLegendLabels(),legendData:t.dataProcessor.getWholeLegendData(),chartTypes:t.chartTypes,chartType:t.chartType})},_renderLegendArea:function(t){t.innerHTML=this._makeLegendHtml(this.legendModel.getData()),u.renderPosition(t,this.bound.position),this._renderLabelTheme(t,this.theme.label)},render:function(t){var e=r.create("DIV",this.className);return this.legendContainer=e,this.bound=t,s.isHorizontalLegend(this.options.align)&&r.addClass(e,"horizontal"),this._renderLegendArea(e),this._attachEvent(e),e},resize:function(t){this.bound=t,this._renderLegendArea(this.legendContainer)},_makeLegendRectCssText:function(t,e){var i,n,r=t.theme,s=r.borderColor?u.concatStr(";border:1px solid ",r.borderColor):"";return n="line"===t.chartType?e+o.LINE_MARGIN_TOP:e,i=u.concatStr(";margin-top:",n,"px"),u.concatStr("background-color:",r.singleColor||r.color,s,i)},_makeLabelsWidth:function(t){return tui.util.map(t,function(t){var e=u.getRenderedLabelWidth(t.label,this.theme.label);return e+o.LEGEND_AREA_PADDING},this)},_makeLegendHtml:function(t){var e=l.tplLegend,i=l.tplCheckbox,n=this._makeLabelsWidth(t),r=u.getRenderedLabelHeight(t[0].label,t[0].theme),a=s.isHorizontalLegend(this.options.align),h=r+2*o.LABEL_PADDING_TOP,c=parseInt((h-o.LEGEND_RECT_WIDTH)/2,10)-1,d=tui.util.map(t,function(t,o){var s,u=this._makeLegendRectCssText(t,c),l=this.options.hasCheckbox===!1?"":i({index:o,checked:this.legendModel.isCheckedIndex(o)?" checked":""});return s={rectCssText:u,height:h,labelHeight:r,unselected:this.legendModel.isUnselectedIndex(o)?" unselected":"",labelWidth:a?";width:"+n[o]+"px":"",iconType:t.chartType||"rect",label:t.label,checkbox:l,index:o},e(s)},this).join("");return d},_renderLabelTheme:function(t,e){var i=u.makeFontCssText(e);t.style.cssText+=";"+i},_findLegendLabelElement:function(t){var e;return e=r.hasClass(t,o.CLASS_NAME_LEGEND_LABEL)?t:r.findParentByClass(t,o.CLASS_NAME_LEGEND_LABEL)},_fireLegendCheckboxEvent:function(){this.fire("changeCheckedLegends",this.legendModel.getCheckedIndexes())},_fireLegendSelectionEvent:function(t){var e=this.chartTypes||[t.chartType],i=this.legendModel.getSelectedIndex(),n=tui.util.isNull(i)?i:t.seriesIndex;tui.util.forEachArray(e,function(e){this.fire(u.makeCustomEventName("select",e,"legend"),t.chartType,n)},this)},_fireUserEvent:function(t){this.userEvent.fire("selectLegend",{legend:t.label,chartType:t.chartType,index:t.index})},_selectLegend:function(t){var e=this.legendModel.getDatum(t);this.legendModel.toggleSelectedIndex(t),tui.util.isNull(this.legendModel.getSelectedIndex())||this.legendModel.isCheckedSelectedIndex()||(this.legendModel.checkSelectedIndex(),this._fireLegendCheckboxEvent()),this._renderLegendArea(this.legendContainer),this._fireLegendSelectionEvent(e),this._fireUserEvent(e)},_getCheckedIndexes:function(){var t=[];return tui.util.forEachArray(this.legendContainer.getElementsByTagName("input"),function(e,i){e.checked&&t.push(i)}),t},_checkLegend:function(){var t,e=this._getCheckedIndexes(),i=e.length;s.isPieChart(this.chartType)&&1===i||0===i?this._renderLegendArea(this.legendContainer):(this.legendModel.updateCheckedData(e),t=this.legendModel.getSelectedDatum(),this.legendModel.isCheckedSelectedIndex()||this.legendModel.updateSelectedIndex(null),this._renderLegendArea(this.legendContainer),this._fireLegendCheckboxEvent(),t&&this._fireLegendSelectionEvent(t,!0))},_onClick:function(t){var e,i,n=t.target||t.srcElement;return r.hasClass(n,o.CLASS_NAME_LEGEND_CHECKBOX)?void this._checkLegend():(e=this._findLegendLabelElement(n),void(e&&(i=parseInt(e.getAttribute("data-index"),10),this._selectLegend(i))))},_attachEvent:function(t){a.bindEvent("click",t,tui.util.bind(this._onClick,this))}});tui.util.CustomEvents.mixin(h),e.exports=h},{"../const":15,"../helpers/domHandler":30,"../helpers/eventListener":31,"../helpers/predicate":32,"../helpers/renderUtil":33,"./../legends/legendTemplate":38,"./legendModel":37}],37:[function(t,e,i){"use strict";var n=t("../themes/defaultTheme"),o=Array.prototype.concat,r=tui.util.defineClass({init:function(t){this.theme=t.theme,this.labels=t.labels,this.legendData=t.legendData,this.chartTypes=t.chartTypes,this.chartType=t.chartType,this.data=null,this.selectedIndex=null,this.checkedIndexesMap={},this.checkedWholeIndexes=[],this._initCheckedIndexes(),this._setData()},_initCheckedIndexes:function(){var t=[];tui.util.forEachArray(this.legendData,function(e,i){t[i]=!0},this),this.checkedWholeIndexes=t},_makeLabelInfoAppliedTheme:function(t,e,i){var n=0;return tui.util.map(t,function(t,o){var r={color:e.colors[o]};return e.singleColors&&(r.singleColor=e.singleColors[o]),e.borderColor&&(r.borderColor=e.borderColor),t.theme=r,t.index=o,i&&tui.util.isUndefined(i[o])?t.seriesIndex=-1:(t.seriesIndex=n,n+=1),t},this)},_setData:function(){var t,e,i,r,s=this.legendData;this.chartTypes?(i=0,r=0,e={colors:n.series.colors},t=o.apply([],tui.util.map(this.chartTypes,function(t){var n,o,a=this.theme[t],u=this.labels[t].length,l=i+u;return a||(n=r+u,a=JSON.parse(JSON.stringify(e)),a.colors=a.colors.slice(r,n),r=n),o=this._makeLabelInfoAppliedTheme(s.slice(i,l),a,this.checkedIndexesMap[t]),i=l,o},this))):t=this._makeLabelInfoAppliedTheme(s,this.theme,this.checkedIndexesMap[this.chartType]),this.data=t},getData:function(){return this.data},getDatum:function(t){return this.data[t]},getSelectedDatum:function(){return this.getDatum(this.selectedIndex)},updateSelectedIndex:function(t){this.selectedIndex=t},toggleSelectedIndex:function(t){var e;e=this.selectedIndex===t?null:t,this.updateSelectedIndex(e)},getSelectedIndex:function(){return this.selectedIndex},isUnselectedIndex:function(t){return!tui.util.isNull(this.selectedIndex)&&this.selectedIndex!==t},isCheckedSelectedIndex:function(){return this.isCheckedIndex(this.selectedIndex)},_updateCheckedIndex:function(t){this.checkedWholeIndexes[t]=!0},isCheckedIndex:function(t){return!!this.checkedWholeIndexes[t]},_addSendingDatum:function(t){var e=this.getDatum(t);this.checkedIndexesMap[e.chartType]||(this.checkedIndexesMap[e.chartType]=[]),this.checkedIndexesMap[e.chartType][e.index]=!0},checkSelectedIndex:function(){this._updateCheckedIndex(this.selectedIndex),this._addSendingDatum(this.selectedIndex),this._setData()},getCheckedIndexes:function(){return this.checkedIndexesMap[this.chartType]||this.checkedIndexesMap},_resetCheckedData:function(){this.checkedWholeIndexes=[],this.checkedIndexesMap={}},updateCheckedData:function(t){this._resetCheckedData(),tui.util.forEachArray(t,function(t){this._updateCheckedIndex(t),this._addSendingDatum(t)},this),this._setData()}});e.exports=r},{"../themes/defaultTheme":60}],38:[function(t,e,i){var n=t("../helpers/templateMaker"),o={HTML_CHECKBOX:'<div class="tui-chart-legend-checkbox-area"><input class="tui-chart-legend-checkbox" type="checkbox" value="{{ index }}"{{ checked }} /></div>',HTML_LEGEND:'<div class="tui-chart-legend{{ unselected }}" style="height:{{ height }}px">{{ checkbox }}<div class="tui-chart-legend-rect {{ iconType }}" style="{{ rectCssText }}"></div><div class="tui-chart-legend-label" style="height:{{ labelHeight }}px{{ labelWidth }}" data-index="{{ index }}">{{ label }}</div></div>'};e.exports={tplCheckbox:n.template(o.HTML_CHECKBOX),tplLegend:n.template(o.HTML_LEGEND)}},{"../helpers/templateMaker":34}],39:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),o=t("../helpers/calculator"),r=t("../helpers/renderUtil"),s=t("./plotTemplate"),a=tui.util.defineClass({init:function(t){tui.util.extend(this,t),this.className="tui-chart-plot-area"},_renderPlotArea:function(t,e,i){this.bound=e,this.data=i,r.renderDimension(t,e.dimension),r.renderPosition(t,e.position),this._renderLines(t,e.dimension)},render:function(t,e){var i=n.create("DIV",this.className);return this._renderPlotArea(i,t,e),this.plotContainer=i,i},rerender:function(t,e){this.plotContainer.innerHTML="",this._renderPlotArea(this.plotContainer,t,e)},resize:function(t,e){this.rerender(t,e)},_renderLines:function(t,e){var i=this._makeHorizontalPixelPositions(e.width),n=this._makeVerticalPixelPositions(e.height),o=this.theme,s="";s+=this._makeLineHtml({positions:i,size:e.height,className:"vertical",positionType:"left",sizeType:"height",lineColor:o.lineColor}),s+=this._makeLineHtml({positions:n,size:e.width,className:"horizontal",positionType:"bottom",sizeType:"width",lineColor:o.lineColor}),t.innerHTML=s,r.renderBackground(t,o.background)},_makeLineHtml:function(t){var e=s.tplPlotLine,i=tui.util.map(t.positions,function(i){var n,o=[r.concatStr(t.positionType,":",i,"px"),r.concatStr(t.sizeType,":",t.size,"px")];return t.lineColor&&o.push(r.concatStr("background-color:",t.lineColor)),n={className:t.className,cssText:o.join(";")},e(n)},this).join("");return i},_makeVerticalPixelPositions:function(t){var e=o.makeTickPixelPositions(t,this.data.vTickCount);return e.shift(),e},_makeHorizontalPixelPositions:function(t){var e=o.makeTickPixelPositions(t,this.data.hTickCount);return e.shift(),e}});e.exports=a},{"../helpers/calculator":28,"../helpers/domHandler":30,"../helpers/renderUtil":33,"./plotTemplate":40}],40:[function(t,e,i){var n=t("../helpers/templateMaker"),o={HTML_PLOT_LINE:'<div class="tui-chart-plot-line {{ className }}" style="{{ cssText }}"></div>'};e.exports={tplPlotLine:n.template(o.HTML_PLOT_LINE)}},{"../helpers/templateMaker":34}],41:[function(t,e,i){"use strict";var n,o=t("./raphaelBarChart"),r=t("./raphaelLineChart"),s=t("./raphaelAreaChart"),a=t("./raphaelPieChart"),u="raphael";n={bar:o,column:o,line:r,area:s,pie:a},tui.chart.registerPlugin(u,n)},{"./raphaelAreaChart":42,"./raphaelBarChart":43,"./raphaelLineChart":44,"./raphaelPieChart":46}],42:[function(t,e,i){"use strict";var n=t("./raphaelLineTypeBase"),o=t("./raphaelRenderUtil"),r=window.Raphael,s=1,a=.3,u=Array.prototype.concat,l=tui.util.defineClass(n,{init:function(){this.selectedLegendIndex=null},render:function(t,e){var i,n,o,s,a,u,l=e.dimension,h=e.groupPositions,c=e.theme,d=c.colors,p=e.options.hasDot?1:0,m=this.makeBorderStyle(c.borderColor,p),f=this.makeOutDotStyle(p,m);return this.paper=i=r(t,1,l.height),this.stackedOption=e.options.stacked,this.spline=e.options.spline,this.dimension=l,this.zeroTop=e.zeroTop,n=e.options.spline?this._getSplineAreasPath(h):this._getAreasPath(h),o=this._renderAreas(i,n,d),s=this._renderTooltipLine(i,l.height),a=this._makeSelectionDot(i),u=this._renderDots(i,h,d,p),e.options.hasSelection&&(this.selectionDot=a,this.selectionColor=c.selectionColor),this.outDotStyle=f,this.groupPositions=h,this.groupPaths=n,this.groupAreas=o,this.tooltipLine=s,this.groupDots=u,this.dotOpacity=p,delete this.pivotGroupDots,i},_renderArea:function(t,e,i){var n=t.path(e),o={fill:i,opacity:.5,stroke:i,"stroke-opacity":0};return n.attr(o),n},_renderAreas:function(t,e,i){var n;return i=i.slice(0,e.length),i.reverse(),e.reverse(),n=tui.util.map(e,function(e,n){var r=i[n]||"transparent",s=r;return{area:this._renderArea(t,e.area.join(" "),r),line:o.renderLine(t,e.line.join(" "),s)}},this),n.reverse()},_makeHeight:function(t,e){return Math.abs(t-e)},_makeAreasPath:function(t){var e=2*t.length,i=[];return tui.util.forEachArray(t,function(t,n){i[n]=["L",t.left,t.top],i[e-n-1]=["L",t.left,t.startTop]}),i=u.apply([],i),i[0]="M",i},_getAreasPath:function(t){return tui.util.map(t,function(t){return t[0].left-=1,{area:this._makeAreasPath(t),line:this._makeLinesPath(t)}},this)},_makeSplineAreaBottomPath:function(t){return tui.util.map(t,function(t){return["L",t.left,this.zeroTop]},this).reverse()},_getSplineAreasPath:function(t){return tui.util.map(t,function(t){var e,i;return t[0].left-=1,e=this._makeSplineLinesPath(t),i=this._makeSplineAreaBottomPath(t),{area:e.concat(i),line:e}},this)},resize:function(t){var e=t.dimension,i=t.groupPositions;this.groupPositions=i,this.groupPaths=this.spline?this._getSplineAreasPath(i):this._getAreasPath(i),this.paper.setSize(e.width,e.height),this.tooltipLine.attr({top:e.height}),tui.util.forEachArray(this.groupPaths,function(t,e){var n=this.groupAreas[e];n.area.attr({path:t.area.join(" ")}),n.line.attr({path:t.line.join(" ")}),tui.util.forEachArray(this.groupDots[e],function(t,n){this._moveDot(t.dot,i[e][n])},this)},this)},selectLegend:function(t){var e=this,i=tui.util.isNull(t);this.selectedLegendIndex=t,tui.util.forEachArray(this.groupPaths,function(n,o){var r=this.groupAreas[o],u=i||t===o?s:a;r.area.attr({"fill-opacity":u}),r.line.attr({"stroke-opacity":u}),tui.util.forEachArray(this.groupDots[o],function(t){e.dotOpacity&&t.dot.attr({"fill-opacity":u})})},this)}});e.exports=l},{"./raphaelLineTypeBase":45,"./raphaelRenderUtil":47}],43:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),o=window.Raphael,r=700,s=1,a=.3,u=tui.util.defineClass({render:function(t,e){var i,n,r=e.groupBounds,s=e.dimension;return r?(this.paper=i=o(t,s.width,s.height),n={paper:i,theme:e.theme,groupBounds:r,groupValues:e.groupValues,chartType:e.chartType},this._renderBars(n),this._renderBarBorders(n),this.theme=e.theme,this.groupBounds=r,this.chartType=e.chartType,i):null},_renderBar:function(t){var e,i=t.bound;return i.width<0||i.height<0?null:(e=t.paper.rect(i.left,i.top,i.width,i.height),e.attr({fill:t.color,stroke:"none"}),e)},_renderBars:function(t){var e=1===t.groupBounds[0].length&&t.theme.singleColors||[],i=t.theme.colors;this.groupBars=tui.util.map(t.groupBounds,function(n,o){var r=e[o];return tui.util.map(n,function(e,n){var s,a,u;return e?(s=r||i[n],u=t.groupValues[o][n],a=this._renderBar({paper:t.paper,chartType:t.chartType,color:s,borderColor:t.theme.borderColor,bound:e.start,value:u}),{rect:a,color:s,bound:e.end,value:u,groupIndex:o,index:n}):null},this)},this)},_makeRectPoints:function(t){return{leftTop:{left:Math.ceil(t.left),top:Math.ceil(t.top)},rightTop:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top)},rightBottom:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top+t.height)},leftBottom:{left:Math.ceil(t.left),top:Math.ceil(t.top+t.height)}}},_makeTopLinePath:function(t,e,i,o){var r=tui.util.extend({},t);return r.left-="column"===i||0>o?1:0,n.makeLinePath(r,e).join(" ")},_makeBorderLinesPaths:function(t,e,i){var o=this._makeRectPoints(t),r={};return("bar"===e||i>=0)&&(r.top=this._makeTopLinePath(o.leftTop,o.rightTop,e,i)),("column"===e||i>=0)&&(r.right=n.makeLinePath(o.rightTop,o.rightBottom).join(" ")),("bar"===e||0>i)&&(r.bottom=n.makeLinePath(o.leftBottom,o.rightBottom).join(" ")),("column"===e||0>i)&&(r.left=n.makeLinePath(o.leftTop,o.leftBottom).join(" ")),r},_renderBorderLines:function(t){var e=this._makeBorderLinesPaths(t.bound,t.chartType,t.value),i={};return tui.util.forEach(e,function(e,o){i[o]=n.renderLine(t.paper,e,t.borderColor,1)}),i},_renderBarBorders:function(t){var e=t.theme.borderColor;e&&(this.groupBorders=tui.util.map(t.groupBounds,function(i,n){return tui.util.map(i,function(i,o){var r;return i?(r=t.groupValues[n][o],this._renderBorderLines({paper:t.paper,bound:i.start,borderColor:e,chartType:t.chartType,value:r})):null},this)},this))},_animateRect:function(t,e){t.animate({x:e.left,y:e.top,width:e.width,height:e.height},r)},_animateBorders:function(t,e,i,n){var o=this._makeBorderLinesPaths(e,i,n);tui.util.forEach(t,function(t,e){t.animate({path:o[e]},r)})},animate:function(t){var e=this,i=this.groupBorders||[];this.callbackTimeout&&(clearTimeout(this.callbackTimeout),delete this.callbackTimeout),n.forEach2dArray(this.groupBars,function(t,n,o){var r=i[n]&&i[n][o];t&&(e._animateRect(t.rect,t.bound),r&&e._animateBorders(r,t.bound,e.chartType,t.value))}),t&&(this.callbackTimeout=setTimeout(function(){t(),delete e.callbackTimeout},r))},_updateRectBound:function(t,e){t.attr({x:e.left,y:e.top,width:e.width,height:e.height})},_updateBordersPath:function(t,e,i,n){var o=this._makeBorderLinesPaths(e,i,n);tui.util.forEach(t,function(t,e){t.attr({path:o[e]})})},resize:function(t){var e=this,i=this.groupBorders||[],o=t.dimension,r=t.groupBounds;this.groupBounds=r,this.paper.setSize(o.width,o.height),n.forEach2dArray(this.groupBars,function(t,n,o){var s,a;t&&(s=i[n]&&i[n][o],a=r[n][o].end,t.bound=a,e._updateRectBound(t.rect,a),s&&e._updateBordersPath(s,a,e.chartType,t.value))})},_changeBordersColor:function(t,e){tui.util.forEach(t,function(t){t.attr({stroke:e})})},_changeBarColor:function(t,e,i){var n,o=this.groupBars[t.groupIndex][t.index];o.rect.attr({fill:e}),i&&(n=this.groupBorders[t.groupIndex][t.index],this._changeBordersColor(n,i))},selectSeries:function(t){var e,i=this.groupBars[t.groupIndex][t.index],r=o.color(i.color),s=this.theme.selectionColor||n.makeChangedLuminanceColor(r.hex,.2),a=this.theme.borderColor;a&&(e=o.color(a),a=n.makeChangedLuminanceColor(e.hex,.2)),this._changeBarColor(t,s,a)},unselectSeries:function(t){var e=this.groupBars[t.groupIndex][t.index],i=this.theme.borderColor;this._changeBarColor(t,e.color,i)},selectLegend:function(t){var e=this.groupBorders||[],i=tui.util.isNull(t);n.forEach2dArray(this.groupBars,function(n,o,r){var u,l;n&&(u=e[o]&&e[o][r],l=i||t===r?s:a,n.rect.attr({"fill-opacity":l}),u&&tui.util.forEach(u,function(t){t.attr({"stroke-opacity":l})}))})}});e.exports=u},{"./raphaelRenderUtil":47}],44:[function(t,e,i){"use strict";var n=t("./raphaelLineTypeBase"),o=t("./raphaelRenderUtil"),r=window.Raphael,s=1,a=.3,u=tui.util.defineClass(n,{init:function(){this.selectedLegendIndex=null},render:function(t,e){var i,n,o,s,a,u=e.dimension,l=e.groupPositions,h=e.theme,c=h.colors,d=e.options.hasDot?1:0,p=e.options.spline?this._getSplineLinesPath(l):this._getLinesPath(l),m=this.makeBorderStyle(h.borderColor,d),f=this.makeOutDotStyle(d,m);return this.paper=i=r(t,1,u.height),this.splineOption=e.options.spline,this.dimension=u,n=this._renderLines(i,p,c),o=this._renderTooltipLine(i,u.height),s=this._makeSelectionDot(i),a=this._renderDots(i,l,c,d),e.options.hasSelection&&(this.selectionDot=s,this.selectionColor=h.selectionColor),this.colors=c,this.borderStyle=m,this.outDotStyle=f,this.groupPositions=l,this.groupPaths=p,this.groupLines=n,this.tooltipLine=o,this.groupDots=a,this.dotOpacity=d,delete this.pivotGroupDots,i},_getLinesPath:function(t){return tui.util.map(t,function(t){return t[0].left-=1,this._makeLinesPath(t)},this)},_getSplineLinesPath:function(t){return tui.util.map(t,this._makeSplineLinesPath,this)},_renderLines:function(t,e,i,n){var r=tui.util.map(e,function(e,r){var s=i[r]||"transparent";return o.renderLine(t,e.join(" "),s,n)},this);return r},resize:function(t){var e=t.dimension,i=t.groupPositions;this.groupPositions=i,this.groupPaths=this.splineOption?this._getSplineLinesPath(i):this._getLinesPath(i),this.paper.setSize(e.width,e.height),this.tooltipLine.attr({top:e.height}),tui.util.forEachArray(this.groupPaths,function(t,e){this.groupLines[e].attr({path:t.join(" ")}),tui.util.forEachArray(this.groupDots[e],function(t,n){this._moveDot(t.dot,i[e][n])},this)},this)},selectLegend:function(t){var e=this,i=tui.util.isNull(t);this.selectedLegendIndex=t,tui.util.forEachArray(this.groupPaths,function(n,o){var r=i||t===o?s:a;e.groupLines[o].attr({"stroke-opacity":r}),tui.util.forEachArray(this.groupDots[o],function(t){t.opacity=r,e.dotOpacity&&t.dot.attr({"fill-opacity":r})})},this)}});e.exports=u},{"./raphaelLineTypeBase":45,"./raphaelRenderUtil":47}],45:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),o=700,r=3,s=4,a=7,u=.3,l=Array.prototype.concat,h=tui.util.defineClass({_makeLinesPath:function(t){var e=tui.util.map(t,function(t){return["L",t.left,t.top]});return e=l.apply([],e),e[0]="M",e},_getAnchor:function(t,e,i){var n,o,r,s,a,u=(e.left-t.left)/2,l=(i.left-e.left)/2,h=Math.atan((e.left-t.left)/Math.abs(e.top-t.top)),c=Math.atan((i.left-e.left)/Math.abs(e.top-i.top));return h=t.top<e.top?Math.PI-h:h,c=i.top<e.top?Math.PI-c:c,n=Math.PI/2-(h+c)%(2*Math.PI)/2,o=u*Math.sin(n+h),r=u*Math.cos(n+h),s=l*Math.sin(n+c),a=l*Math.cos(n+c),{x1:e.left-o,y1:e.top+r,x2:e.left+s,y2:e.top+a}},_makeSplineLinesPath:function(t){var e=t[0],i=t.length,n=e,o=t[i-1],r=t.slice(1).slice(0,i-2),s=tui.util.map(r,function(e,i){var o=t[i+2],r=this._getAnchor(n,e,o);return n=e,[r.x1,r.y1,e.left,e.top,r.x2,r.y2]},this);return e.left-=1,s.push([o.left,o.top,o.left,o.top]),s.unshift(["M",e.left,e.top,"C",e.left,e.top]),s},_renderTooltipLine:function(t,e){var i=n.makeLinePath({left:10,top:e},{left:10,top:0});return n.renderLine(t,i,"transparent",1)},makeBorderStyle:function(t,e){var i;return t&&(i={stroke:t,"stroke-width":1,"stroke-opacity":e}),i},makeOutDotStyle:function(t,e){var i={"fill-opacity":t,"stroke-opacity":0,r:r};return e&&tui.util.extend(i,e),i},renderDot:function(t,e,i,n){var o=t.circle(e.left,e.top,r),s={fill:i,"fill-opacity":n,"stroke-opacity":0};return o.attr(s),{dot:o,color:i}},_renderDots:function(t,e,i,n){var o=tui.util.map(e,function(e,o){var r=i[o];return tui.util.map(e,function(e){var i=this.renderDot(t,e,r,n);return i},this)},this);return o},_getCenter:function(t,e){return{left:(t.left+e.left)/2,top:(t.top+e.top)/2}},_showDot:function(t){t.attr({"fill-opacity":1,"stroke-opacity":.3,"stroke-width":2,r:s})},showAnimation:function(t){var e=t.groupIndex,i=t.index,n=this.groupDots[i][e];this._showDot(n.dot)},_getPivotGroupDots:function(){return this.pivotGroupDots||(this.pivotGroupDots=tui.util.pivot(this.groupDots)),this.pivotGroupDots},_showGroupDots:function(t){var e=this._getPivotGroupDots();tui.util.forEachArray(e[t],function(t){this._showDot(t.dot)},this)},showGroupTooltipLine:function(t){var e=n.makeLinePath({left:t.position.left,top:t.position.top+t.dimension.height},{left:t.position.left,top:t.position.top});this.tooltipLine.attr({path:e,stroke:"#999","stroke-opacity":1})},showGroupAnimation:function(t){this._showGroupDots(t)},_hideDot:function(t,e){var i=this.outDotStyle;tui.util.isUndefined(e)||(i=tui.util.extend({},this.outDotStyle,{"fill-opacity":e})),t.attr(i)},hideAnimation:function(t){var e=t.groupIndex,i=t.index,n=this.groupDots[i][e],o=this.dotOpacity;o&&!tui.util.isNull(this.selectedLegendIndex)&&this.selectedLegendIndex!==i&&(o=u),n&&this._hideDot(n.dot,o)},_hideGroupDots:function(t){var e=this._getPivotGroupDots(),i=!tui.util.isNull(this.selectedLegendIndex),n=this.dotOpacity;tui.util.forEachArray(e[t],function(t,e){var o=n;o&&i&&this.selectedLegendIndex!==e&&(o=u),this._hideDot(t.dot,o)},this)},hideGroupTooltipLine:function(){this.tooltipLine.attr({"stroke-opacity":0})},hideGroupAnimation:function(t){this._hideGroupDots(t)},_moveDot:function(t,e){var i={cx:e.left,cy:e.top};this.dotOpacity&&(i=tui.util.extend({"fill-opacity":this.dotOpacity},i,this.borderStyle)),t.attr(i)},animate:function(t){function e(){var a=(new Date).getTime()-i,u=Math.min(r*(a/o),r);n.paper.setSize(u,s),u===r?(delete n.animationId,t()):n.animationId=requestAnimationFrame(e)}var i,n=this,r=this.dimension.width,s=this.dimension.height;this.animationId&&(cancelAnimationFrame(this.animationId),delete this.animationId),i=(new Date).getTime(),this.animationId=requestAnimationFrame(e)},_makeSelectionDot:function(t){var e=t.circle(0,0,a);return e.attr({fill:"#ffffff","fill-opacity":0,"stroke-opacity":0,"stroke-width":2}),e},selectSeries:function(t){var e=this.groupDots[t.index][t.groupIndex],i=this.groupPositions[t.index][t.groupIndex];this.selectedItem=e,this.selectionDot.attr({cx:i.left,cy:i.top,"fill-opacity":.5,"stroke-opacity":1,stroke:this.selectionColor||e.color})},unselectSeries:function(t){var e=this.groupDots[t.index][t.groupIndex];this.selectedItem===e&&this.selectionDot.attr({"fill-opacity":0,"stroke-opacity":0})}});e.exports=h},{"./raphaelRenderUtil":47}],46:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),o=window.Raphael,r=180,s=Math.PI/r,a=500,u=700,l=1,h=.3,c=tui.util.defineClass({render:function(t,e,i){var n,r=e.dimension;return this.paper=n=o(t,r.width,r.height),n.customAttributes.sector||(n.customAttributes.sector=tui.util.bind(this._makeSectorPath,this)),this.selectionColor=e.theme.selectionColor,this.circleBound=e.circleBound,this._renderPie(n,e,i),n},_makeSectorPath:function(t,e,i,n,o){var a=t+i*Math.sin(n*s),u=e-i*Math.cos(n*s),l=t+i*Math.sin(o*s),h=e-i*Math.cos(o*s),c=o-n>r?1:0,d=["M",t,e,"L",a,u,"A",i,i,0,c,1,l,h,"Z"];return{path:d}},_renderSector:function(t){var e=t.circleBound,i=t.angles;return t.paper.path().attr({sector:[e.cx,e.cy,e.r,i.startAngle,i.endAngle]}).attr(t.attrs)},_renderPie:function(t,e,i){var n=e.circleBound,o=e.theme.colors,r=e.chartBackground,s=[];tui.util.forEachArray(e.sectorData,function(e,a){var u=e.percentValue,l=o[a],h=this._renderSector({paper:t,circleBound:n,angles:e.angles.start,attrs:{fill:l,stroke:r,"stroke-width":1}});this._bindHoverEvent(h,a,i),s.push({sector:h,color:l,angles:e.angles.end,percentValue:u})},this),this.sectors=s;
},renderLegendLines:function(t){var e,i=this;this.legendLines||(e=this._makeLinePaths(t),this.legendLines=tui.util.map(e,function(t){return n.renderLine(i.paper,t,"transparent",1)}))},_makeLinePaths:function(t){var e=tui.util.map(t,function(t){return[n.makeLinePath(t.start,t.middle),n.makeLinePath(t.middle,t.end),"Z"].join("")},this);return e},_bindHoverEvent:function(t,e,i){var n=[{},0,e],o=!1,r=tui.util.throttle(function(){o&&i.funcShowTooltip.apply(null,arguments)},100);t.mouseover(function(t){var e=n.concat({clientX:t.clientX,clientY:t.clientY});o=!0,i.funcShowTooltip.apply(null,e)}).mousemove(function(t){var e=n.concat({clientX:t.clientX,clientY:t.clientY-10});r.apply(null,e)}).mouseout(function(){o=!1,i.funcHideTooltip()}).click(function(){i.funcSelectSeries(e)})},_expandSector:function(t){var e=this.circleBound.cx,i=this.circleBound.cy;t.animate({transform:"s1.1 1.1 "+e+" "+i},a,"elastic")},_restoreSector:function(t){t.animate({transform:""},a,"elastic")},showAnimation:function(t){var e=this.sectors[t.index].sector;this._expandSector(e)},hideAnimation:function(t){var e=this.sectors[t.index].sector;this._restoreSector(e)},animate:function(t){var e=0,i=this.circleBound;tui.util.forEachArray(this.sectors,function(t){var n=t.angles,r=u*t.percentValue,s=o.animation({sector:[i.cx,i.cy,i.r,n.startAngle,n.endAngle]},r);t.sector.animate(s.delay(e)),e+=r},this),t&&setTimeout(t,e)},animateLegendLines:function(){this.legendLines&&tui.util.forEachArray(this.legendLines,function(t){t.animate({stroke:"black","stroke-opacity":1})})},resize:function(t){var e=t.dimension,i=t.circleBound;this.circleBound=i,this.paper.setSize(e.width,e.height),tui.util.forEachArray(this.sectors,function(t){var e=t.angles;t.sector.attr({sector:[i.cx,i.cy,i.r,e.startAngle,e.endAngle]})},this)},moveLegendLines:function(t){var e;this.legendLines&&(e=this._makeLinePaths(t),tui.util.forEachArray(this.legendLines,function(t,i){return t.attr({path:e[i]}),t}))},selectSeries:function(t){var e=this.sectors[t.index],i=o.color(e.color),r=this.selectionColor||n.makeChangedLuminanceColor(i.hex,.2);e.sector.attr({fill:r})},unselectSeries:function(t){var e=this.sectors[t.index];e.sector.attr({fill:e.color})},selectLegend:function(t){var e=tui.util.isNull(t);tui.util.forEachArray(this.sectors,function(i,n){var o;o=e||t===n?l:h,i.sector.attr({"fill-opacity":o})},this)}});e.exports=c},{"./raphaelRenderUtil":47}],47:[function(t,e,i){"use strict";var n={makeLinePath:function(t,e,i){var n=[t.left,t.top],o=[e.left,e.top];return i=i||1,tui.util.forEachArray(n,function(t,e){t===o[e]&&(n[e]=o[e]=Math.round(t)-i%2/2)}),["M"].concat(n).concat("L").concat(o)},renderLine:function(t,e,i,n){var o=t.path([e]),r={stroke:i,"stroke-width":n||2};return"transparent"===i&&(r.stroke="#fff",r["stroke-opacity"]=0),o.attr(r),o},forEach2dArray:function(t,e){tui.util.forEachArray(t,function(t,i){tui.util.forEachArray(t,function(t,n){e(t,i,n)},this)},this)},makeChangedLuminanceColor:function(t,e){return t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0,"#"+tui.util.map(tui.util.range(3),function(i){var n=parseInt(t.substr(2*i,2),16);return n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),("00"+n).substr(n.length)}).join("")}};e.exports=n},{}],48:[function(require,module,exports){window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(){var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)},i={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},n=function(t){return i[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},o=/[\\"\u0000-\u001F\u2028\u2029]/g;return function r(i){if(null==i)return"null";if("number"==typeof i)return isFinite(i)?i.toString():"null";if("boolean"==typeof i)return i.toString();if("object"==typeof i){if("function"==typeof i.toJSON)return r(i.toJSON());if(e(i)){for(var s="[",a=0;a<i.length;a++)s+=(a?", ":"")+r(i[a]);return s+"]"}if("[object Object]"===t.call(i)){var u=[];for(var l in i)i.hasOwnProperty(l)&&u.push(r(l)+": "+r(i[l]));return"{"+u.join(", ")+"}"}}return'"'+i.toString().replace(o,n)+'"'}}()}),function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),o=window.setTimeout(function(){e(i+n)},n);return t=i+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},{}],49:[function(t,e,i){"use strict";var n=t("./const"),o=t("./factories/chartFactory"),r=t("./charts/barChart"),s=t("./charts/columnChart"),a=t("./charts/lineChart"),u=t("./charts/areaChart"),l=t("./charts/comboChart"),h=t("./charts/pieChart");o.register(n.CHART_TYPE_BAR,r),o.register(n.CHART_TYPE_COLUMN,s),o.register(n.CHART_TYPE_LINE,a),o.register(n.CHART_TYPE_AREA,u),o.register(n.CHART_TYPE_COMBO,l),o.register(n.CHART_TYPE_PIE,h)},{"./charts/areaChart":4,"./charts/barChart":6,"./charts/columnChart":8,"./charts/comboChart":9,"./charts/lineChart":10,"./charts/pieChart":12,"./const":15,"./factories/chartFactory":23}],50:[function(t,e,i){"use strict";var n=t("./const"),o=t("./factories/themeFactory"),r=t("./themes/defaultTheme");o.register(n.DEFAULT_THEME_NAME,r)},{"./const":15,"./factories/themeFactory":25,"./themes/defaultTheme":60}],51:[function(t,e,i){"use strict";var n=t("./series"),o=t("./lineTypeSeriesBase"),r=t("../const"),s=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makePositionTopOfZeroPoint:function(){var t=this.bound.dimension,e=this.data.limit,i=this._getLimitDistanceFromZeroPoint(t.height,e),n=i.toMax;return e.min>=0&&!n&&(n=t.height),n+r.SERIES_EXPAND_SIZE},_makeStackedPositions:function(t){var e=this.bound.dimension.height+r.SERIES_EXPAND_SIZE,i=this._makePositionTopOfZeroPoint(),n=[];return tui.util.map(t,function(t){return tui.util.map(t,function(t,o){var r=n[o]||i,s=e-t.top,a=r-s;return t.startTop=r,t.top=a,n[o]=a,t})})},_makeNormalPositions:function(t){var e=this._makePositionTopOfZeroPoint();return tui.util.map(t,function(t){return tui.util.map(t,function(t){return t.startTop=e,t})})},_makePositions:function(t){var e=this._makeBasicPositions(t);return e=this.options.stacked?this._makeStackedPositions(e):this._makeNormalPositions(e)},makeSeriesData:function(t){var e=this._getLimitDistanceFromZeroPoint(t.dimension.height,this.data.limit).toMax;return{groupPositions:this._makePositions(t.dimension),zeroTop:e+r.SERIES_EXPAND_SIZE}}});o.mixin(s),e.exports=s},{"../const":15,"./lineTypeSeriesBase":56,"./series":58}],52:[function(t,e,i){"use strict";var n=t("./series"),o=t("./barTypeSeriesBase"),r=t("../const"),s=t("../helpers/predicate"),a=t("../helpers/renderUtil"),u=t("../helpers/calculator"),l=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeBarChartBound:function(t){return{start:tui.util.extend({left:t.startLeft,width:0},t.baseBound),end:tui.util.extend({left:t.endLeft,width:t.endWidth},t.baseBound)}},_makeNormalBarChartBound:function(t,e,i,n){var o,s,a,u;return o=t.distance.toMin+r.SERIES_EXPAND_SIZE,s=Math.abs(e*t.dimension.width),u={top:i+t.step*n+r.SERIES_EXPAND_SIZE,height:t.barSize},a=this._makeBarChartBound({baseBound:u,startLeft:o,endLeft:o+(0>e?-s:0),endWidth:s})},_makeNormalBarChartBounds:function(t){var e=this._makeBaseInfoForNormalChartBounds(t,"width","height"),i=this._makeNormalBounds(e,tui.util.bind(this._makeNormalBarChartBound,this));return i},_makeStackedBarChartBounds:function(t){var e=this,i=this._makeBaseInfoForStackedChartBounds(t,"width");return this._makeStackedBounds(t,i,function(t,n,o){return e._makeBarChartBound({baseBound:t,startLeft:i.distance.toMin+r.SERIES_EXPAND_SIZE,endLeft:i.distance.toMin+o,endWidth:n})})},_makeBounds:function(t){var e;return e=s.isValidStackedOption(this.options.stacked)?this._makeStackedBarChartBounds(t):this._makeNormalBarChartBounds(t)},makeSeriesRenderingPosition:function(t){var e=a.getRenderedLabelWidth(t.formattedValue,this.theme.label),i=t.bound,n=i.left,o=i.top+(i.height-t.labelHeight+r.TEXT_PADDING)/2;return t.value>=0?n+=i.width+r.SERIES_LABEL_PADDING:n-=e+r.SERIES_LABEL_PADDING,{left:n,top:o}},_calculateSumLabelTopPosition:function(t,e){return t.top+(t.height-e+r.TEXT_PADDING)/2},_makePlusSumLabelHtml:function(t,e,i){var n,o,s="";return e&&(n=u.sumPlusValues(t),o=a.formatValue(n,this.dataProcessor.getFormatFunctions()),s=this._makeSeriesLabelHtml({left:e.left+e.width+r.SERIES_LABEL_PADDING,top:this._calculateSumLabelTopPosition(e,i)},o,-1,-1)),s},_makeMinusSumLabelHtml:function(t,e,i){var n,o,s,l="";return e&&(n=u.sumMinusValues(t),o=a.formatValue(n,this.dataProcessor.getFormatFunctions()),s=a.getRenderedLabelWidth(o,this.theme.label),l=this._makeSeriesLabelHtml({left:e.left-s-r.SERIES_LABEL_PADDING,top:this._calculateSumLabelTopPosition(e,i)},o,-1,-1)),l}});o.mixin(l),e.exports=l},{"../const":15,"../helpers/calculator":28,"../helpers/predicate":32,"../helpers/renderUtil":33,"./barTypeSeriesBase":53,"./series":58}],53:[function(t,e,i){"use strict";var n=t("../const"),o=t("../helpers/renderUtil"),r=tui.util.defineClass({makeSeriesData:function(t){var e=this._makeBounds(t.dimension);return this.groupBounds=e,{groupBounds:e,groupValues:this._getPercentValues()}},_makeBarGutter:function(t,e){var i,n=t/(e+1)/2;return i=2>=n?0:6>=n?2:4},_makeBarSize:function(t,e,i){return(t-e*(i-1))/(i+1)},_makeOptionSize:function(t,e){var i=0;return e&&(i=tui.util.min([t,e])),i},_makeAdditionPadding:function(t,e,i){var n=0;return e&&t>e&&(n=(t-e)*i/2),t/2+n},_makeBaseInfoForNormalChartBounds:function(t,e,i){var n=this._getPercentValues(),o=t[i]/n.length,r=n[0]&&n[0].length||0,s=this._makeBarGutter(o,r),a=this._makeBarSize(o,s,r),u=this._makeOptionSize(a,this.options.barWidth),l=this._makeAdditionPadding(a,u,r),h=this._getLimitDistanceFromZeroPoint(t[e],this.data.limit);return a=u||a,{dimension:t,groupSize:o,barSize:a,additionPadding:l,step:a+s,distance:h,isMinus:this.data.limit.min<0&&this.data.limit.max<=0}},_makeNormalBounds:function(t,e){return tui.util.map(this._getPercentValues(),function(i,n){var o=t.groupSize*n+t.additionPadding;return tui.util.map(i,function(i,n){return e(t,i,o,n)},this)},this)},_makeBaseInfoForStackedChartBounds:function(t,e){var i,o,r,s,a,u,l,h=this._getLimitDistanceFromZeroPoint(t[e],this.data.limit),c={};return"height"===e?(a="width",u="left",l=-n.SERIES_EXPAND_SIZE):(a="height",u="top",l=n.SERIES_EXPAND_SIZE),i=t[a]/this._getPercentValues().length,o=i/2,r=this._makeOptionSize(o,this.options.barWidth),s=this._makeAdditionPadding(o,r,1),c[a]=r||o,{groupSize:i,baseBound:c,additionPadding:s+n.SERIES_EXPAND_SIZE,dimensionSize:t[e],positionType:u,baseEndPosition:l,distance:h}},_makeStackedBounds:function(t,e,i){var n=tui.util.map(this._getPercentValues(),function(t,n){var o=e.groupSize*n+e.additionPadding,r=e.baseEndPosition,s=e.baseEndPosition;return tui.util.map(t,function(t){var n=null,a=Math.abs(t*e.dimensionSize);return e.baseBound[e.positionType]=o,t>=0?(n=i(e.baseBound,a,r),r+=a):(s-=a,n=i(e.baseBound,a,s)),n},this)},this);return n},_renderNormalSeriesLabel:function(t,e){var i,n=t.groupBounds,r=this.dataProcessor.getFirstFormattedValue(this.chartType),s=o.getRenderedLabelHeight(r,this.theme.label);i=tui.util.map(this.dataProcessor.getGroupValues(this.chartType),function(t,e){return tui.util.map(t,function(t,i){var o,r,a;return o=n[e][i].end,r=this.dataProcessor.getFormattedValue(e,i,this.chartType),a=this.makeSeriesRenderingPosition({value:t,bound:o,formattedValue:r,labelHeight:s}),this._makeSeriesLabelHtml(a,r,e,i)},this).join("")},this).join(""),e.innerHTML=i},_makeSumValues:function(t){var e=tui.util.sum(t);return o.formatValue(e,this.dataProcessor.getFormatFunctions())},_makeStackedLabelPosition:function(t,e,i){var r=o.getRenderedLabelWidth(e,this.theme.label),s=t.left+(t.width-r+n.TEXT_PADDING)/2,a=t.top+(t.height-i+n.TEXT_PADDING)/2;return{left:s,top:a}},_makeStackedLabelsHtml:function(t){var e,i,n,o=t.values,r=t.labelHeight;return e=tui.util.map(o,function(e,o){var r,s,a,u=t.bounds[o],l="";return u&&e&&(r=u.end,s=this.dataProcessor.getFormattedValue(t.groupIndex,o,this.chartType),a=this._makeStackedLabelPosition(r,s,t.labelHeight),l=this._makeSeriesLabelHtml(a,s,t.groupIndex,o)),e>0?i=r:0>e&&(n=r),l},this),"normal"===this.options.stacked&&(e.push(this._makePlusSumLabelHtml(o,i,r)),e.push(this._makeMinusSumLabelHtml(o,n,r))),e.join("")},_renderStackedSeriesLabel:function(t,e){var i,n=t.groupBounds,r=this.dataProcessor.getGroupValues(this.chartType),s=this.dataProcessor.getFirstFormattedValue(this.chartType),a=o.getRenderedLabelHeight(s,this.theme.label);i=tui.util.map(r,function(t,e){var i=this._makeStackedLabelsHtml({groupIndex:e,values:t,bounds:n[e],labelHeight:a});return i},this).join(""),e.innerHTML=i},_renderSeriesLabel:function(t,e){this.options.showLabel&&(this.options.stacked?this._renderStackedSeriesLabel(t,e):this._renderNormalSeriesLabel(t,e))}});r.mixin=function(t){tui.util.extend(t.prototype,r.prototype)},e.exports=r},{"../const":15,"../helpers/renderUtil":33}],54:[function(t,e,i){"use strict";var n=t("./series"),o=t("./barTypeSeriesBase"),r=t("../const"),s=t("../helpers/predicate"),a=t("../helpers/renderUtil"),u=t("../helpers/calculator"),l=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeStartEndTops:function(t,e,i){var n;return 0>i?n=t:(n=t,t-=e),{startTop:n,endTop:t}},_makeColumnChartBound:function(t){return{start:tui.util.extend({top:t.startTop,height:0},t.baseBound),end:tui.util.extend({top:t.endTop,height:t.endHeight},t.baseBound)}},_makeNormalColumnChartBound:function(t,e,i,n){var o,s,a,u;return o=Math.abs(e*t.dimension.height),s=(t.isMinus?0:t.distance.toMax||t.dimension.height)+r.SERIES_EXPAND_SIZE,a=this._makeStartEndTops(s,o,e),u=this._makeColumnChartBound(tui.util.extend({baseBound:{left:i+t.step*n+r.SERIES_EXPAND_SIZE,width:t.barSize},endHeight:o},a))},_makeNormalColumnChartBounds:function(t){var e=this._makeBaseInfoForNormalChartBounds(t,"height","width"),i=this._makeNormalBounds(e,tui.util.bind(this._makeNormalColumnChartBound,this));return i},_makeStackedColumnChartBounds:function(t){var e=this,i=this._makeBaseInfoForStackedChartBounds(t,"height"),n=this._makeStackedBounds(t,i,function(t,n,o){return e._makeColumnChartBound({baseBound:t,startTop:i.distance.toMax+r.SERIES_EXPAND_SIZE,endTop:i.distance.toMax-n-o,endHeight:n})});return n},_makeBounds:function(t){var e;return e=s.isValidStackedOption(this.options.stacked)?this._makeStackedColumnChartBounds(t):this._makeNormalColumnChartBounds(t)},makeSeriesRenderingPosition:function(t){var e=a.getRenderedLabelWidth(t.formattedValue,this.theme.label),i=t.bound,n=i.top,o=i.left+(i.width-e)/2;return t.value>=0?n-=t.labelHeight+r.SERIES_LABEL_PADDING:n+=i.height+r.SERIES_LABEL_PADDING,{left:o,top:n}},_calculateSumLabelLeftPosition:function(t,e){var i=a.getRenderedLabelWidth(e,this.theme.label);return t.left+(t.width-i+r.TEXT_PADDING)/2},_makePlusSumLabelHtml:function(t,e,i){var n,o,s="";return e&&(n=u.sumPlusValues(t),o=a.formatValue(n,this.dataProcessor.getFormatFunctions()),s=this._makeSeriesLabelHtml({left:this._calculateSumLabelLeftPosition(e,o),top:e.top-i-r.SERIES_LABEL_PADDING},o,-1,-1)),s},_makeMinusSumLabelHtml:function(t,e){var i,n,o="";return e&&(i=u.sumMinusValues(t),n=a.formatValue(i,this.dataProcessor.getFormatFunctions()),o=this._makeSeriesLabelHtml({left:this._calculateSumLabelLeftPosition(e,n),top:e.top+e.height+r.SERIES_LABEL_PADDING},n,-1,-1)),o}});o.mixin(l),e.exports=l},{"../const":15,"../helpers/calculator":28,"../helpers/predicate":32,"../helpers/renderUtil":33,"./barTypeSeriesBase":53,"./series":58}],55:[function(t,e,i){"use strict";var n=t("./series"),o=t("./lineTypeSeriesBase"),r=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makePositions:function(t){return this._makeBasicPositions(t)},makeSeriesData:function(t){return{groupPositions:this._makePositions(t.dimension)}}});o.mixin(r),e.exports=r},{"./lineTypeSeriesBase":56,"./series":58}],56:[function(t,e,i){"use strict";var n=t("../const"),o=t("../helpers/renderUtil"),r=tui.util.defineClass({_makeBasicPositions:function(t){var e,i=this._getPercentValues(),o=t.width,r=t.height,s=i[0].length,a=n.SERIES_EXPAND_SIZE;return this.data.aligned?e=o/(s-1):(e=o/s,a+=e/2),tui.util.map(i,function(t){return tui.util.map(t,function(t,i){return{left:a+e*i,top:r-t*r+n.SERIES_EXPAND_SIZE}})})},_makeLabelPositionTop:function(t,e,i){var o;return o=this.options.stacked&&t.startTop?(t.startTop+t.top-i)/2+1:0>e&&!tui.util.isUndefined(t.startTop)?t.top+n.SERIES_LABEL_PADDING:t.top-i-n.SERIES_LABEL_PADDING},_renderSeriesLabel:function(t,e){var i,n,r,s,a;this.options.showLabel&&(r=t.groupPositions,i=tui.util.pivot(this.dataProcessor.getFormattedGroupValues(this.chartType)),n=this.dataProcessor.getFirstFormattedValue(this.chartType),s=o.getRenderedLabelHeight(n,this.theme.label),a=tui.util.map(i,function(t,e){return tui.util.map(t,function(t,i){var n,a=r[e][i],u="";return a.top!==a.startTop&&(n=o.getRenderedLabelWidth(t,this.theme.label),u=this._makeSeriesLabelHtml({left:a.left-n/2,top:this._makeLabelPositionTop(a,t,s)},t,i,e)),u},this).join("")},this).join(""),e.innerHTML=a)},_isChanged:function(t,e){var i=this.prevIndexes;return this.prevIndexes={groupIndex:t,index:e},!i||i.groupIndex!==t||i.index!==e},onShowGroupTooltipLine:function(t){this.graphRenderer.showGroupTooltipLine&&this.graphRenderer.showGroupTooltipLine(t)},onHideGroupTooltipLine:function(){this.graphRenderer.hideGroupTooltipLine&&this.graphRenderer.hideGroupTooltipLine()}});r.mixin=function(t){tui.util.extend(t.prototype,r.prototype)},e.exports=r},{"../const":15,"../helpers/renderUtil":33}],57:[function(t,e,i){"use strict";var n=t("./series"),o=t("../const"),r=t("../helpers/predicate"),s=t("../helpers/domHandler"),a=t("../helpers/renderUtil"),u=t("../helpers/eventListener"),l=tui.util.defineClass(n,{init:function(t){this.legendAlign=t.legendAlign,this.chartBackground=t.chartBackground,n.call(this,t)},_makeSectorData:function(t,e){var i,n=e.cx,r=e.cy,s=e.r,a=0,u=10;return i=tui.util.map(t,function(t){var e=o.ANGLE_360*t,i=a+e,l=a+e/2,h={start:{startAngle:a,endAngle:a},end:{startAngle:a,endAngle:i}},c={cx:n,cy:r,angle:l};return a=i,{percentValue:t,angles:h,centerPosition:this._getArcPosition(tui.util.extend({r:s/2+u},c)),outerPosition:{start:this._getArcPosition(tui.util.extend({r:s},c)),middle:this._getArcPosition(tui.util.extend({r:s+u},c))}}},this)},makeSeriesData:function(t){var e=this._makeCircleBound(t.dimension,{showLabel:this.options.showLabel,legendAlign:this.legendAlign}),i=this._makeSectorData(this._getPercentValues()[0],e);return{chartBackground:this.chartBackground,circleBound:e,sectorData:i}},_makeCircleBound:function(t,e){var i=t.width,n=t.height,s=r.isOuterLegendAlign(e.legendAlign)&&e.showLabel,a=s?o.PIE_GRAPH_SMALL_RATE:o.PIE_GRAPH_DEFAULT_RATE,u=tui.util.multiplication(tui.util.min([i,n]),a);return{cx:tui.util.division(i,2),cy:tui.util.division(n,2),r:tui.util.division(u,2)}},_getArcPosition:function(t){return{left:t.cx+t.r*Math.sin(t.angle*o.RAD),top:t.cy-t.r*Math.cos(t.angle*o.RAD)}},_makeSeriesDataForSeriesLabel:function(t){return tui.util.extend({options:{legendAlign:this.legendAlign,showLabel:this.options.showLabel},chartWidth:this.data.chartWidth},t)},_renderGraph:function(t,e){var i=tui.util.bind(this.showTooltip,this,{allowNegativeTooltip:!!this.allowNegativeTooltip,chartType:this.chartType}),n={funcShowTooltip:i,funcHideTooltip:tui.util.bind(this.hideTooltip,this),funcSelectSeries:tui.util.bind(this.selectSeries,this)},o=this._makeParamsForGraphRendering(t,e);this.graphRenderer.render(this.seriesContainer,o,n)},render:function(){var t=n.prototype.render.apply(this,arguments);return this.attachEvent(t),t},resize:function(){n.prototype.resize.apply(this,arguments),this._moveLegendLines(this.seriesData),this._updateContainerBound()},showTooltip:function(t,e,i,n,o){this.fire("showTooltip",tui.util.extend({indexes:{groupIndex:i,index:n},bound:e,eventPosition:o},t))},hideTooltip:function(){this.fire("hideTooltip")},_makeSeriesDataBySelection:function(t){return{indexes:{index:t,groupIndex:t}}},selectSeries:function(t){var e=this._makeSeriesDataBySelection(t);this.selectedIndex===t?(this.onUnselectSeries(e),delete this.selectedIndex):(tui.util.isUndefined(this.selectedIndex)||this.onUnselectSeries(this._makeSeriesDataBySelection(this.selectedIndex)),this.onSelectSeries(e),this.selectedIndex=t)},_getSeriesLabel:function(t){var e="";return t.options.legendAlign&&(e='<span class="tui-chart-series-legend">'+t.legend+"</span>"),t.options.showLabel&&(e+=(e?t.separator:"")+t.label),e},_renderLegendLabel:function(t,e){var i,n=t.positions;i=tui.util.map(this.dataProcessor.getLegendLabels(),function(e,i){var o=this._getSeriesLabel({legend:e,label:this.dataProcessor.getFormattedValue(0,i,this.chartType),separator:t.separator,options:t.options}),r=t.funcMoveToPosition(n[i],o);return this._makeSeriesLabelHtml(r,o,0,i)},this).join(""),e.innerHTML=i},_moveToCenterPosition:function(t,e){var i=t.left-a.getRenderedLabelWidth(e,this.theme.label)/2,n=t.top-a.getRenderedLabelHeight(e,this.theme.label)/2;return{left:i,top:n}},_renderCenterLegend:function(t,e){this._renderLegendLabel(tui.util.extend({positions:tui.util.pluck(t.sectorData,"centerPosition"),funcMoveToPosition:tui.util.bind(this._moveToCenterPosition,this),separator:"<br>"},t),e)},_addEndPosition:function(t,e){tui.util.forEach(e,function(e){var i=tui.util.extend({},e.middle);i.left<t?i.left-=o.SERIES_OUTER_LABEL_PADDING:i.left+=o.SERIES_OUTER_LABEL_PADDING,e.end=i})},_moveToOuterPosition:function(t,e,i){var n=e.end,r=n.left,s=n.top-a.getRenderedLabelHeight(i,this.theme.label)/2;return t>r?r-=a.getRenderedLabelWidth(i,this.theme.label)+o.SERIES_LABEL_PADDING:r+=o.SERIES_LABEL_PADDING,{left:r,top:s}},_renderOuterLegend:function(t,e){var i=tui.util.pluck(t.sectorData,"outerPosition"),n=t.chartWidth/2;this._addEndPosition(n,i),this._renderLegendLabel(tui.util.extend({positions:i,funcMoveToPosition:tui.util.bind(this._moveToOuterPosition,this,n),separator:":&nbsp;"},t),e),this.graphRenderer.renderLegendLines(i)},_renderSeriesLabel:function(t,e){var i=t.options.legendAlign;r.isOuterLegendAlign(i)?this._renderOuterLegend(t,e):this._renderCenterLegend(t,e)},animateShowingAboutSeriesLabelArea:function(){this.graphRenderer.animateLegendLines(),n.prototype.animateShowingAboutSeriesLabelArea.call(this)},_moveLegendLines:function(t){var e=tui.util.pluck(t.sectorData,"outerPosition"),i=this.data.chartWidth/2;this._addEndPosition(i,e),this.graphRenderer.moveLegendLines(e)},_handleMouseEvent:function(t,e){var i,n,o=t.target||t.srcElement,r=this._findLabelElement(o);r&&(i=parseInt(r.getAttribute("data-group-index"),10),n=parseInt(r.getAttribute("data-index"),10),-1!==i&&-1!==n&&e(i,n,o))},_findLegendElement:function(t){var e;return s.hasClass(t,o.CLASS_NAME_SERIES_LEGEND)&&(e=t),e},_onClick:function(t){var e=this;this._handleMouseEvent(t,function(t,i,n){var o,r=e._findLegendElement(n);r?(o=e.dataProcessor.getLegendData(i),e.userEvent.fire("selectLegend",{legend:o.label,chartType:o.chartType,legendIndex:i,index:i})):e.selectSeries(i)})},_updateContainerBound:function(){this.containerBound=this.seriesContainer.getBoundingClientRect()},_getContainerBound:function(){return this.containerBound||this._updateContainerBound(),this.containerBound},_makeLabelBound:function(t,e){var i=this._getContainerBound();return{left:t-i.left,top:e-i.top}},_onMouseover:function(t){var e=this;this._handleMouseEvent(t,function(i,n){var o=e._makeLabelBound(t.clientX,t.clientY-10);e.showTooltip({allowNegativeTooltip:!!e.allowNegativeTooltip,chartType:e.chartType},o,i,n)})},_onMouseout:function(t){var e=this;this._handleMouseEvent(t,function(t,i){e.hideTooltip(t,i)})},attachEvent:function(t){u.bindEvent("click",t,tui.util.bind(this._onClick,this)),u.bindEvent("mouseover",t,tui.util.bind(this._onMouseover,this)),u.bindEvent("mouseout",t,tui.util.bind(this._onMouseout,this))}});tui.util.CustomEvents.mixin(l),e.exports=l},{"../const":15,"../helpers/domHandler":30,"../helpers/eventListener":31,"../helpers/predicate":32,"../helpers/renderUtil":33,"./series":58}],58:[function(t,e,i){"use strict";var n=t("./seriesTemplate"),o=t("../const"),r=t("../helpers/domHandler"),s=t("../helpers/renderUtil"),a=t("../factories/pluginFactory"),u=tui.util.defineClass({init:function(t){var e=t.libType||o.DEFAULT_PLUGIN;this.chartType=t.chartType,this.componentType=t.componentType,this.dataProcessor=t.dataProcessor,this.userEvent=t.userEvent,this.options=t.options||{},this.orgTheme=this.theme=t.theme,this.graphRenderer=a.get(e,t.chartType),this.className="tui-chart-series-area",this.seriesContainer=null,this.seriesLabelContainer=null,this.seriesData=[],this.selectedLegendIndex=null},makeSeriesData:function(){return{}},getSeriesData:function(){return this.seriesData},_renderSeriesLabel:function(){},_setBaseData:function(t,e){this.data=e,this.bound=t,this.dataProcessor.setPercentValues(this.data.limit,this.options.stacked,this.chartType)},_getPercentValues:function(){return this.dataProcessor.getPercentValues(this.chartType)},_renderSeriesLabelArea:function(t,e,i){var n=this._makeSeriesDataForSeriesLabel(e,t);return i||(i=r.create("div","tui-chart-series-label-area")),this._renderSeriesLabel(n,i),i},_renderSeriesArea:function(t,e,i,n){var o,a,u;this._setBaseData(e,i),o=s.expandBound(e),this.seriesData=a=this.makeSeriesData(e),s.renderDimension(t,o.dimension),this._renderPosition(t,o.position,this.chartType),n&&n(o.dimension,a),u=this._renderSeriesLabelArea(o.dimension,a,this.seriesLabelContainer),this.seriesLabelContainer||(this.seriesLabelContainer=u,r.append(t,u))},_makeParamsForGraphRendering:function(t,e){return tui.util.extend({dimension:t,chartType:this.chartType,theme:this.theme,options:this.options},e)},_renderGraph:function(t,e){var i=this._makeParamsForGraphRendering(t,e);this.graphRenderer.render(this.seriesContainer,i)},render:function(t,e){var i=r.create("DIV",this.className);return this.seriesContainer=i,this.bound=t,this._renderSeriesArea(i,t,e,tui.util.bind(this._renderGraph,this)),i},_updateTheme:function(t,e){var i;return e.length?(i=JSON.parse(JSON.stringify(t)),i.colors=tui.util.filter(i.colors,function(t,i){return e[i]}),i):t},rerender:function(t,e){var i=this.dataProcessor.getGroupValues(this.chartType),n=this;this.seriesContainer.innerHTML="",this.seriesLabelContainer=null,this.selectedLegendIndex=null,this.seriesData=[],i&&i.length&&(this.theme=this._updateTheme(this.orgTheme,e.checkedLegends),this._renderSeriesArea(this.seriesContainer,t,e,tui.util.bind(n._renderGraph,this)),this.labelShower&&clearInterval(this.labelShower.timerId),this.animateComponent())},_resizeGraph:function(t,e){this.graphRenderer.resize(tui.util.extend({dimension:t},e))},resize:function(t,e){this._renderSeriesArea(this.seriesContainer,t,e,tui.util.bind(this._resizeGraph,this))},_makeSeriesDataForSeriesLabel:function(t,e){return tui.util.extend({dimension:e},t)},_renderPosition:function(t,e){var i=s.isOldBrowser()?o.HIDDEN_WIDTH:0;s.renderPosition(t,{top:e.top-2*i,left:e.left-i})},_getLimitDistanceFromZeroPoint:function(t,e){var i=e.min,n=e.max,o=n-i,r=0,s=0;return 0>=i&&n>=0&&(r=(o+i)/o*t,s=(o-n)/o*t),{toMax:r,toMin:s}},_findLabelElement:function(t){var e=null;return e=r.hasClass(t,o.CLASS_NAME_SERIES_LABEL)?t:r.findParentByClass(t,o.CLASS_NAME_SERIES_LABEL)},onShowAnimation:function(t){this.graphRenderer.showAnimation&&this.graphRenderer.showAnimation(t)},onHideAnimation:function(t){this.graphRenderer.hideAnimation&&this.graphRenderer.hideAnimation(t)},onShowGroupAnimation:function(t){this.graphRenderer.showGroupAnimation&&this.graphRenderer.showGroupAnimation(t)},onHideGroupAnimation:function(t){this.graphRenderer.hideGroupAnimation&&this.graphRenderer.hideGroupAnimation(t)},animateComponent:function(){this.graphRenderer.animate&&this.graphRenderer.animate(tui.util.bind(this.animateShowingAboutSeriesLabelArea,this))},_makeOpacityCssText:function(){var t;return t=s.isOldBrowser()?function(t){return";filter: alpha(opacity="+100*t+")"}:function(t){return";opacity: "+t}}(),_makeSeriesLabelHtml:function(t,e,i,o){var r=tui.util.extend(t,this.theme.label);return tui.util.isNull(this.selectedLegendIndex)||this.selectedLegendIndex===o?r.opacity="":r.opacity=this._makeOpacityCssText(.3),n.tplSeriesLabel({cssText:n.tplCssText(r),value:e,groupIndex:i,index:o})},animateShowingAboutSeriesLabelArea:function(){var t=this;(this.options.showLabel||this.legendAlign)&&this.seriesLabelContainer&&(r.addClass(this.seriesLabelContainer,"show"),this.labelShower=new tui.component.Effects.Fade({element:this.seriesLabelContainer,duration:300}),this.labelShower.action({start:0,end:1,complete:function(){clearInterval(t.labelShower.timerId),delete t.labelShower}}))},_makeExportationSeriesData:function(t){var e=t.indexes.index,i=this.dataProcessor.getLegendData(e);return{chartType:i.chartType,legend:i.label,legendIndex:e,index:t.indexes.groupIndex}},onSelectSeries:function(t){this.userEvent.fire("selectSeries",this._makeExportationSeriesData(t)),this.options.hasSelection&&this.graphRenderer.selectSeries(t.indexes)},onUnselectSeries:function(t){this.userEvent.fire("unselectSeries",this._makeExportationSeriesData(t)),this.options.hasSelection&&this.graphRenderer.unselectSeries(t.indexes)},onSelectLegend:function(t,e){var i=this.dataProcessor.getGroupValues(this.chartType);this.chartType===t||tui.util.isNull(e)||(e=-1),this.selectedLegendIndex=e,i&&i.length&&(this._renderSeriesArea(this.seriesContainer,this.bound,this.data),this.graphRenderer.selectLegend(e))}});e.exports=u},{"../const":15,"../factories/pluginFactory":24,"../helpers/domHandler":30,"../helpers/renderUtil":33,"./seriesTemplate":59}],59:[function(t,e,i){var n=t("../helpers/templateMaker"),o={HTML_SERIES_LABEL:'<div class="tui-chart-series-label" style="{{ cssText }}" data-group-index="{{ groupIndex }}" data-index="{{ index }}">{{ value }}</div>',TEXT_CSS_TEXT:"left:{{ left }}px;top:{{ top }}px;font-family:{{ fontFamily }};font-size:{{ fontSize }}px{{opacity}}"};e.exports={tplSeriesLabel:n.template(o.HTML_SERIES_LABEL),tplCssText:n.template(o.TEXT_CSS_TEXT)}},{"../helpers/templateMaker":34}],60:[function(t,e,i){var n="#000000",o="#ffffff",r="",s={tickColor:n,title:{fontSize:12,fontFamily:r,color:n},label:{fontSize:12,fontFamily:r,color:n}},a={chart:{background:o,fontFamily:"Verdana"},title:{fontSize:18,fontFamily:r,color:n},yAxis:s,xAxis:s,plot:{lineColor:"#dddddd",background:"#ffffff"},series:{label:{fontSize:11,fontFamily:r,color:n},colors:["#ac4142","#d28445","#f4bf75","#90a959","#75b5aa","#6a9fb5","#aa759f","#8f5536"],borderColor:r,selectionColor:r},legend:{label:{fontSize:12,fontFamily:r,color:n}},tooltip:{}};e.exports=a},{}],61:[function(t,e,i){"use strict";var n=t("./tooltipBase"),o=t("./groupTooltipPositionModel"),r=t("../const"),s=t("../helpers/domHandler"),a=t("../helpers/renderUtil"),u=t("../themes/defaultTheme"),l=t("./tooltipTemplate"),h=tui.util.defineClass(n,{init:function(t){n.call(this,t)},_makeTooltipHtml:function(t,e){var i=l.tplGroupItem,n=l.tplGroupCssText,o=this._makeColors(this.theme),r=tui.util.map(e,function(t,e){return i(tui.util.extend({cssText:n({color:o[e]})},t))},this).join("");return l.tplGroup({category:t,items:r})},_setDefaultTooltipPositionOption:function(){this.options.align||(this.isVertical?this.options.align=r.TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION:this.options.align=r.TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION)},render:function(t,e){var i=n.prototype.render.call(this,t,e);return this.positionModel=new o(this.chartDimension,t,this.isVertical,this.options),this.orgWholeLegendData=this.dataProcessor.getWholeLegendData(),i},
rerender:function(t,e){n.prototype.rerender.call(this,t,e),this.theme=this._updateLegendTheme(e.checkedLegends)},_updateLegendTheme:function(t){var e=[];return tui.util.forEachArray(this.orgWholeLegendData,function(i){var n=t[i.chartType]||t;n[i.index]&&e.push(i.theme.color)}),{colors:e}},makeTooltipData:function(){return tui.util.map(this.dataProcessor.getWholeFormattedValues(),function(t,e){return{category:this.dataProcessor.getCategory(e),values:t}},this)},_makeColors:function(t){var e,i,n,o=0,r=this.dataProcessor.getWholeLegendData();return t.colors?t.colors:(e=u.series.colors.slice(0,r.length),tui.util.map(tui.util.pluck(r,"chartType"),function(r){var s;return n!==r&&(i=t[r]?t[r].colors:e,o=0),n=r,s=i[o],o+=1,s}))},_makeItemRenderingData:function(t){return tui.util.map(t,function(t,e){var i=this.dataProcessor.getLegendData(e);return{value:t,legend:i.label,chartType:i.chartType,suffix:this.suffix}},this)},_makeGroupTooltipHtml:function(t){var e=this.data[t],i=this._makeItemRenderingData(e.values);return this.templateFunc(e.category,i)},_getTooltipSectorElement:function(){var t;return this.groupTooltipSector||(this.groupTooltipSector=t=s.create("DIV","tui-chart-group-tooltip-sector"),s.append(this.tooltipContainer,t)),this.groupTooltipSector},_makeVerticalTooltipSectorBound:function(t,e,i){var n;return i?(n=1,t+=6):n=e.end-e.start,{dimension:{width:n,height:t},position:{left:e.start+r.SERIES_EXPAND_SIZE,top:r.SERIES_EXPAND_SIZE}}},_makeHorizontalTooltipSectorBound:function(t,e){return{dimension:{width:t,height:e.end-e.start+r.HIDDEN_WIDTH},position:{left:r.SERIES_EXPAND_SIZE-r.HIDDEN_WIDTH,top:e.start+r.SERIES_EXPAND_SIZE}}},_makeTooltipSectorBound:function(t,e,i,n){var o;return o=i?this._makeVerticalTooltipSectorBound(t,e,n):this._makeHorizontalTooltipSectorBound(t,e)},_showTooltipSector:function(t,e,i,n){var o=this._getTooltipSectorElement(),r=e.start===e.end,u=this._makeTooltipSectorBound(t,e,i,r);r?this.fire("showGroupTooltipLine",u):(a.renderDimension(o,u.dimension),a.renderPosition(o,u.position),s.addClass(o,"show")),this.fire("showGroupAnimation",n)},_hideTooltipSector:function(t){var e=this._getTooltipSectorElement();s.removeClass(e,"show"),this.fire("hideGroupAnimation",t),this.fire("hideGroupTooltipLine")},showTooltip:function(t,e,i){var n,o;tui.util.isUndefined(this.prevIndex)||this.fire("hideGroupAnimation",this.prevIndex),t.innerHTML=this._makeGroupTooltipHtml(e.index),this._fireBeforeShowTooltip(e.index,e.range),s.addClass(t,"show"),this._showTooltipSector(e.size,e.range,e.isVertical,e.index),n=this.getTooltipDimension(t),o=this.positionModel.calculatePosition(n,e.range),this.moveToPosition(t,o,i),this._fireAfterShowTooltip(e.index,e.range,{element:t,position:o}),this.prevIndex=e.index},_fireBeforeShowTooltip:function(t,e){this.userEvent.fire("beforeShowTooltip",{index:t,range:e})},_fireAfterShowTooltip:function(t,e,i){this.userEvent.fire("afterShowTooltip",tui.util.extend({index:t,range:e},i))},hideTooltip:function(t,e){delete this.prevIndex,this._hideTooltipSector(e),this.hideAnimation(t)}});e.exports=h},{"../const":15,"../helpers/domHandler":30,"../helpers/renderUtil":33,"../themes/defaultTheme":60,"./groupTooltipPositionModel":62,"./tooltipBase":64,"./tooltipTemplate":65}],62:[function(t,e,i){"use strict";var n=t("../const"),o=tui.util.defineClass({init:function(t,e,i,n){this.chartDimension=t,this.areaBound=e,this.isVertical=i,this.options=n,this.positions={},this._setData(t,e,i,n)},_getHorizontalDirection:function(t){var e;return t=t||"",e=t.indexOf("left")>-1?n.TOOLTIP_DIRECTION_BACKWARD:t.indexOf("center")>-1?n.TOOLTIP_DIRECTION_CENTER:n.TOOLTIP_DIRECTION_FORWARD},_makeVerticalData:function(t,e,i){var o=this._getHorizontalDirection(i);return{positionType:"left",sizeType:"width",direction:o,areaPosition:e.position.left,areaSize:e.dimension.width,chartSize:t.width,basePosition:n.SERIES_EXPAND_SIZE}},_getVerticalDirection:function(t){var e;return t=t||"",e=t.indexOf("top")>-1?n.TOOLTIP_DIRECTION_BACKWARD:t.indexOf("bottom")>-1?n.TOOLTIP_DIRECTION_FORWARD:n.TOOLTIP_DIRECTION_CENTER},_makeHorizontalData:function(t,e,i){var o=this._getVerticalDirection(i);return{positionType:"top",sizeType:"height",direction:o,areaPosition:e.position.top,areaSize:e.dimension.height,chartSize:t.height,basePosition:n.SERIES_EXPAND_SIZE}},_setData:function(t,e,i,n){var o=this._makeVerticalData(t,e,n.align),r=this._makeHorizontalData(t,e,n.align);i?(this.mainData=o,this.subData=r):(this.mainData=r,this.subData=o),this.positionOption=tui.util.extend({left:0,top:0},n.position),this.positions={}},_calculateMainPositionValue:function(t,e,i){var o=e.start===e.end,r=o?9:5,s=i.basePosition;return s+=i.direction===n.TOOLTIP_DIRECTION_FORWARD?e.end+r:i.direction===n.TOOLTIP_DIRECTION_BACKWARD?e.start-t-r:o?e.start-t/2:e.start+(e.end-e.start-t)/2},_calculateSubPositionValue:function(t,e){var i,o=e.areaSize/2;return i=e.direction===n.TOOLTIP_DIRECTION_FORWARD?o+e.basePosition:e.direction===n.TOOLTIP_DIRECTION_BACKWARD?o-t+e.basePosition:o-t/2+e.basePosition},_makePositionValueDiff:function(t,e,i){return t+i.areaPosition+e-i.chartSize},_adjustBackwardPositionValue:function(t,e,i,o){var r;return t<-o.areaPosition&&(r=this._calculateMainPositionValue(i,e,{direction:n.TOOLTIP_DIRECTION_FORWARD,basePosition:o.basePosition}),t=this._makePositionValueDiff(r,i,o)>0?-o.areaPosition:r),t},_adjustForwardPositionValue:function(t,e,i,o){var r,s=this._makePositionValueDiff(t,i,o);return s>0&&(r=this._calculateMainPositionValue(i,e,{direction:n.TOOLTIP_DIRECTION_BACKWARD,basePosition:o.basePosition}),r<-o.areaPosition?t-=s:t=r),t},_adjustMainPositionValue:function(t,e,i,o){return o.direction===n.TOOLTIP_DIRECTION_BACKWARD?t=this._adjustBackwardPositionValue(t,e,i,o):o.direction===n.TOOLTIP_DIRECTION_FORWARD?t=this._adjustForwardPositionValue(t,e,i,o):(t=tui.util.max([t,-o.areaPosition]),t=tui.util.min([t,o.chartSize-o.areaPosition-i])),t},_adjustSubPositionValue:function(t,e,i){return t=i.direction===n.TOOLTIP_DIRECTION_FORWARD?tui.util.min([t,i.chartSize-i.areaPosition-e]):tui.util.max([t,-i.areaPosition])},_makeCachingKey:function(t){return t.start+"-"+t.end},_addPositionOptionValue:function(t,e){return t+this.positionOption[e]},_makeMainPositionValue:function(t,e,i){var n;return n=this._calculateMainPositionValue(t[i.sizeType],e,i),n=this._addPositionOptionValue(n,i.positionType),n=this._adjustMainPositionValue(n,e,t[i.sizeType],i)},_makeSubPositionValue:function(t,e){var i;return i=this._calculateSubPositionValue(t[e.sizeType],e),i=this._addPositionOptionValue(i,e.positionType),i=this._adjustSubPositionValue(i,t[e.sizeType],e)},calculatePosition:function(t,e){var i=this._makeCachingKey(e),n=this.mainData,o=this.subData,r=this.positions[i];return r||(r={},r[n.positionType]=this._makeMainPositionValue(t,e,n),r[o.positionType]=this._makeSubPositionValue(t,o),this.positions[i]=r),r},updateOptions:function(t){this.options=t,this._setData(this.chartDimension,this.areaBound,this.isVertical,t)},updateBound:function(t){this.areaBound=t,this._setData(this.chartDimension,t,this.isVertical,this.options)}});e.exports=o},{"../const":15}],63:[function(t,e,i){"use strict";var n=t("./tooltipBase"),o=t("../const"),r=t("../helpers/predicate"),s=t("../helpers/domHandler"),a=t("../helpers/eventListener"),u=t("../helpers/renderUtil"),l=t("./tooltipTemplate"),h=tui.util.defineClass(n,{init:function(t){n.call(this,t),this.initValues(),this.containerBound=null},_makeTooltipHtml:function(t,e){return l.tplDefault(tui.util.extend({category:t||""},e))},initValues:function(){var t;tui.util.isArray(this.values)&&(t=this.values,this.values={},this.values[this.chartType]=t)},_setDefaultTooltipPositionOption:function(){this.options.align||(this.isVertical?this.options.align=o.TOOLTIP_DEFAULT_ALIGN_OPTION:this.options.align=o.TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION)},render:function(t,e){var i=n.prototype.render.call(this,t,e);return e&&(this.seriesPosition=e.seriesPosition),this._attachEvent(i),i},rerender:function(t,e){n.prototype.rerender.call(this,t,e),this.initValues()},resize:function(t,e){e&&(this.seriesPosition=e.seriesPosition),n.prototype.resize.call(this,t,e),this._updateContainerBound()},makeTooltipData:function(){var t=this.dataProcessor.getCategories(),e=this.dataProcessor.getFormattedGroupValues(),i=this.dataProcessor.getLegendLabels(),n={},o={},r={};return tui.util.isArray(e)?(n[this.chartType]=e,o[this.chartType]=i):(n=e,o=i),tui.util.forEach(n,function(e,i){r[i]=tui.util.map(e,function(e,n){return tui.util.map(e,function(e,r){return{category:t?t[n]:"",legend:o[i][r],value:e}})})}),r},_fireShowAnimation:function(t,e){var i=u.makeCustomEventName("show",e,"animation");this.fire(i,t)},_fireHideAnimation:function(t,e){var i=u.makeCustomEventName("hide",e,"animation");this.fire(i,t)},_setIndexesCustomAttribute:function(t,e){t.setAttribute("data-groupIndex",e.groupIndex),t.setAttribute("data-index",e.index)},_getIndexesCustomAttribute:function(t){var e=t.getAttribute("data-groupIndex"),i=t.getAttribute("data-index"),n=null;return tui.util.isNull(e)||tui.util.isNull(i)||(n={groupIndex:parseInt(e,10),index:parseInt(i,10)}),n},_setShowedCustomAttribute:function(t,e){t.setAttribute("data-showed",e)},_isShowedTooltip:function(t){var e=t.getAttribute("data-showed");return"true"===e||e===!0},_onMouseover:function(t){var e,i,n=t.target||t.srcElement;s.hasClass(n,o.TOOLTIP_PREFIX)||(n=s.findParentByClass(n,o.TOOLTIP_PREFIX)),e=this._getIndexesCustomAttribute(n),i=n.getAttribute("data-chart-type"),this._setShowedCustomAttribute(n,!0),this._fireShowAnimation(e,i)},_onMouseout:function(t){var e=t.target||t.srcElement;s.hasClass(e,o.TOOLTIP_PREFIX)||(e=s.findParentByClass(e,o.TOOLTIP_PREFIX)),this.hideTooltip(e)},_updateContainerBound:function(){this.containerBound=this.tooltipContainer.getBoundingClientRect()},_getTooltipContainerBound:function(){return this.containerBound||this._updateContainerBound(),this.containerBound},_calculateTooltipPositionAboutPieChart:function(t){var e=this._getTooltipContainerBound();return t.bound.left=t.eventPosition.clientX-e.left,t.bound.top=t.eventPosition.clientY-e.top,this._calculateTooltipPositionAboutNotBarChart(t)},_calculateTooltipPositionAboutNotBarChart:function(t){var e=t.bound,i=t.positionOption,n=t.dimension.width-(e.width||0),r=e.width?0:o.TOOLTIP_GAP,s=t.alignOption||"",a=t.dimension.height,u={};return u.left=e.left+i.left,u.top=e.top-a+i.top,s.indexOf("left")>-1?u.left-=n+r:s.indexOf("center")>-1?u.left-=n/2:u.left+=r,s.indexOf("bottom")>-1?u.top+=a+r:s.indexOf("middle")>-1?u.top+=a/2:u.top-=o.TOOLTIP_GAP,u},_calculateTooltipPositionAboutBarChart:function(t){var e=t.bound,i=t.positionOption,n=t.dimension.height-(e.height||0),r=t.alignOption||"",s=t.dimension.width,a={};return a.left=e.left+e.width+i.left,a.top=e.top+i.top,r.indexOf("left")>-1?a.left-=s:r.indexOf("center")>-1?a.left-=s/2:a.left+=o.TOOLTIP_GAP,r.indexOf("top")>-1?a.top-=n:r.indexOf("middle")>-1&&(a.top-=n/2),a},_adjustPosition:function(t,e,i,n){return n.left=Math.max(n.left,-e.left),n.left=Math.min(n.left,t.width-e.left-i.width),n.top=Math.max(n.top,-e.top),n.top=Math.min(n.top,t.height-e.top-i.height),n},_calculateTooltipPosition:function(t){var e,i,n,o={};return t.eventPosition?this._calculateTooltipPositionAboutPieChart(t):(r.isBarChart(t.chartType)?(o=this._calculateTooltipPositionAboutBarChart(t),e="width",i="left",n=1):(o=this._calculateTooltipPositionAboutNotBarChart(t),e="height",i="top",n=-1),t.allowNegativeTooltip&&(o=this._moveToSymmetry(o,{bound:t.bound,indexes:t.indexes,dimension:t.dimension,chartType:t.chartType,sizeType:e,positionType:i,addPadding:n})),o=this._adjustPosition(this.chartDimension,this.bound.position,t.dimension,o))},_moveToSymmetry:function(t,e){var i,n=e.bound,r=e.sizeType,s=e.positionType,a=this.dataProcessor.getValue(e.indexes.groupIndex,e.indexes.index,e.chartType);return 0>a&&(i=n[r]+e.dimension[r]+2*o.TOOLTIP_GAP,"left"===s?t[s]-=i:t[s]+=i),t},_makeSingleTooltipHtml:function(t,e){var i=tui.util.pick(this.data,t,e.groupIndex,e.index);return this.templateFunc(i.category,{value:i.value,legend:i.legend,suffix:this.suffix})},_isChangedIndexes:function(t,e){return!!t&&(t.groupIndex!==e.groupIndex||t.index!==e.index)},showTooltip:function(t,e,i){var n,o,r=e.indexes,a=this._getIndexesCustomAttribute(t);this._isChangedIndexes(a,r)&&(n=t.getAttribute("data-chart-type"),this._fireHideAnimation(a,n)),t.innerHTML=this._makeSingleTooltipHtml(e.chartType,r),t.setAttribute("data-chart-type",e.chartType),this._setIndexesCustomAttribute(t,r),this._setShowedCustomAttribute(t,!0),this._fireBeforeShowTooltip(r),s.addClass(t,"show"),o=this._calculateTooltipPosition(tui.util.extend({dimension:this.getTooltipDimension(t),positionOption:tui.util.extend({left:0,top:0},this.options.position),alignOption:this.options.align||""},e)),this.moveToPosition(t,o,i),this._fireShowAnimation(r,e.chartType),this._fireAfterShowTooltip(r,{element:t,position:o})},_makeShowTooltipParams:function(t,e){var i,n=t.index,o=this.dataProcessor.getLegendData(n);return i=tui.util.extend({chartType:o.chartType,legend:o.label,legendIndex:n,index:t.groupIndex},e)},_fireBeforeShowTooltip:function(t){var e=this._makeShowTooltipParams(t);this.userEvent.fire("beforeShowTooltip",e)},_fireAfterShowTooltip:function(t,e){var i=this._makeShowTooltipParams(t,e);this.userEvent.fire("afterShowTooltip",i)},hideTooltip:function(t){var e=this,i=this._getIndexesCustomAttribute(t),n=t.getAttribute("data-chart-type");this._setShowedCustomAttribute(t,!1),this._fireHideAnimation(i,n),this._isChangedIndexes(this.prevIndexes,i)&&delete this.prevIndexes,setTimeout(function(){e._isShowedTooltip(t)||(e.hideAnimation(t),e=null,i=null)},o.HIDE_DELAY)},_attachEvent:function(t){a.bindEvent("mouseover",t,tui.util.bind(this._onMouseover,this)),a.bindEvent("mouseout",t,tui.util.bind(this._onMouseout,this))}});e.exports=h},{"../const":15,"../helpers/domHandler":30,"../helpers/eventListener":31,"../helpers/predicate":32,"../helpers/renderUtil":33,"./tooltipBase":64,"./tooltipTemplate":65}],64:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),o=t("../helpers/renderUtil"),r=tui.util.defineClass({init:function(t){tui.util.extend(this,t),this.className="tui-chart-tooltip-area",this.tooltipContainer=null,this.data=this.makeTooltipData(),this.suffix=this.options.suffix?"&nbsp;"+this.options.suffix:"",this.templateFunc=this.options.template||tui.util.bind(this._makeTooltipHtml,this),this._setDefaultTooltipPositionOption(),this._saveOriginalPositionOptions()},_makeTooltipHtml:function(){},_setDefaultTooltipPositionOption:function(){},_saveOriginalPositionOptions:function(){this.orgPositionOptions={align:this.options.align,position:this.options.position}},makeTooltipData:function(){},render:function(t,e){var i=n.create("DIV",this.className);return o.renderPosition(i,t.position),this.bound=t,this.chartDimension=e.chartDimension,this.tooltipContainer=i,i},rerender:function(t,e){this.bound=t,tui.util.extend(this,e),this.data=this.makeTooltipData(),this.positionModel&&this.positionModel.updateBound(t)},resize:function(t,e){this.bound=t,this.chartDimension=e.chartDimension,o.renderPosition(this.tooltipContainer,t.position),this.positionModel&&this.positionModel.updateBound(t)},_getTooltipElement:function(){var t;return this.tooltipElement||(this.tooltipElement=t=n.create("DIV","tui-chart-tooltip"),n.append(this.tooltipContainer,t)),this.tooltipElement},onShow:function(t){var e,i=this._getTooltipElement();i.offsetWidth&&(e={left:i.offsetLeft,top:i.offsetTop}),this.showTooltip(i,t,e)},getTooltipDimension:function(t){return{width:t.offsetWidth,height:t.offsetHeight}},_cancelHide:function(){this.activeHider&&(clearInterval(this.activeHider.timerId),this.activeHider.setOpacity(1))},_cancelSlide:function(){this.activeSliders&&(tui.util.forEach(this.activeSliders,function(t){clearInterval(t.timerId)}),this._completeSlide())},moveToPosition:function(t,e,i){i?(this._cancelHide(),this._cancelSlide(),this._slideTooltip(t,i,e)):o.renderPosition(t,e)},_getSlider:function(t,e){return this.slider||(this.slider={}),this.slider[e]||(this.slider[e]=new tui.component.Effects.Slide({flow:e,element:t,duration:100})),this.slider[e]},_completeSlide:function(){delete this.activeSliders},_slideTooltip:function(t,e,i){var n=this._getSlider(t,"vertical"),o=this._getSlider(t,"horizontal"),r=e.top-i.top,s=e.left-i.left,a=r>0?"forword":"backword",u=r>0?"forword":"backword",l=[],h=tui.util.bind(this._completeSlide,this);r&&(n.setDistance(r),n.action({direction:a,start:e.top,complete:h}),l.push(n)),s&&(o.setDistance(s),o.action({direction:u,start:e.left,complete:h}),l.push(n)),l.length&&(this.activeSliders=l)},onHide:function(t){var e=this._getTooltipElement();this.hideTooltip(e,t)},_getHider:function(t){return this.hider||(this.hider=new tui.component.Effects.Fade({element:t,duration:100})),this.hider},hideAnimation:function(t){this.activeHider=this._getHider(t),this.activeHider.action({start:1,end:0,complete:function(){n.removeClass(t,"show"),t.style.cssText=""}})},setAlign:function(t){this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},setPosition:function(t){this.options.position=tui.util.extend({},this.options.position,t),this.positionModel&&this.positionModel.updateOptions(this.options)},resetAlign:function(){var t=this.orgPositionOptions.align;this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},resetPosition:function(){var t=this.orgPositionOptions.position;this.options.position=t,this.positionModel&&this.positionModel.updateOptions(this.options)}});tui.util.CustomEvents.mixin(r),e.exports=r},{"../helpers/domHandler":30,"../helpers/renderUtil":33}],65:[function(t,e,i){var n=t("../helpers/templateMaker"),o={HTML_DEFAULT_TEMPLATE:'<div class="tui-chart-default-tooltip"><div>{{ category }}</div><div><span>{{ legend }}</span>:&nbsp;<span>{{ value }}</span><span>{{ suffix }}</span></div></div>',HTML_GROUP:'<div class="tui-chart-default-tooltip tui-chart-group-tooltip"><div>{{ category }}</div>{{ items }}</div>',HTML_GROUP_ITEM:'<div><div class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></div>&nbsp;<span>{{ legend }}</span>:&nbsp;<span>{{ value }}</span><span>{{ suffix }}</span></div>',GROUP_CSS_TEXT:"background-color:{{ color }}"};e.exports={tplDefault:n.template(o.HTML_DEFAULT_TEMPLATE),tplGroup:n.template(o.HTML_GROUP),tplGroupItem:n.template(o.HTML_GROUP_ITEM),tplGroupCssText:n.template(o.GROUP_CSS_TEXT)}},{"../helpers/templateMaker":34}]},{},[3,41]);