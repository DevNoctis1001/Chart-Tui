/**
 * @fileoverview tui.chart
 * @author NHN Ent. FE Development Team <dl_javascript@nhnent.com>
 * @version 1.2.0
 * @license MIT
 * @link https://github.com/nhnent/tui.chart
 */
!function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return r(i?i:t)},h,h.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),r=t("../const"),o=t("../helpers/calculator"),s=t("../helpers/renderUtil"),a=t("./axisTemplate"),u=tui.util.defineClass({init:function(t){tui.util.extend(this,t),this.className="tui-chart-axis-area"},_renderAxisArea:function(t,e,i){var r,o=this.theme,a=!!i.isVertical,u=!!i.isPositionRight,l=this.options,h=e.dimension,c=a?h.height:h.width,d=this._renderTitleArea({title:l.title,theme:o.title,isVertical:a,isPositionRight:u,size:c}),p=this._renderLabelArea(i,c,h.width,e.degree);this.data=i,this.bound=e,a&&i.aligned||(r=this._renderTickArea(c)),s.renderDimension(t,h),s.renderPosition(t,e.position),n.addClass(t,a?"vertical":"horizontal"),n.addClass(t,u?"right":""),n.append(t,[d,r,p])},render:function(t,e){var i=n.create("DIV",this.className);return this._renderAxisArea(i,t,e),this.elAxisArea=i,i},resize:function(t,e){this.elAxisArea.innerHTML="",this._renderAxisArea(this.elAxisArea,t,e)},_renderTitleAreaStyle:function(t,e,i){var n=[s.concatStr("width:",e,"px")];i?(n.push(s.concatStr("right:",-e,"px")),n.push(s.concatStr("top:",0,"px"))):(n.push(s.concatStr("left:",0,"px")),s.isOldBrowser()||n.push(s.concatStr("top:",e,"px"))),t.style.cssText+=";"+n.join(";")},_renderTitleArea:function(t){var e=s.renderTitle(t.title,t.theme,"tui-chart-title-area");return e&&t.isVertical&&this._renderTitleAreaStyle(e,t.size,t.isPositionRight),e},_renderTickArea:function(t){var e=this.data,i=e.tickCount,u=this.theme.tickColor,l=o.makeTickPixelPositions(t,i),h=n.create("DIV","tui-chart-tick-area"),c=e.isVertical?"bottom":"left",d=e.isVertical?e.isPositionRight?"borderLeftColor":"borderRightColor":"borderTopColor",p=a.tplAxisTick,m=tui.util.map(l,function(t,i){var n;return e.aligned&&e.labels[i]===r.EMPTY_AXIS_LABEL?"":(n=[s.concatStr("background-color:",u),s.concatStr(c,": ",t,"px")].join(";"),p({cssText:n}))},this).join("");return h.innerHTML=m,h.style[d]=u,h},_makeVerticalLabelCssText:function(t,e){return";width:"+(t-e+r.V_LABEL_RIGHT_PADDING)+"px"},_renderLabelArea:function(t,e,i,a){var u,l,h=o.makeTickPixelPositions(e,t.tickCount),c=h[1]-h[0],d="left",p=this._makeLabelCssTexts({isVertical:t.isVertical,isLabelAxis:t.isLabelAxis,labelSize:c}),m=n.create("DIV","tui-chart-label-area"),f=s.makeFontCssText(this.theme.label);return t.isVertical&&(d=t.isLabelAxis?"top":"bottom",l=this._getRenderedTitleHeight()+r.TITLE_AREA_WIDTH_PADDING,f+=this._makeVerticalLabelCssText(i,l)),h.length=t.labels.length,u=this._makeLabelsHtml({positions:h,labels:t.labels,posType:d,cssTexts:p,labelSize:c,degree:a,theme:this.theme.label}),m.innerHTML=u,m.style.cssText=f,this._changeLabelAreaPosition({elLabelArea:m,isVertical:t.isVertical,isLabelAxis:t.isLabelAxis,theme:this.theme.label,labelSize:c,aligned:t.aligned}),m},_getRenderedTitleHeight:function(){var t=this.options.title,e=this.theme.title,i=t?s.getRenderedLabelHeight(t,e):0;return i},_makeLabelCssTexts:function(t){var e=[];return t.isVertical&&t.isLabelAxis?(e.push(s.concatStr("height:",t.labelSize,"px")),e.push(s.concatStr("line-height:",t.labelSize,"px"))):t.isVertical||e.push(s.concatStr("width:",t.labelSize,"px")),e},_calculateRotationMovingPosition:function(t){var e=t.moveLeft;return t.degree===r.ANGLE_85&&(e+=o.calculateAdjacent(r.ANGLE_90-t.degree,t.labelHeight/2)),{top:t.top,left:t.left-e}},_calculateRotationMovingPositionForIE8:function(t){var e=s.getRenderedLabelWidth(t.label,t.theme),i=o.calculateAdjacent(r.ANGLE_90-t.degree,t.labelHeight/2),n=2*(o.calculateAdjacent(t.degree,e/2)+i),a=e-n,u=t.labelWidth/2-2*i;return t.degree===r.ANGLE_85&&(u+=i),{top:r.XAXIS_LABEL_TOP_MARGIN,left:t.left+a-u}},_makeCssTextForRotationMoving:function(t){var e;return e=s.isOldBrowser()?this._calculateRotationMovingPositionForIE8(t):this._calculateRotationMovingPosition(t),s.concatStr("left:",e.left,"px",";top:",e.top,"px")},_makeRotationLabelsHtml:function(t){var e=a.tplAxisLabel,i=s.getRenderedLabelHeight(t.labels[0],t.theme),n=t.cssTexts.length?t.cssTexts.join(";")+";":"",u=" rotation"+t.degree,l=t.labelSize/2,h=o.calculateAdjacent(t.degree,l),c=o.calculateOpposite(t.degree,l)+r.XAXIS_LABEL_TOP_MARGIN,d=tui.util.map(t.positions,function(r,o){var s=t.labels[o],a=this._makeCssTextForRotationMoving({degree:t.degree,labelHeight:i,labelWidth:t.labelSize,top:c,left:r,moveLeft:h,label:s,theme:t.theme});return e({addClass:u,cssText:n+a,label:s})},this).join("");return d},_makeNormalLabelsHtml:function(t){var e=a.tplAxisLabel,i=t.cssTexts.length?t.cssTexts.join(";")+";":"",n=tui.util.map(t.positions,function(n,r){var o=s.concatStr(t.posType,":",n,"px");return e({addClass:"",cssText:i+o,label:t.labels[r]})},this).join("");return n},_makeLabelsHtml:function(t){var e;return e=t.degree?this._makeRotationLabelsHtml(t):this._makeNormalLabelsHtml(t)},_changeLabelAreaPosition:function(t){var e;(!t.isLabelAxis||t.aligned)&&(t.isVertical?(e=s.getRenderedLabelHeight("ABC",t.theme),t.elLabelArea.style.top=s.concatStr(parseInt(e/2,10),"px")):t.elLabelArea.style.left=s.concatStr("-",parseInt(t.labelSize/2,10),"px"))}});e.exports=u},{"../const":15,"../helpers/calculator":28,"../helpers/domHandler":30,"../helpers/renderUtil":33,"./axisTemplate":2}],2:[function(t,e,i){var n=t("../helpers/templateMaker"),r={HTML_AXIS_TICK:'<div class="tui-chart-tick" style="{{ cssText }}"></div>',HTML_AXIS_LABEL:'<div class="tui-chart-label{{ addClass }}" style="{{ cssText }}"><span>{{ label }}</span></div>'};e.exports={tplAxisTick:n.template(r.HTML_AXIS_TICK),tplAxisLabel:n.template(r.HTML_AXIS_LABEL)}},{"../helpers/templateMaker":34}],3:[function(t,e,i){"use strict";var n,r=t("./const"),o=t("./factories/chartFactory"),s=t("./factories/pluginFactory"),a=t("./factories/themeFactory");t("./polyfill"),t("./code-snippet-util"),t("./registerCharts"),t("./registerThemes"),tui.util.defineNamespace("tui.chart"),n=function(t,e,i){var n,s,u;return i=i||{},n=i.theme||r.DEFAULT_THEME_NAME,s=a.get(n),u=o.get(i.chartType,e,s,i),t.appendChild(u.render()),u.animateChart(),u},tui.chart.barChart=function(t,e,i){return i=i||{},i.chartType=r.CHART_TYPE_BAR,n(t,e,i)},tui.chart.columnChart=function(t,e,i){return i=i||{},i.chartType=r.CHART_TYPE_COLUMN,n(t,e,i)},tui.chart.lineChart=function(t,e,i){return i=i||{},i.chartType=r.CHART_TYPE_LINE,n(t,e,i)},tui.chart.areaChart=function(t,e,i){return i=i||{},i.chartType=r.CHART_TYPE_AREA,n(t,e,i)},tui.chart.comboChart=function(t,e,i){return i=i||{},i.chartType=r.CHART_TYPE_COMBO,n(t,e,i)},tui.chart.pieChart=function(t,e,i){return i=i||{},i.chartType=r.CHART_TYPE_PIE,n(t,e,i)},tui.chart.registerTheme=function(t,e){a.register(t,e)},tui.chart.registerPlugin=function(t,e){s.register(t,e)}},{"./code-snippet-util":14,"./const":15,"./factories/chartFactory":23,"./factories/pluginFactory":24,"./factories/themeFactory":25,"./polyfill":47,"./registerCharts":48,"./registerThemes":49}],4:[function(t,e,i){"use strict";var n=t("./chartBase"),r=t("./lineTypeMixer"),o=t("./axisTypeMixer"),s=t("./verticalTypeMixer"),a=t("../series/areaChartSeries"),u=tui.util.defineClass(n,{className:"tui-area-chart",Series:a,init:function(){this._lineTypeInit.apply(this,arguments)}});o.mixin(u),s.mixin(u),r.mixin(u),e.exports=u},{"../series/areaChartSeries":50,"./axisTypeMixer":5,"./chartBase":7,"./lineTypeMixer":11,"./verticalTypeMixer":13}],5:[function(t,e,i){"use strict";var n=t("../helpers/predicate"),r=t("../helpers/renderUtil"),o=t("../axes/axis"),s=t("../plots/plot"),a=t("../legends/legend"),u=t("../customEvents/groupTypeCustomEvent"),l=t("../customEvents/pointTypeCustomEvent"),h=t("../tooltips/tooltip"),c=t("../tooltips/groupTooltip"),d={_addAxisComponents:function(t,e){tui.util.forEach(t,function(t){var i={aligned:e};"yrAxis"===t&&(i.componentType="yAxis",i.index=1),this._addComponent(t,o,i)},this)},_addSeriesComponents:function(t,e,i){var n={libType:e.libType,chartType:e.chartType,parentChartType:e.parentChartType,aligned:i,hasGroupTooltip:this.hasGroupTooltip,userEvent:this.userEvent,componentType:"series"};tui.util.forEach(t,function(t){var e=tui.util.extend(n,t.data);this._addComponent(t.name,t.SeriesClass,e)},this)},_addTooltipComponent:function(t,e){this.hasGroupTooltip?this._addComponent("tooltip",c,{labels:t.labels,joinFormattedValues:t.joinFormattedValues,joinLegendLabels:t.joinLegendLabels,isVertical:this.isVertical,userEvent:this.userEvent}):this._addComponent("tooltip",h,{values:t.values,formattedValues:t.formattedValues,labels:t.labels,legendLabels:t.legendLabels,joinLegendLabels:t.joinLegendLabels,chartType:e.chartType,isVertical:this.isVertical,userEvent:this.userEvent})},_addLegendComponent:function(t,e,i,r){r&&n.isHiddenLegendType(r.legendType)||this._addComponent("legend",a,{joinLegendLabels:t.joinLegendLabels,legendLabels:t.legendLabels,seriesChartTypes:e,chartType:i,userEvent:this.userEvent})},_addComponentsForAxisType:function(t){var e=t.convertedData,i=this.options,n=!!t.aligned;this._addComponent("plot",s),this._addAxisComponents(t.axes,n),this._addLegendComponent(e,t.seriesChartTypes,t.chartType,this.options.legend),this._addSeriesComponents(t.serieses,i,n),this._addTooltipComponent(e,i)},_getScales:function(t,e,i){var n={},r=t.yAxis.scale;return n[e[0]]=i?r:t.xAxis.scale,e.length>1&&(n[e[1]]=t.yrAxis?t.yrAxis.scale:r),n},_makeSeriesDataForRendering:function(t,e,i){var n=this._getScales(t,e,i),r=t.xAxis.aligned,o={};return tui.util.forEachArray(e,function(t){var i=e.length>1?t+"Series":"series";o[i]={scale:n[t],aligned:r}}),o},_makeRenderingData:function(t,e,i){var n=this._makeAxesData(e,t,i),r=this.chartTypes||[this.chartType],o=this._makeSeriesDataForRendering(n,r,this.isVertical);return tui.util.extend({plot:{vTickCount:n.yAxis.validTickCount,hTickCount:n.xAxis.validTickCount},customEvent:{tickCount:this.isVertical?n.xAxis.tickCount:n.yAxis.tickCount},tooltip:{chartDimension:t.chart.dimension}},o,n)},_addCustomEventComponentForGroupTooltip:function(){this._addComponent("customEvent",u,{chartType:this.chartType,isVertical:this.isVertical})},_addCustomEventComponentForNormalTooltip:function(){this._addComponent("customEvent",l,{chartType:this.chartType,isVertical:this.isVertical})},_addCustomEventComponent:function(){this.hasGroupTooltip?this._addCustomEventComponentForGroupTooltip():this._addCustomEventComponentForNormalTooltip()},_attachCustomEventForGroupTooltip:function(){var t=this.componentMap.customEvent,e=this.componentMap.tooltip,i=tui.util.filter(this.componentMap,function(t){return"series"===t.componentType});t.on("showGroupTooltip",e.onShow,e),t.on("hideGroupTooltip",e.onHide,e),tui.util.forEach(i,function(t){t.onShowGroupTooltipLine&&(e.on("showGroupTooltipLine",t.onShowGroupTooltipLine,t),e.on("hideGroupTooltipLine",t.onHideGroupTooltipLine,t)),e.on("showGroupAnimation",t.onShowGroupAnimation,t),e.on("hideGroupAnimation",t.onHideGroupAnimation,t)},this)},_attachCustomEventForNormalTooltip:function(){var t=this.componentMap.customEvent,e=this.componentMap.tooltip,i=tui.util.filter(this.componentMap,function(t){return"series"===t.componentType});t.on("showTooltip",e.onShow,e),t.on("hideTooltip",e.onHide,e),tui.util.forEach(i,function(t){t.onShowAnimation&&(e.on(r.makeCustomEventName("show",t.chartType,"animation"),t.onShowAnimation,t),e.on(r.makeCustomEventName("hide",t.chartType,"animation"),t.onHideAnimation,t))},this)},_attachCustomEventForSeriesSelection:function(){var t=this.componentMap.customEvent,e=tui.util.filter(this.componentMap,function(t){return"series"===t.componentType});tui.util.forEach(e,function(e){t.on(r.makeCustomEventName("select",e.chartType,"series"),e.onSelectSeries,e),t.on(r.makeCustomEventName("unselect",e.chartType,"series"),e.onUnselectSeries,e)},this)},_attachCustomEvent:function(){this.hasGroupTooltip?this._attachCustomEventForGroupTooltip():this._attachCustomEventForNormalTooltip(),this._attachCustomEventForSeriesSelection()},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=d},{"../axes/axis":1,"../customEvents/groupTypeCustomEvent":19,"../customEvents/pointTypeCustomEvent":20,"../helpers/predicate":32,"../helpers/renderUtil":33,"../legends/legend":36,"../plots/plot":38,"../tooltips/groupTooltip":60,"../tooltips/tooltip":62}],6:[function(t,e,i){"use strict";var n=t("./chartBase"),r=t("./axisTypeMixer"),o=t("../helpers/axisDataMaker"),s=t("../series/barChartSeries"),a=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-bar-chart",n.call(this,{userData:t,theme:e,options:i,hasAxes:!0}),this._addComponents(this.convertedData,i.chartType)},_makeAxesData:function(t,e,i){var n=o.makeValueAxisData({values:t.values,seriesDimension:e.series.dimension,stacked:i.series&&i.series.stacked||"",chartType:i.chartType,formatFunctions:t.formatFunctions,options:i.xAxis}),r=o.makeLabelAxisData({labels:t.labels,isVertical:!0});return{xAxis:n,yAxis:r}},_addComponents:function(t,e){var i={allowNegativeTooltip:!0,data:{values:t.values,formattedValues:t.formattedValues,formatFunctions:t.formatFunctions,joinLegendLabels:t.joinLegendLabels}};this._addComponentsForAxisType({convertedData:t,axes:["yAxis","xAxis"],chartType:e,serieses:[{name:"series",SeriesClass:s,data:i}]})}});r.mixin(a),e.exports=a},{"../helpers/axisDataMaker":26,"../series/barChartSeries":51,"./axisTypeMixer":5,"./chartBase":7}],7:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),r=t("../helpers/renderUtil"),o=t("../helpers/dataConverter"),s=t("../helpers/boundsMaker"),a=t("../helpers/userEventListener"),u=tui.util.defineClass({init:function(t){this.convertedData=this._makeConvertedData(t),this.components=[],this.componentMap={},this.theme=t.theme,this.options=t.options,this.hasAxes=t.hasAxes,this.isVertical=!!t.isVertical,this.hasGroupTooltip=t.options.tooltip&&t.options.tooltip.grouped,this.userEvent=new a,this.chartType=this.options.chartType,this._addCustomEventComponent()},_makeConvertedData:function(t){var e=t.options,i=o.convert(t.userData,e.chart,e.chartType,t.seriesChartTypes);return i},_addCustomEventComponent:function(){},_addComponent:function(t,e,i){var n,r,o,s,a={};i=i||{},n=i.options||this.options[i&&i.componentType||t],o=i.theme||this.theme[i&&i.componentType||t],r=i&&i.index||0,a.theme=tui.util.isArray(o)?o[r]:o,a.options=tui.util.isArray(n)?n[r]:n||{},i=tui.util.extend(i,a),s=new e(i),this.components.push({name:t,componentType:i.componentType,instance:s}),this.componentMap[t]=s},_makeBounds:function(t){return s.make(tui.util.extend({convertedData:this.convertedData,theme:this.theme,options:this.options,hasAxes:this.hasAxes,isVertical:this.isVertical},t))},_makeRenderingData:function(){},_attachCustomEvent:function(){},render:function(t){var e,i,o=n.create("DIV",this.className);return t&&(this._makeBounds=tui.util.bind(this._makeBounds,this,t)),n.addClass(o,"tui-chart"),e=this._makeBounds(),i=this._makeRenderingData(e,this.convertedData,this.options),this._renderTitle(o),r.renderDimension(o,e.chart.dimension),r.renderBackground(o,this.theme.chart.background),r.renderFontFamily(o,this.theme.chart.fontFamily),this._renderComponents(o,this.components,e,i),this._sendSeriesData(),this._attachCustomEvent(),this.elChart=o,o},_renderTitle:function(t){var e=this.options.chart||{},i=r.renderTitle(e.title,this.theme.title,"tui-chart-title");n.append(t,i)},_findBound:function(t,e,i){return t[e]||i&&t[i]},_renderComponents:function(t,e,i,r){var o;o=tui.util.map(e,function(t){var e,n=t.name,o=this._findBound(i,n,t.componentType),s=r[n];return o?e=t.instance.render(o,s):null},this),n.append(t,o)},_sendSeriesData:function(){var t,e;this.componentMap.customEvent&&(e=this.chartTypes||[this.chartType],t=tui.util.map(e,function(t){var i=1===e.length?"series":t+"Series";return{chartType:t,data:this.componentMap[i].getSeriesData()}},this),this.componentMap.customEvent.initCustomEventData(t))},_makeAnimationEventName:function(t,e){return e+t.substring(0,1).toUpperCase()+t.substring(1)+"Animation"},animateChart:function(){tui.util.forEachArray(this.components,function(t){t.instance.animateComponent&&t.instance.animateComponent()})},on:function(t,e){this.userEvent.register(t,e)},_updateDimension:function(t){var e=!1;return t.width&&(this.options.chart.width=t.width,e=!0),t.height&&(this.options.chart.height=t.height,e=!0),e},_resizeComponents:function(t,e,i){tui.util.forEachArray(t,function(t){var n=t.name,r=this._findBound(e,n,t.componentType),o=i[n];t.instance.resize&&t.instance.resize(r,o)},this)},resize:function(t){var e,i,n;t&&(e=this._updateDimension(t),e&&(i=this._makeBounds(),n=this._makeRenderingData(i,this.convertedData,this.options),r.renderDimension(this.elChart,i.chart.dimension),this._resizeComponents(this.components,i,n),this._sendSeriesData()))},setTooltipAlign:function(t){this.componentMap.tooltip.setAlign(t)},setTooltipPosition:function(t){this.componentMap.tooltip.setPosition(t)},resetTooltipAlign:function(){this.componentMap.tooltip.resetAlign()},resetTooltipPosition:function(){this.componentMap.tooltip.resetPosition()}});e.exports=u},{"../helpers/boundsMaker":27,"../helpers/dataConverter":29,"../helpers/domHandler":30,"../helpers/renderUtil":33,"../helpers/userEventListener":35}],8:[function(t,e,i){"use strict";var n=t("./chartBase"),r=t("./axisTypeMixer"),o=t("./verticalTypeMixer"),s=t("../series/columnChartSeries"),a=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-column-chart",n.call(this,{userData:t,theme:e,options:i,hasAxes:!0,isVertical:!0}),this._addComponents(this.convertedData,i.chartType)},_addComponents:function(t,e){var i={allowNegativeTooltip:!0,data:{values:t.values,formattedValues:t.formattedValues,formatFunctions:t.formatFunctions,joinLegendLabels:t.joinLegendLabels}};this._addComponentsForAxisType({convertedData:t,axes:["yAxis","xAxis"],chartType:e,serieses:[{name:"series",SeriesClass:s,data:i}]})}});r.mixin(a),o.mixin(a),e.exports=a},{"../series/columnChartSeries":53,"./axisTypeMixer":5,"./chartBase":7,"./verticalTypeMixer":13}],9:[function(t,e,i){"use strict";var n=t("../helpers/calculator"),r=t("./chartBase"),o=t("./axisTypeMixer"),s=t("../helpers/axisDataMaker"),a=t("../helpers/predicate"),u=t("../themes/defaultTheme"),l=t("../series/columnChartSeries"),h=t("../series/lineChartSeries"),c=tui.util.defineClass(r,{init:function(t,e,i){var n=tui.util.keys(t.series).sort(),o=this._getYAxisOptionChartTypes(n,i.yAxis),s=o.length?o:n;this.chartTypes=s,this.seriesChartTypes=n,this.optionChartTypes=o,this.className="tui-combo-chart",r.call(this,{userData:t,theme:e,options:i,seriesChartTypes:n,hasAxes:!0,isVertical:!0}),this._addComponents(this.convertedData,this.options,this.theme)},_makeOptionsMap:function(t,e){var i={};return tui.util.forEachArray(t,function(t){i[t]=e.series&&e.series[t]}),i},_makeThemeMap:function(t,e,i){var n={},r=0;return tui.util.forEachArray(t,function(t){var o,s=JSON.parse(JSON.stringify(e));s.series[t]?n[t]=s.series[t]:s.series.colors?(o=s.series.colors.splice(0,r),s.series.colors=s.series.colors.concat(o),n[t]=s.series,r+=i[t].length):(n[t]=JSON.parse(JSON.stringify(u.series)),n[t].label.fontFamily=s.chart.fontFamily)}),n},_makeSerieses:function(t,e,i,n){var r,o={column:l,line:h},s=this._makeOptionsMap(t,i),u=this._makeThemeMap(t,n,e.legendLabels);return r=tui.util.map(t,function(t){var i,n=e.values[t],r=e.formattedValues[t];return a.isLineTypeChart(t)&&(n=tui.util.pivot(n),r=tui.util.pivot(r)),i={allowNegativeTooltip:!0,componentType:"series",chartType:t,options:s[t],theme:u[t],data:{values:n,formattedValues:r,formatFunctions:e.formatFunctions,joinLegendLabels:e.joinLegendLabels}},{name:t+"Series",SeriesClass:o[t],data:i}})},_addComponents:function(t,e,i){var n=["yAxis","xAxis"],r=this._makeSerieses(this.seriesChartTypes,t,e,i);this.optionChartTypes.length&&n.push("yrAxis"),this._addComponentsForAxisType({convertedData:t,axes:n,seriesChartTypes:this.seriesChartTypes,chartType:e.chartType,serieses:r})},_getYAxisOptionChartTypes:function(t,e){var i,n=t.slice(),r=!1;return e=e?[].concat(e):[],1!==e.length||e[0].chartType?e.length&&(i=tui.util.map(e,function(t){return t.chartType}),tui.util.forEachArray(i,function(t,e){r=r||t&&n[e]!==t||!1}),r&&n.reverse()):n=[],n},_makeYAxisData:function(t){var e,i,n,r=t.convertedData,o=t.index,a=t.chartTypes[o],u=t.options;return t.isOneYAxis?(e=r.joinValues,i=[u.yAxis]):(e=r.values[a],i=u.yAxis||[]),n=u.series&&u.series[a]||u.series,s.makeValueAxisData(tui.util.extend({values:e,stacked:n&&n.stacked||"",options:i[o],chartType:a,seriesDimension:t.seriesDimension,formatFunctions:r.formatFunctions,isVertical:!0},t.addParams))},_makeAxesData:function(t,e,i){var n,r,o=t.formatFunctions,a={convertedData:t,seriesDimension:e.series.dimension,chartTypes:this.chartTypes,isOneYAxis:!this.optionChartTypes.length,options:i},u=s.makeLabelAxisData({labels:t.labels}),l=this._makeYAxisData(tui.util.extend({index:0},a));return n={yAxis:l,xAxis:u},a.isOneYAxis||(r=this._makeYAxisData(tui.util.extend({index:1,addParams:{isPositionRight:!0}},a)),l.tickCount<r.tickCount?this._increaseYAxisTickCount(r.tickCount-l.tickCount,l,o):l.tickCount>r.tickCount&&this._increaseYAxisTickCount(l.tickCount-r.tickCount,r,o),r.aligned=u.aligned,n.yrAxis=r),n},_increaseYAxisTickCount:function(t,e,i){e.scale.max+=e.step*t,e.labels=s.formatLabels(n.makeLabelsFromScale(e.scale,e.step),i),e.tickCount+=t,e.validTickCount+=t},render:function(){return r.prototype.render.call(this,{seriesChartTypes:this.seriesChartTypes,optionChartTypes:this.optionChartTypes})}});o.mixin(c),e.exports=c},{"../helpers/axisDataMaker":26,"../helpers/calculator":28,"../helpers/predicate":32,"../series/columnChartSeries":53,"../series/lineChartSeries":54,"../themes/defaultTheme":59,"./axisTypeMixer":5,"./chartBase":7}],10:[function(t,e,i){"use strict";var n=t("./chartBase"),r=t("./lineTypeMixer"),o=t("./axisTypeMixer"),s=t("./verticalTypeMixer"),a=t("../series/lineChartSeries"),u=tui.util.defineClass(n,{className:"tui-line-chart",Series:a,init:function(){this._lineTypeInit.apply(this,arguments)}});o.mixin(u),s.mixin(u),r.mixin(u),e.exports=u},{"../series/lineChartSeries":54,"./axisTypeMixer":5,"./chartBase":7,"./lineTypeMixer":11,"./verticalTypeMixer":13}],11:[function(t,e,i){"use strict";var n=t("./chartBase"),r=t("../customEvents/areaTypeCustomEvent"),o={_lineTypeInit:function(t,e,i){n.call(this,{userData:t,theme:e,options:i,hasAxes:!0,isVertical:!0}),this._addComponents(this.convertedData,i.chartType)},_addCustomEventComponentForNormalTooltip:function(){this._addComponent("customEvent",r,{chartType:this.chartType,isVertical:this.isVertical})},_addComponents:function(t,e){var i={data:{values:tui.util.pivot(t.values),formattedValues:tui.util.pivot(t.formattedValues),formatFunctions:t.formatFunctions,joinLegendLabels:t.joinLegendLabels}};this._addComponentsForAxisType({convertedData:t,axes:["yAxis","xAxis"],chartType:e,serieses:[{name:"series",SeriesClass:this.Series,data:i}]})},render:function(){return n.prototype.render.apply(this,arguments)},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=o},{"../customEvents/areaTypeCustomEvent":16,"./chartBase":7}],12:[function(t,e,i){"use strict";var n=t("./chartBase"),r=t("../const"),o=t("../helpers/predicate"),s=t("../helpers/renderUtil"),a=t("../legends/legend"),u=t("../tooltips/tooltip"),l=t("../series/pieChartSeries"),h=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-pie-chart",i.tooltip=i.tooltip||{},i.tooltip.align||(i.tooltip.align=r.TOOLTIP_DEFAULT_ALIGN_OPTION),n.call(this,{userData:t,theme:e,options:i}),this._addComponents(this.convertedData,e.chart.background,i)},_addComponents:function(t,e,i){var n=i.legend&&i.legend.legendType,r=o.isPieLegendType(n);!t.joinLegendLabels||r||o.isHiddenLegendType(n)||this._addComponent("legend",a,{joinLegendLabels:t.joinLegendLabels,legendLabels:t.legendLabels,chartType:i.chartType,userEvent:this.userEvent}),this._addComponent("tooltip",u,{values:t.values,formattedValues:t.formattedValues,labels:t.labels,legendLabels:t.legendLabels,joinLegendLabels:t.joinLegendLabels,userEvent:this.userEvent,chartType:i.chartType}),this._addComponent("series",l,{libType:i.libType,chartType:i.chartType,componentType:"series",chartBackground:e,userEvent:this.userEvent,legendType:r?n:null,data:{values:t.values,formattedValues:t.formattedValues,legendLabels:t.legendLabels,joinLegendLabels:t.joinLegendLabels}})},_makeRenderingData:function(t){return{tooltip:{seriesPosition:t.series.position,chartDimension:t.chart.dimension},series:{chartWidth:t.chart.dimension.width}}},_attachCustomEvent:function(){var t=this.componentMap.tooltip,e=tui.util.filter(this.componentMap,function(t){return"series"===t.componentType});tui.util.forEach(e,function(e){e.on("showTooltip",t.onShow,t),e.on("hideTooltip",t.onHide,t),e.onShowAnimation&&(t.on(s.makeCustomEventName("show",e.chartType,"animation"),e.onShowAnimation,e),t.on(s.makeCustomEventName("hide",e.chartType,"animation"),e.onHideAnimation,e))},this)}});e.exports=h},{"../const":15,"../helpers/predicate":32,"../helpers/renderUtil":33,"../legends/legend":36,"../series/pieChartSeries":56,"../tooltips/tooltip":62,"./chartBase":7}],13:[function(t,e,i){"use strict";var n=t("../helpers/axisDataMaker"),r=t("../helpers/predicate"),o={_makeAxesData:function(t,e,i){var o=r.isLineTypeChart(i.chartType),s=n.makeLabelAxisData({labels:t.labels,aligned:o,options:i.xAxis}),a=n.makeValueAxisData({values:t.values,seriesDimension:e.series.dimension,stacked:i.series&&i.series.stacked||"",chartType:i.chartType,formatFunctions:t.formatFunctions,options:i.yAxis,isVertical:!0,aligned:o});return{xAxis:s,yAxis:a}},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=o},{"../helpers/axisDataMaker":26,"../helpers/predicate":32}],14:[function(t,e,i){"use strict";function n(t,e){function i(){r=v.call(arguments),window.clearTimeout(n),n=window.setTimeout(function(){t.apply(null,r)},e)}var n,r;return e=e||0,i}function r(t,e){function i(){return a=v.call(arguments),l?(h(a),void(l=!1)):(s=u(),r=r||s,o(a),void(s-r>=e&&h(a)))}function n(){l=!0,r=null}var r,o,s,a,u=tui.util.timestamp,l=!0,h=function(e){t.apply(null,e),r=null};return e=e||0,o=tui.util.debounce(h,e),i.reset=n,i}var o=function(t,e,i){var n,r,o;return e||(e=function(t){return t}),n=t[0],r=e.call(i,n),o=t.slice(1),tui.util.forEachArray(o,function(t){var o=e.call(i,t);r>o&&(r=o,n=t)}),n},s=function(t,e,i){var n,r,o;return e||(e=function(t){return t}),n=t[0],r=e.call(i,n),o=t.slice(1),tui.util.forEachArray(o,function(t){var o=e.call(i,t);o>r&&(r=o,n=t)}),n},a=function(t,e){var i=!1;return tui.util.forEachArray(t,function(t){return e(t)?(i=!0,!1):void 0}),i},u=function(t,e){var i=!0;return tui.util.forEachArray(t,function(t){return e(t)?void 0:(i=!1,!1)}),i},l=function(t){var e=[];return tui.util.forEachArray(t,function(t){tui.util.forEachArray(t,function(t,i){e[i]||(e[i]=[]),e[i].push(t)})}),e},h=function(t){var e=(t+"").split(".");return 2===e.length?e[1].length:0},c=function(){var t=[].slice.call(arguments),e=tui.util.map(t,function(t){return tui.util.lengthAfterPoint(t)}),i=tui.util.max(e),n=Math.pow(10,i);return n},d=function(t,e){var i=tui.util.findMultipleNum(e);return t*i%(e*i)/i},p=function(t,e){var i=c(t,e);return(t*i+e*i)/i},m=function(t,e){var i=c(t,e);return(t*i-e*i)/i},f=function(t,e){var i=c(t,e);return t*i*(e*i)/(i*i)},_=function(t,e){var i=c(t,e);return t*i/(e*i)},T=function(t){var e=t.slice();return e.unshift(0),tui.util.reduce(e,function(t,e){return parseFloat(t)+parseFloat(e)})},g=function(t){return t.substring(0,1).toUpperCase()+t.substring(1)};tui.util.min=o,tui.util.max=s,tui.util.any=a,tui.util.all=u,tui.util.pivot=l,tui.util.lengthAfterPoint=h,tui.util.mod=d,tui.util.findMultipleNum=c,tui.util.addition=p,tui.util.subtraction=m,tui.util.multiplication=f,tui.util.division=_,tui.util.sum=T,tui.util.properCase=g;var v=Array.prototype.slice;tui.util.debounce=n,tui.util.throttle=r},{}],15:[function(t,e,i){var n={CLASS_NAME_LEGEND:"tui-chart-legend",CLASS_NAME_SERIES_LABEL:"tui-chart-series-label",CLASS_NAME_SERIES_LEGEND:"tui-chart-series-legend",CHART_TYPE_BAR:"bar",CHART_TYPE_COLUMN:"column",CHART_TYPE_LINE:"line",CHART_TYPE_AREA:"area",CHART_TYPE_COMBO:"combo",CHART_TYPE_PIE:"pie",CHART_PADDING:10,CHART_DEFAULT_WIDTH:500,CHART_DEFAULT_HEIGHT:400,HIDDEN_WIDTH:1,TEXT_PADDING:2,SERIES_EXPAND_SIZE:10,SERIES_LABEL_PADDING:5,DEFAULT_TITLE_FONT_SIZE:14,DEFAULT_AXIS_TITLE_FONT_SIZE:10,DEFAULT_LABEL_FONT_SIZE:12,DEFAULT_SERIES_LABEL_FONT_SIZE:11,DEFAULT_PLUGIN:"raphael",DEFAULT_TICK_COLOR:"black",DEFAULT_THEME_NAME:"default",STACKED_NORMAL_TYPE:"normal",STACKED_PERCENT_TYPE:"percent",EMPTY_AXIS_LABEL:"",ANGLE_85:85,ANGLE_90:90,ANGLE_360:360,RAD:Math.PI/180,LEGEND_TYPE_OUTER:"outer",LEGEND_TYPE_CENTER:"center",LEGEND_TYPE_HIDDEN:"hidden",SERIES_OUTER_LABEL_PADDING:20,PIE_GRAPH_DEFAULT_RATE:.8,PIE_GRAPH_SMALL_RATE:.65,DOT_RADIUS:4,YAXIS_PROPS:["tickColor","title","label"],SERIES_PROPS:["label","colors","borderColor","singleColors","selectionColor"],TITLE_AREA_WIDTH_PADDING:20,XAXIS_LABEL_TOP_MARGIN:10,V_LABEL_RIGHT_PADDING:10,TOOLTIP_PREFIX:"tui-chart-tooltip",MIN_PIXEL_TYPE_STEP_SIZE:40,MAX_PIXEL_TYPE_STEP_SIZE:60,PERCENT_STACKED_TICK_INFO:{scale:{min:0,max:100},step:25,tickCount:5,labels:[0,25,50,75,100]},TITLE_PADDING:20,LEGEND_AREA_PADDING:10,LEGEND_RECT_WIDTH:12,LEGEND_LABEL_LEFT_PADDING:5,AXIS_LABEL_PADDING:7,DEGREE_CANDIDATES:[25,45,65,85],XAXIS_LABEL_COMPARE_MARGIN:20,XAXIS_LABEL_GUTTER:2,AXIS_STANDARD_MULTIPLE_NUMS:[1,2,5,10],LABEL_PADDING_TOP:2,LINE_MARGIN_TOP:5,TOOLTIP_GAP:5,TOOLTIP_DIRECTION_FORWARD:"forword",TOOLTIP_DIRECTION_CENTER:"center",TOOLTIP_DIRECTION_BACKWARD:"backword",TOOLTIP_DEFAULT_ALIGN_OPTION:"center top",TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION:"center bottom",HIDE_DELAY:200};e.exports=n},{}],16:[function(t,e,i){"use strict";var n=t("./customEventBase"),r=t("./areaTypeDataModel"),o=t("../const"),s=tui.util.defineClass(n,{init:function(t){n.call(this,t)},initCustomEventData:function(t){var e=t[0];this.dataModel=new r(e),n.prototype.initCustomEventData.call(this,t)},onMousemove:function(t){var e=t.target||t.srcElement,i=e.getBoundingClientRect(),n=t.clientX-o.SERIES_EXPAND_SIZE-i.left,r=t.clientY-i.top,s=this.tickBaseDataModel.findIndex(n),a=this.dataModel.findData(s,r);this._isChanged(this.prevFoundData,a)&&(a?(this.fire("showTooltip",a),this.prevFoundData=a):this.prevFoundData&&(this.fire("hideTooltip",this.prevFoundData),delete this.prevFoundData))},onMouseout:function(){this.prevFoundData&&(this.fire("hideTooltip",this.prevFoundData),delete this.prevFoundData)}});tui.util.CustomEvents.mixin(s),e.exports=s},{"../const":15,"./areaTypeDataModel":17,"./customEventBase":18}],17:[function(t,e,i){"use strict";var n=tui.util.defineClass({init:function(t){this.data=this._makeData(t.data.groupPositions,t.chartType)},_makeData:function(t,e){return t=tui.util.pivot(t),tui.util.map(t,function(t,i){return tui.util.map(t,function(t,n){return{chartType:e,indexes:{groupIndex:i,index:n},bound:t}})})},findData:function(t,e){var i,n=1e4;return tui.util.forEach(this.data[t],function(t){var r=Math.abs(e-t.bound.top);n>r&&(n=r,i=t)}),i}});e.exports=n},{}],18:[function(t,e,i){"use strict";var n=t("../helpers/eventListener"),r=t("./tickBaseDataModel"),o=t("./pointTypeDataModel"),s=t("../const"),a=t("../helpers/domHandler"),u=t("../helpers/renderUtil"),l=tui.util.defineClass({init:function(t){this.chartType=t.chartType,this.isVertical=t.isVertical},_renderCustomEventArea:function(t,e,i){var n;this.bound=e,this.tickBaseDataModel=new r(e.dimension,i.tickCount,this.chartType,this.isVertical),
n=u.expandBound(e),u.renderDimension(t,n.dimension),u.renderPosition(t,n.position)},render:function(t,e){var i=a.create("DIV","tui-chart-series-custom-event-area");return this._renderCustomEventArea(i,t,e),this.attachEvent(i),this.elCoordinateArea=i,i},initCustomEventData:function(t){this.pointTypeDataModel=new o(t)},resize:function(t,e){this._renderCustomEventArea(this.elCoordinateArea,t,e)},_isChanged:function(t,e){return!t||!e||t.chartType!==e.chartType||t.indexes.groupIndex!==e.indexes.groupIndex||t.indexes.index!==e.indexes.index},_findPointTypeData:function(t,e,i){var n=t.getBoundingClientRect(),r=e-n.left,o=i-n.top,a=this.tickBaseDataModel.findIndex(this.isVertical?r:o);return this.pointTypeDataModel.findData(a,r+s.SERIES_EXPAND_SIZE,o)},_unselectSelectedData:function(){var t=this.fire(u.makeCustomEventName("unselect",this.selectedData.chartType,"series"),this.selectedData);this.fire(t,this.selectedData),delete this.selectedData},onClick:function(t){var e=t.target||t.srcElement,i=t.clientX-s.SERIES_EXPAND_SIZE,n=this._findPointTypeData(e,i,t.clientY);return this._isChanged(this.selectedData,n)?void(n&&(this.selectedData&&this._unselectSelectedData(),this.fire(u.makeCustomEventName("select",n.chartType,"series"),n),this.selectedData=n)):void this._unselectSelectedData()},onMousemove:function(){},onMouseout:function(){},attachEvent:function(t){n.bindEvent("click",t,tui.util.bind(this.onClick,this)),n.bindEvent("mousemove",t,tui.util.bind(this.onMousemove,this)),n.bindEvent("mouseout",t,tui.util.bind(this.onMouseout,this))}});tui.util.CustomEvents.mixin(l),e.exports=l},{"../const":15,"../helpers/domHandler":30,"../helpers/eventListener":31,"../helpers/renderUtil":33,"./pointTypeDataModel":21,"./tickBaseDataModel":22}],19:[function(t,e,i){"use strict";var n=t("./customEventBase"),r=t("../const"),o=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_getLayerPositionValue:function(t,e,i){var n;return n=i?t.clientX-r.SERIES_EXPAND_SIZE-e.left:t.clientY-e.top},onMousemove:function(t){var e=t.target||t.srcElement,i=e.getBoundingClientRect(),n=this._getLayerPositionValue(t,i,this.isVertical),r=this.tickBaseDataModel.findIndex(n),o=this.prevIndex,s=this.isVertical?"height":"width";return-1===r?void this.onMouseout():void(o!==r&&(this.prevIndex=r,this.fire("showGroupTooltip",{index:r,range:this.tickBaseDataModel.makeRange(r,this.chartType),size:this.bound.dimension[s],isVertical:this.isVertical})))},onMouseout:function(){tui.util.isUndefined(this.prevIndex)||(this.fire("hideGroupTooltip",this.prevIndex),delete this.prevIndex)}});tui.util.CustomEvents.mixin(o),e.exports=o},{"../const":15,"./customEventBase":18}],20:[function(t,e,i){"use strict";var n=t("../const"),r=t("./customEventBase"),o=tui.util.defineClass(r,{init:function(){r.apply(this,arguments)},onMousemove:function(t){var e=t.target||t.srcElement,i=t.clientX-n.SERIES_EXPAND_SIZE,r=this._findPointTypeData(e,i,t.clientY);this._isChanged(this.prevFoundData,r)&&(this.prevFoundData&&(this.fire("hideTooltip",this.prevFoundData),delete this.prevFoundData),r&&(this.fire("showTooltip",r),this.prevFoundData=r))},onMouseout:function(){this.prevFoundData&&(this.fire("hideTooltip",this.prevFoundData),delete this.prevFoundData)}});tui.util.CustomEvents.mixin(o),e.exports=o},{"../const":15,"./customEventBase":18}],21:[function(t,e,i){"use strict";var n=t("../const"),r=t("../helpers/predicate"),o=tui.util.defineClass({init:function(t){this.data=this._makeData(t)},_makeRectTypeCoordinateData:function(t,e){return tui.util.map(t,function(t,i){return tui.util.map(t,function(t,n){var r;return t?(r=t.end,{sendData:{chartType:e,indexes:{groupIndex:i,index:n},allowNegativeTooltip:!0,bound:r},bound:{left:r.left,top:r.top,right:r.left+r.width,bottom:r.top+r.height}}):null})})},_makeDotTypeCoordinateData:function(t,e){return tui.util.map(tui.util.pivot(t),function(t,i){return tui.util.map(t,function(t,r){return{sendData:{chartType:e,indexes:{groupIndex:i,index:r},bound:t},bound:{left:t.left-n.DOT_RADIUS,top:t.top-n.DOT_RADIUS,right:t.left+n.DOT_RADIUS,bottom:t.top+n.DOT_RADIUS}}})})},_joinData:function(t){var e=[];return tui.util.forEachArray(t,function(t){tui.util.forEachArray(t,function(t,i){e[i]||(e[i]=[]),e[i]=e[i].concat(t)})}),e},_makeData:function(t){var e;return t.reverse(),e=tui.util.map(t,function(t){var e;return e=r.isLineTypeChart(t.chartType)?this._makeDotTypeCoordinateData(t.data.groupPositions,t.chartType):this._makeRectTypeCoordinateData(t.data.groupBounds,t.chartType)},this),this._joinData(e)},findData:function(t,e,i){var n,r=1e4,o=null;return-1===t?o:(n=tui.util.filter(this.data[t],function(t){var n=t&&t.bound;return n&&n.left<=e&&n.right>=e&&n.top<=i&&n.bottom>=i}),tui.util.forEachArray(n,function(t){var e=Math.abs(i-t.sendData.bound.top);r>e&&(r=e,o=t.sendData)}),o)}});e.exports=o},{"../const":15,"../helpers/predicate":32}],22:[function(t,e,i){"use strict";var n=t("../helpers/predicate"),r=tui.util.defineClass({init:function(t,e,i,n){this.data=this._makeData(t,e,i,n)},_makeLineTypeData:function(t,e){var i=t/(e-1),n=i/2;return tui.util.map(tui.util.range(0,e),function(t){return{min:t*i-n,max:t*i+n}})},_makeNormalData:function(t,e){var i=e-1,n=t/i,r=0;return tui.util.map(tui.util.range(0,i),function(e){var i=tui.util.min([t,(e+1)*n]),o={min:r,max:i};return r=i,o})},_makeData:function(t,e,i,r){var o,s=r?"width":"height";return o=n.isLineTypeChart(i)?this._makeLineTypeData(t[s],e):this._makeNormalData(t[s],e)},findIndex:function(t){var e=-1;return tui.util.forEachArray(this.data,function(i,n){return i.min<t&&i.max>=t?(e=n,!1):void 0}),e},getLength:function(){return this.data.length},makeRange:function(t,e){var i,r,o=this.data[t];return n.isLineTypeChart(e)?(r=parseInt(o.max-(o.max-o.min)/2,10),i={start:r,end:r}):i={start:o.min,end:o.max},i}});e.exports=r},{"../helpers/predicate":32}],23:[function(t,e,i){"use strict";var n={},r={get:function(t,e,i,r){var o,s=n[t];if(!s)throw new Error("Not exist "+t+" chart.");return o=new s(e,i,r)},register:function(t,e){n[t]=e}};e.exports=r},{}],24:[function(t,e,i){"use strict";var n={},r={get:function(t,e){var i,r,o=n[t];if(!o)throw new Error("Not exist "+t+" plugin.");if(i=o[e],!i)throw new Error("Not exist "+e+" chart renderer.");return r=new i},register:function(t,e){n[t]=e}};e.exports=r},{}],25:[function(t,e,i){"use strict";var n=t("../const"),r=t("../themes/defaultTheme"),o={};e.exports={get:function(t){var e=o[t];if(!e)throw new Error("Not exist "+t+" theme.");return e},register:function(t,e){var i;e=JSON.parse(JSON.stringify(e)),t!==n.DEFAULT_THEME_NAME&&(e=this._initTheme(e)),i=this._getInheritTargetThemeItems(e),this._inheritThemeFont(e,i),this._copyColorInfo(e),o[t]=e},_initTheme:function(t){var e,i=JSON.parse(JSON.stringify(r));return this._concatDefaultColors(t,i.series.colors),e=this._overwriteTheme(t,i),e=this._copyProperty({propName:"yAxis",fromTheme:t,toTheme:e,rejectionProps:n.YAXIS_PROPS}),e=this._copyProperty({propName:"series",fromTheme:t,toTheme:e,rejectionProps:n.SERIES_PROPS})},_filterChartTypes:function(t,e){var i;return t?i=tui.util.filter(t,function(t,i){return-1===tui.util.inArray(i,e)}):[]},_concatColors:function(t,e){t.colors&&(t.colors=t.colors.concat(e)),t.singleColors&&(t.singleColors=t.singleColors.concat(e))},_concatDefaultColors:function(t,e){var i;t.series&&(i=this._filterChartTypes(t.series,n.SERIES_PROPS),tui.util.keys(i).length?tui.util.forEach(i,function(t){this._concatColors(t,e)},this):this._concatColors(t.series,e))},_overwriteTheme:function(t,e){return tui.util.forEach(e,function(i,n){var r=t[n];r&&(tui.util.isArray(r)?e[n]=r.slice():tui.util.isObject(r)?this._overwriteTheme(r,i):e[n]=r)},this),e},_copyProperty:function(t){var e;return t.toTheme[t.propName]?(e=this._filterChartTypes(t.fromTheme[t.propName],t.rejectionProps),tui.util.keys(e).length&&(tui.util.forEach(e,function(e,i){var n=JSON.parse(JSON.stringify(r[t.propName]));t.fromTheme[t.propName][i]=this._overwriteTheme(e,n)},this),t.toTheme[t.propName]=t.fromTheme[t.propName]),t.toTheme):t.toTheme},_copyColorInfoToOther:function(t,e,i){e.colors=i||t.colors,t.singleColors&&(e.singleColors=t.singleColors),t.borderColor&&(e.borderColor=t.borderColor),t.selectionColor&&(e.selectionColor=t.selectionColor)},_getInheritTargetThemeItems:function(t){var e=[t.title,t.xAxis.title,t.xAxis.label,t.legend.label],i=this._filterChartTypes(t.yAxis,n.YAXIS_PROPS),r=this._filterChartTypes(t.series,n.SERIES_PROPS);return tui.util.keys(i).length?tui.util.forEach(i,function(t){e.push(t.title),e.push(t.label)}):(e.push(t.yAxis.title),e.push(t.yAxis.label)),tui.util.keys(r).length?tui.util.forEach(r,function(t){e.push(t.label)}):e.push(t.series.label),e},_inheritThemeFont:function(t,e){var i=t.chart.fontFamily;tui.util.forEachArray(e,function(t){t.fontFamily||(t.fontFamily=i)})},_copyColorInfo:function(t){var e=this._filterChartTypes(t.series,n.SERIES_PROPS);tui.util.keys(e).length?tui.util.forEach(e,function(e,i){t.legend[i]={},t.tooltip[i]={},this._copyColorInfoToOther(e,t.legend[i],e.colors||t.legend.colors),this._copyColorInfoToOther(e,t.tooltip[i],e.colors||t.tooltip.colors),delete t.legend.colors,delete t.tooltip.colors},this):(this._copyColorInfoToOther(t.series,t.legend),this._copyColorInfoToOther(t.series,t.tooltip))}}},{"../const":15,"../themes/defaultTheme":59}],26:[function(t,e,i){"use strict";var n=t("../const"),r=t("./predicate"),o=t("./calculator"),s=Math.abs,a=Array.prototype.concat,u={_makeLabels:function(t,e){var i;return e?(i=t.length-1,tui.util.map(t,function(t,r){return r>0&&i>r&&r%e>0&&(t=n.EMPTY_AXIS_LABEL),t})):t},makeLabelAxisData:function(t){var e=t.labels.length,i=t.options||{};return t.aligned||(e+=1),{labels:this._makeLabels(t.labels,i.labelInterval),tickCount:e,validTickCount:0,isLabelAxis:!0,isVertical:!!t.isVertical,aligned:!!t.aligned}},makeValueAxisData:function(t){var e,i=t.options||{},r=!!t.isVertical,o=!!t.isPositionRight,s=t.formatFunctions;return"percent"===t.stacked?(e=n.PERCENT_STACKED_TICK_INFO,s=[]):e=this._getTickInfo({values:this._makeBaseValues(t.values,t.stacked),seriesDimension:t.seriesDimension,isVertical:r,isPositionRight:o,chartType:t.chartType},i),{labels:this.formatLabels(e.labels,s),tickCount:e.tickCount,validTickCount:e.tickCount,scale:e.scale,step:e.step,isVertical:r,isPositionRight:o,aligned:!!t.aligned}},_makeBaseValues:function(t,e){var i=a.apply([],t);return e===n.STACKED_NORMAL_TYPE&&(i=i.concat(tui.util.map(t,function(t){var e=tui.util.filter(t,function(t){return t>0});return tui.util.sum(e)}))),i},_getBaseSize:function(t,e){var i;return i=e?t.height:t.width},_getCandidateTickCounts:function(t,e){var i=this._getBaseSize(t,e),r=tui.util.max([3,parseInt(i/n.MAX_PIXEL_TYPE_STEP_SIZE,10)]),o=tui.util.max([r,parseInt(i/n.MIN_PIXEL_TYPE_STEP_SIZE,10)])+1,s=tui.util.range(r,o);return s},_getComparingValue:function(t,e,i){var n=s(i.scale.max-e),r=s(t-i.scale.min),o=Math.pow(10,tui.util.lengthAfterPoint(i.step));return(n+r)*o},_selectTickInfo:function(t,e,i){var n=tui.util.bind(this._getComparingValue,this,t,e),r=tui.util.min(i,n);return r},_getTickInfo:function(t,e){var i,n,r,o,s=tui.util.min(t.values),a=tui.util.max(t.values);return i=this._makeIntegerTypeInfo(s,a,e),n=t.tickCount?[t.tickCount]:this._getCandidateTickCounts(t.seriesDimension,t.isVertical),r=this._getCandidateTickInfos({min:i.min,max:i.max,tickCounts:n,chartType:t.chartType},i.options),o=this._selectTickInfo(i.min,i.max,r),o=this._revertOriginalTypeTickInfo(o,i.divideNum)},_makeIntegerTypeInfo:function(t,e,i){var n,r;return s(t)>=1||s(e)>=1?{min:t,max:e,options:i,divideNum:1}:(n=tui.util.findMultipleNum(t,e),r={},tui.util.isUndefined(i.min)||(r.min=i.min*n),tui.util.isUndefined(i.max)||(r.max=i.max*n),{min:t*n,max:e*n,options:r,divideNum:n})},_revertOriginalTypeTickInfo:function(t,e){return 1===e?t:(t.step=tui.util.division(t.step,e),t.scale.min=tui.util.division(t.scale.min,e),t.scale.max=tui.util.division(t.scale.max,e),t.labels=tui.util.map(t.labels,function(t){return tui.util.division(t,e)}),t)},_normalizeStep:function(t){return o.normalizeAxisNumber(t)},_minimizeTickScale:function(t){var e,i=t.tickInfo,n=tui.util.range(1,i.tickCount),r=t.options,s=i.step,a=i.scale,u=a.max,l=a.min,h=tui.util.isUndefined(r.min),c=tui.util.isUndefined(r.max);return tui.util.forEachArray(n,function(e){var i=s*e,n=l+i,o=u-i;return t.userMin<=n&&t.userMax>=o?!1:((h&&t.userMin>n||!h&&r.min>=n)&&(a.min=n),void((h&&t.userMax<o||!c&&r.max<=o)&&(a.max=o)))}),e=o.makeLabelsFromScale(a,s),i.labels=e,i.step=s,i.tickCount=e.length,i},_divideTickStep:function(t,e){var i=t.step,n=t.scale,r=t.tickCount;return i%2===0&&s(e-(2*r-1))<=s(e-r)&&(i/=2,t.labels=o.makeLabelsFromScale(n,i),t.tickCount=t.labels.length,t.step=i),t},_makeTickInfo:function(t){var e,i,n=t.scale;return e=o.getScaleStep(n,t.tickCount),e=this._normalizeStep(e),n=this._normalizeScale(n,e,t.tickCount),n.min=this._addMinPadding({min:n.min,step:e,userMin:t.userMin,minOption:t.options.min,chartType:t.chartType}),n.max=this._addMaxPadding({max:n.max,step:e,userMax:t.userMax,maxOption:t.options.max,chartType:t.chartType}),i=this._minimizeTickScale({userMin:t.userMin,userMax:t.userMax,tickInfo:{scale:n,step:e,tickCount:t.tickCount},options:t.options}),i=this._divideTickStep(i,t.tickCount)},_addMinPadding:function(t){var e=t.min;return!r.isLineChart(t.chartType)&&t.userMin>=0||!tui.util.isUndefined(t.minOption)?e:(t.min===t.userMin&&(e-=t.step),e)},_addMaxPadding:function(t){var e=t.max;return!r.isLineChart(t.chartType)&&t.userMax<=0||!tui.util.isUndefined(t.maxOption)?e:(tui.util.isUndefined(t.maxOption)&&t.max===t.userMax&&(e+=t.step),e)},_normalizeMin:function(t,e){var i,n=tui.util.mod(t,e);return i=0===n?t:tui.util.subtraction(t,t>=0?n:e+n)},_makeNormalizedMax:function(t,e,i){var n,r,o=tui.util.multiplication(e,i-1),s=tui.util.addition(t.min,o),a=t.max-s;return a>0&&(n=a%e,r=Math.floor(a/e),s+=e*(n>0?r+1:r)),s},_normalizeScale:function(t,e,i){return t.min=this._normalizeMin(t.min,e),t.max=this._makeNormalizedMax(t,e,i),t},_getCandidateTickInfos:function(t,e){var i,n,r=t.min,o=t.max,s=t.min,a=t.max;return i=this._makeBaseScale(s,a,e),n=tui.util.map(t.tickCounts,function(n){return this._makeTickInfo({tickCount:n,scale:tui.util.extend({},i),userMin:r,userMax:o,chartType:t.chartType,options:e})},this)},_makeBaseScale:function(t,e,i){var n,r,s=!1;return 0>t&&0>=e&&(s=!0,n=t,t=-e,e=-n),r=o.calculateScale(t,e),s&&(n=r.min,r.min=-r.max,r.max=-n),r.min=tui.util.isUndefined(i.min)?r.min:i.min,r.max=tui.util.isUndefined(i.max)?r.max:i.max,r},formatLabels:function(t,e){var i;return e&&e.length?i=tui.util.map(t,function(t){var i=a.apply([t],e);return tui.util.reduce(i,function(t,e){return e(t)})}):t}};e.exports=u},{"../const":15,"./calculator":28,"./predicate":32}],27:[function(t,e,i){"use strict";var n=t("../const"),r=t("./calculator"),o=t("./predicate"),s=t("./renderUtil"),a=Array.prototype.concat,u={_getValueAxisMaxLabel:function(t,e){var i=e&&t.values[e]||t.joinValues,n=t.formatFunctions,o=a.apply([],i),s=tui.util.min(o),u=tui.util.max(o),l=r.calculateScale(s,u),h=r.normalizeAxisNumber(l.min),c=r.normalizeAxisNumber(l.max),d=n&&n.slice()||[];return c=(h+"").length>(c+"").length?h:c,d.unshift(c),c=tui.util.reduce(d,function(t,e){return e(t)})},_getXAxisHeight:function(t,e,i){var r=t&&t.title,o=s.getRenderedLabelHeight(r,i.title)+n.TITLE_PADDING,a=s.getRenderedLabelsMaxHeight(e,i.label)+o;return a},_getYAxisWidth:function(t,e,i,r){var o,a,u="";return t&&(t=[].concat(t),u=t[r||0].title),o=s.getRenderedLabelHeight(u,i.title)+n.TITLE_PADDING,a=s.getRenderedLabelsMaxWidth(e,i.label)+o+n.AXIS_LABEL_PADDING},_getYRAxisWidth:function(t){var e,i,n,r,o=t.chartTypes||[],s=o.length,a=0;return s>0&&(e=s-1,i=o[e],n=t.theme[i]||t.theme,r=this._getValueAxisMaxLabel(t.convertedData,i),a=this._getYAxisWidth(t.options,[r],n,e)),a},_makeAxesDimension:function(t){var e,i,n=0,r=0,o=0;return t.hasAxes&&(e=t.axesLabelInfo,i=t.optionChartTypes&&t.optionChartTypes[0]||"",n=this._getYAxisWidth(t.options.yAxis,e.yAxis,t.theme.yAxis[i]||t.theme.yAxis),r=this._getXAxisHeight(t.options.xAxis,e.xAxis,t.theme.xAxis),o=this._getYRAxisWidth({convertedData:t.convertedData,chartTypes:t.optionChartTypes,theme:t.theme.yAxis,options:t.options.yAxis})),{yAxis:{width:n},yrAxis:{width:o},xAxis:{height:r}}},_isSkippedLegendSizing:function(t,e){return o.isPieChart(t)&&o.isPieLegendType(e)||o.isHiddenLegendType(e)},_makeLegendDimension:function(t,e,i,r){var o,a,u=0;return r=r||{},this._isSkippedLegendSizing(i,r.legendType)||(o=tui.util.map(t,function(t){return t.label}),a=s.getRenderedLabelsMaxWidth(o,e),u=a+n.LEGEND_RECT_WIDTH+n.LEGEND_LABEL_LEFT_PADDING+2*n.LEGEND_AREA_PADDING),{width:u}},_makeSeriesDimension:function(t){var e=t.axesDimension,i=t.legendWidth+e.yrAxis.width,r=t.chartDimension.width-2*n.CHART_PADDING-e.yAxis.width-i,o=t.chartDimension.height-2*n.CHART_PADDING-t.titleHeight-e.xAxis.height;return{width:r,height:o}},_makeChartDimension:function(t){return{width:t.width||n.CHART_DEFAULT_WIDTH,height:t.height||n.CHART_DEFAULT_HEIGHT}},_makeTitleDimension:function(t,e){return{height:s.getRenderedLabelHeight(t,e)+n.TITLE_PADDING}},_makePlotDimension:function(t){return{width:t.width+n.HIDDEN_WIDTH,height:t.height+n.HIDDEN_WIDTH}},_getComponentsDimensions:function(t){var e=t.options.chart||{},i=this._makeChartDimension(e),n=this._makeTitleDimension(e.title,t.theme.title),r=this._makeAxesDimension(t),o=this._makeLegendDimension(t.convertedData.joinLegendLabels,t.theme.legend.label,t.options.chartType,t.options.legend),s=this._makeSeriesDimension({chartDimension:i,axesDimension:r,legendWidth:o.width,titleHeight:n.height});return tui.util.extend({chart:i,title:n,series:s,plot:this._makePlotDimension(s),legend:o},r)},_makeBasicBound:function(t,e,i){return{dimension:t,position:{top:e,left:i}}},_makeYAxisBound:function(t,e){return{dimension:{width:t.yAxis.width,height:t.plot.height},position:{top:e,left:this.chartLeftPadding}}},_makeXAxisBound:function(t,e,i,r){var o={dimension:{width:t.plot.width,height:t.xAxis.height},position:{top:e+t.series.height,left:i-n.HIDDEN_WIDTH}};return r&&(o.degree=r.degree),o},_makeYRAxisBound:function(t,e){return{dimension:{width:t.yrAxis.width,height:t.plot.height},position:{top:e,right:t.legend.width+n.HIDDEN_WIDTH+n.CHART_PADDING}}},_makeAxesBounds:function(t){var e;return t.hasAxes?(e={plot:this._makeBasicBound(t.dimensions.plot,t.top,t.left-n.HIDDEN_WIDTH),yAxis:this._makeYAxisBound(t.dimensions,t.top),xAxis:this._makeXAxisBound(t.dimensions,t.top,t.left,t.rotationInfo)},t.optionChartTypes&&t.optionChartTypes.length&&(e.yrAxis=this._makeYRAxisBound(t.dimensions,t.top)),e):{}},_makeChartBound:function(t){return{dimension:t}},_makeLegendBound:function(t){return{position:{top:t.title.height,left:t.yAxis.width+t.series.width+t.yrAxis.width+this.chartLeftPadding}}},_makeAxesLabelInfo:function(t){var e,i,n,r;return t.hasAxes?(e=t.optionChartTypes&&t.optionChartTypes[0]||"",i=this._getValueAxisMaxLabel(t.convertedData,e),t.isVertical?(n=[i],r=t.convertedData.labels):(n=t.convertedData.labels,r=[i]),{xAxis:r,yAxis:n}):null},_findRotationDegree:function(t,e,i){var o,s=e/2,a=i/2;return tui.util.forEachArray(n.DEGREE_CANDIDATES,function(e){var i=2*(r.calculateAdjacent(e,s)+r.calculateAdjacent(n.ANGLE_90-e,a));return o=e,i<=t+n.XAXIS_LABEL_COMPARE_MARGIN?!1:void 0}),o},_makeHorizontalLabelRotationInfo:function(t,e,i){var r,o,a=s.getRenderedLabelsMaxWidth(e,i),u=t/e.length-n.XAXIS_LABEL_GUTTER;return u>=a?null:(o=s.getRenderedLabelsMaxHeight(e,i),r=this._findRotationDegree(u,a,o),{maxLabelWidth:a,labelHeight:o,degree:r})},_calculateOverflowLeft:function(t,e,i,o){var a=e.degree,u=e.labelHeight,l=s.getRenderedLabelWidth(i,o),h=2*(r.calculateAdjacent(a,l/2)+r.calculateAdjacent(n.ANGLE_90-a,u/2)),c=h-t;return c},_calculateXAxisHeight:function(t){var e=t.degree,i=t.maxLabelWidth,o=t.labelHeight,s=2*(r.calculateOpposite(e,i/2)+r.calculateOpposite(n.ANGLE_90-e,o/2));return s},_calculateHeightDifference:function(t){var e=this._calculateXAxisHeight(t);return e-t.labelHeight},_updateDegree:function(t,e,i,r){var o,s;r>0&&(o=t/i+n.XAXIS_LABEL_GUTTER,s=this._findRotationDegree(o,e.maxLabelWidth,e.labelHeight),e.degree=s)},_updateDimensionsWidth:function(t,e){e>0&&(this.chartLeftPadding+=e,t.plot.width-=e,t.series.width-=e,t.xAxis.width-=e)},_updateDimensionsHeight:function(t,e){t.plot.height-=e,t.series.height-=e,t.xAxis.height+=e},_updateDimensionsAndDegree:function(t,e,i,n){var r,o;e&&(r=this._calculateOverflowLeft(t.yAxis.width,e,i[0],n),this._updateDimensionsWidth(t,r),this._updateDegree(t.series.width,e,i.length,r),o=this._calculateHeightDifference(e),this._updateDimensionsHeight(t,o))},_makeCustomEventBound:function(t){var e=t.dimension,i=t.position;return{dimension:{width:e.width+2*n.SERIES_EXPAND_SIZE,height:e.height+n.SERIES_EXPAND_SIZE},position:{left:i.left-n.SERIES_EXPAND_SIZE,top:i.top}}},make:function(t){var e,i,r,o,s,a,u=this._makeAxesLabelInfo(t),l=this._getComponentsDimensions(tui.util.extend({axesLabelInfo:u},t));return this.chartLeftPadding=n.CHART_PADDING,t.hasAxes&&(e=this._makeHorizontalLabelRotationInfo(l.series.width,u.xAxis,t.theme.label),this._updateDimensionsAndDegree(l,e,u.xAxis,t.theme.label)),i=l.title.height+n.CHART_PADDING,r=l.yAxis.width+this.chartLeftPadding,o=this._makeBasicBound(l.series,i,r),s=this._makeAxesBounds({hasAxes:t.hasAxes,rotationInfo:e,optionChartTypes:t.optionChartTypes,dimensions:l,top:i,left:r}),a=tui.util.extend({chart:this._makeChartBound(l.chart),series:o,legend:this._makeLegendBound(l),tooltip:this._makeBasicBound(l.series,i,r-n.SERIES_EXPAND_SIZE),customEvent:o},s)}};e.exports=u},{"../const":15,"./calculator":28,"./predicate":32,"./renderUtil":33}],28:[function(t,e,i){"use strict";var n=t("../const"),r={calculateScale:function(t,e){var i,n=0,r={};return 0>t&&(n=t,e-=t,t=0),i=(e-t)/20,r.max=e+i+n,e/6>t?r.min=0+n:r.min=t-i+n,r},normalizeAxisNumber:function(t){var e,i,r=0,o=1;return 0===t?t:(0>t&&(o=-1),t*=o,tui.util.forEachArray(n.AXIS_STANDARD_MULTIPLE_NUMS,function(e){return e>t?(e>1&&(r=e),!1):void(10===e&&(r=10))}),1>r?e=.1*this.normalizeAxisNumber(10*t):(i=tui.util.mod(t,r),e=tui.util.addition(t,i>0?r-i:0)),e*=o)},makeTickPixelPositions:function(t,e){var i,n,r=[];return e>0&&(i={min:0,max:t-1},n=this.getScaleStep(i,e),r=tui.util.map(tui.util.range(0,t,n),function(t){return Math.round(t)}),r[r.length-1]=t-1),r},makeLabelsFromScale:function(t,e){var i=tui.util.findMultipleNum(e),n=t.min*i,r=t.max*i,o=tui.util.range(n,r+1,e*i);return o=tui.util.map(o,function(t){return t/i})},getScaleStep:function(t,e){return(t.max-t.min)/(e-1)},calculateAdjacent:function(t,e){return Math.cos(t*n.RAD)*e},calculateOpposite:function(t,e){return Math.sin(t*n.RAD)*e}};e.exports=r},{"../const":15}],29:[function(t,e,i){"use strict";var n=Array.prototype.concat,r={convert:function(t,e,i,n){var r=t.categories,o=t.series,s=this._pickValues(o),a=this._joinValues(s,n),u=this._pickLegendLabels(o),l=this._joinLegendLabels(u,i,n),h=e&&e.format||"",c=this._findFormatFunctions(h),d=h?this._formatValues(s,c):s,p=this._joinValues(d,n);return{labels:r,values:s,joinValues:a,legendLabels:u,joinLegendLabels:l,formatFunctions:c,formattedValues:d,joinFormattedValues:p}},_separateLabel:function(t){var e=t[0].pop();return{labels:e,sourceData:t}},_pickValue:function(t){return tui.util.map([].concat(t.data),parseFloat)},_pickValues:function(t){var e,i;return tui.util.isArray(t)?(e=tui.util.map(t,this._pickValue,this),i=tui.util.pivot(e)):(i={},tui.util.forEach(t,function(t,n){e=tui.util.map(t,this._pickValue,this),i[n]=tui.util.pivot(e)},this)),i},_joinValues:function(t,e){var i;return e?(i=tui.util.map(t,function(t){return t},this),i=[],tui.util.forEachArray(e,function(e){tui.util.forEach(t[e],function(t,e){i[e]||(i[e]=[]),i[e]=i[e].concat(t)})}),i):t},_pickLegendLabel:function(t){return t.name},_pickLegendLabels:function(t){var e;return tui.util.isArray(t)?e=tui.util.map(t,this._pickLegendLabel,this):(e={},tui.util.forEach(t,function(t,i){e[i]=tui.util.map(t,this._pickLegendLabel,this)},this)),e},_joinLegendLabels:function(t,e,i){var n;return i&&i.length?(n=[],tui.util.forEachArray(i,function(e){var i=tui.util.map(t[e],function(t){return{chartType:e,label:t}});n=n.concat(i)})):n=tui.util.map(t,function(t){return{chartType:e,label:t}}),n},_formatGroupValues:function(t,e){return tui.util.map(t,function(t){return tui.util.map(t,function(t){var i=[t].concat(e);return tui.util.reduce(i,function(t,e){return e(t)})})})},_formatValues:function(t,e){var i;return tui.util.isArray(t)?i=this._formatGroupValues(t,e):(i={},tui.util.forEach(t,function(t,n){i[n]=this._formatGroupValues(t,e)},this)),i},_pickMaxLenUnderPoint:function(t){var e=0;return tui.util.forEachArray(t,function(t){var i=tui.util.lengthAfterPoint(t);i>e&&(e=i)},this),e},_isZeroFill:function(t){return t.length>2&&"0"===t.charAt(0)},_isDecimal:function(t){var e=t.indexOf(".");return e>-1&&e<t.length-1},_isComma:function(t){return t.indexOf(",")===t.split(".")[0].length-4},_formatZeroFill:function(t,e){var i="0",n=0>e;if(e=Math.abs(e)+"",e.length>=t)return e;for(;e.length<t;)e=i+e;return(n?"-":"")+e},_formatDecimal:function(t,e){var i;return 0===t?Math.round(e,10):(i=Math.pow(10,t),e=Math.round(e*i)/i,e=parseFloat(e).toFixed(t))},_formatComma:function(t){var e,i,r=",",o="";return t+="",t.indexOf(".")>-1&&(e=t.split("."),t=e[0],o="."+e[1]),t.length<4?t+o:(e=t.split("").reverse(),i=e.length-1,e=tui.util.map(e,function(t,e){var n=[t];return i>e&&(e+1)%3===0&&n.push(r),n}),n.apply([],e).reverse().join("")+o)},_findFormatFunctions:function(t){var e,i=[];if(!t)return[];if(this._isDecimal(t))e=this._pickMaxLenUnderPoint([t]),i=[tui.util.bind(this._formatDecimal,this,e)];else if(this._isZeroFill(t))return e=t.length,i=[tui.util.bind(this._formatZeroFill,this,e)];return this._isComma(t)&&i.push(this._formatComma),i}};e.exports=r},{}],30:[function(t,e,i){"use strict";var n={create:function(t,e){var i=document.createElement(t);return e&&this.addClass(i,e),i},_getClassNames:function(t){var e=t.className||"",i=e&&tui.util.isString(e)?e.split(" "):[];return i},addClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);n>-1||(i.push(e),t.className=i.join(" "))},removeClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);-1!==n&&(i.splice(n,1),t.className=i.join(" "))},hasClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);return n>-1},findParentByClass:function(t,e,i){var n=t.parentNode;return n?this.hasClass(n,e)?n:"BODY"===n.nodeName||this.hasClass(n,i)?null:this.findParentByClass(n,e,i):null},append:function(t,e){t&&e&&(e=tui.util.isArray(e)?e:[e],tui.util.forEachArray(e,function(e){e&&t.appendChild(e)},this))}};e.exports=n},{}],31:[function(t,e,i){"use strict";var n={_attachEvent:function(t,e,i){"object"==typeof i&&i.handleEvent?e.attachEvent("on"+t,function(){i.handleEvent.call(i)}):e.attachEvent("on"+t,i)},_addEventListener:function(t,e,i){try{e.addEventListener(t,i)}catch(n){if("object"!=typeof i||!i.handleEvent)throw n;e.addEventListener(t,function(t){i.handleEvent.call(i,t)})}},bindEvent:function(t,e,i){var n;"addEventListener"in e?n=this._addEventListener:"attachEvent"in e&&(n=this._attachEvent),this.bindEvent=n,n(t,e,i)}};e.exports=n},{}],32:[function(t,e,i){"use strict";var n=t("../const"),r={isBarChart:function(t){return t===n.CHART_TYPE_BAR},isLineChart:function(t){return t===n.CHART_TYPE_LINE},isLineTypeChart:function(t){return this.isLineChart(t)||t===n.CHART_TYPE_AREA},isPieChart:function(t){return t===n.CHART_TYPE_PIE},isOuterLegendType:function(t){return t===n.LEGEND_TYPE_OUTER},isCenterLegendType:function(t){return t===n.LEGEND_TYPE_CENTER},isPieLegendType:function(t){var e=!1;return t&&(e=this.isOuterLegendType(t)||this.isCenterLegendType(t)),e},isHiddenLegendType:function(t){return t===n.LEGEND_TYPE_HIDDEN}};e.exports=r},{"../const":15}],33:[function(t,e,i){"use strict";var n=t("./domHandler"),r=t("./../const"),o=tui.util.browser,s=o.msie&&o.version<=8,a={concatStr:function(){return String.prototype.concat.apply("",arguments)},makeFontCssText:function(t){var e=[];return t?(t.fontSize&&e.push(this.concatStr("font-size:",t.fontSize,"px")),t.fontFamily&&e.push(this.concatStr("font-family:",t.fontFamily)),t.color&&e.push(this.concatStr("color:",t.color)),e.join(";")):""},checkEl:null,_createSizeCheckEl:function(){var t,e;return this.checkEl?this.checkEl:(t=n.create("DIV","tui-chart-size-check-element"),e=n.create("SPAN"),t.appendChild(e),this.checkEl=t,t)},_getRenderedLabelSize:function(t,e,i){var n,o,s;return tui.util.isUndefined(t)||""===t?0:(n=this._createSizeCheckEl(),o=n.firstChild,e=e||{},o.innerHTML=t,o.style.fontSize=(e.fontSize||r.DEFAULT_LABEL_FONT_SIZE)+"px",e.fontFamily&&(o.style.padding=0,o.style.fontFamily=e.fontFamily),document.body.appendChild(n),s=o[i],document.body.removeChild(n),s)},getRenderedLabelWidth:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetWidth");return i},getRenderedLabelHeight:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetHeight");return i},_getRenderedLabelsMaxSize:function(t,e,i){var n=tui.util.map(t,function(t){return i(t,e)},this),r=tui.util.max(n);return r},getRenderedLabelsMaxWidth:function(t,e){var i=tui.util.bind(this.getRenderedLabelWidth,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},getRenderedLabelsMaxHeight:function(t,e){var i=tui.util.bind(this.getRenderedLabelHeight,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},renderDimension:function(t,e){t.style.cssText=[this.concatStr("width:",e.width,"px"),this.concatStr("height:",e.height,"px")].join(";")},renderPosition:function(t,e){tui.util.isUndefined(e)||(e.top&&(t.style.top=e.top+"px"),e.left&&(t.style.left=e.left+"px"),e.right&&(t.style.right=e.right+"px"))},renderBackground:function(t,e){e&&(t.style.background=e)},renderFontFamily:function(t,e){e&&(t.style.fontFamily=e)},renderTitle:function(t,e,i){var r,o;return t?(r=n.create("DIV",i),r.innerHTML=t,o=a.makeFontCssText(e),e.background&&(o+=";"+this.concatStr("background:",e.background)),r.style.cssText=o,r):null},expandBound:function(t){var e=t.dimension,i=t.position;return{dimension:{width:e.width+2*r.SERIES_EXPAND_SIZE,height:e.height+r.SERIES_EXPAND_SIZE},position:{left:i.left-r.SERIES_EXPAND_SIZE,top:i.top}}},makeCustomEventName:function(t,e,i){return t+tui.util.properCase(e)+tui.util.properCase(i)},isOldBrowser:function(){return s}};e.exports=a},{"./../const":15,"./domHandler":30}],34:[function(t,e,i){"use strict";e.exports={template:function(t){return function(e){var i=t;return tui.util.forEach(e,function(t,e){var n=new RegExp("{{\\s*"+e+"\\s*}}","g");i=i.replace(n,t)}),i}}}},{}],35:[function(t,e,i){"use strict";var n=tui.util.defineClass({register:function(t,e){this.on(t,e)}});tui.util.CustomEvents.mixin(n),e.exports=n},{}],36:[function(t,e,i){"use strict";var n=t("../const"),r=t("../helpers/domHandler"),o=t("../helpers/eventListener"),s=t("../helpers/renderUtil"),a=t("../themes/defaultTheme"),u=t("./../legends/legendTemplate"),l=Array.prototype.concat,h=tui.util.defineClass({init:function(t){tui.util.extend(this,t),this.className="tui-chart-legend-area"},_renderLegendArea:function(t,e){var i;this.bound=e,this.legendData=i=this._makeLegendData(),t.innerHTML=this._makeLegendHtml(i),s.renderPosition(t,e.position),this._renderLabelTheme(t,this.theme.label)},render:function(t){var e=r.create("DIV",this.className);return this._renderLegendArea(e,t),this._attachEvent(e),this.elLegendArea=e,e},resize:function(t){this._renderLegendArea(this.elLegendArea,t)},_setThemeForLabels:function(t,e){var i;return i=tui.util.map(t,function(t,i){var n={color:e.colors[i]};return e.singleColors&&(n.singleColor=e.singleColors[i]),e.borderColor&&(n.borderColor=e.borderColor),t.theme=n,t.index=i,t},this)},_makeLegendData:function(){var t,e,i=this.joinLegendLabels,n=this.theme,r={colors:a.series.colors};return this.seriesChartTypes?(t=0,e=l.apply([],tui.util.map(this.seriesChartTypes,function(e){var o=n[e]||r,s=t+this.legendLabels[e].length,a=this._setThemeForLabels(i.slice(t,s),o);
return t=s,a},this))):e=this._setThemeForLabels(i,n),e},_makeLegendHtml:function(t){var e=u.tplLegend,i=s.getRenderedLabelHeight(t[0].label,t[0].theme),r=i+2*n.LABEL_PADDING_TOP,o=parseInt((r-n.LEGEND_RECT_WIDTH)/2,10)-1,a=tui.util.map(t,function(t,a){var u,l,h,c=t.borderColor?s.concatStr(";border:1px solid ",t.borderColor):"";return l="line"===t.chartType?o+n.LINE_MARGIN_TOP:o,u=s.concatStr(";margin-top:",l,"px"),h={cssText:s.concatStr("background-color:",t.theme.singleColor||t.theme.color,c,u),height:r,labelHeight:i,chartType:t.chartType||"rect",label:t.label,index:a},e(h)},this).join("");return a},_renderLabelTheme:function(t,e){var i=s.makeFontCssText(e);t.style.cssText+=";"+i},_findLegendElement:function(t){var e;return e=r.hasClass(t,n.CLASS_NAME_LEGEND)?t:r.findParentByClass(t,n.CLASS_NAME_LEGEND)},_selectLegend:function(t){var e=this.legendData[t];this.userEvent.fire("selectLegend",{legend:e.label,chartType:e.chartType,index:e.index})},_onClick:function(t){var e,i=t.target||t.srcElement,n=this._findLegendElement(i);n&&(e=parseInt(n.getAttribute("data-index"),10),this._selectLegend(e))},_attachEvent:function(t){o.bindEvent("click",t,tui.util.bind(this._onClick,this))}});e.exports=h},{"../const":15,"../helpers/domHandler":30,"../helpers/eventListener":31,"../helpers/renderUtil":33,"../themes/defaultTheme":59,"./../legends/legendTemplate":37}],37:[function(t,e,i){var n=t("../helpers/templateMaker"),r={HTML_LEGEND:'<div class="tui-chart-legend" style="height:{{ height }}px" data-index="{{ index }}"><div class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></div><div class="tui-chart-legend-label" style="height:{{ labelHeight }}px">{{ label }}</div></div>'};e.exports={tplLegend:n.template(r.HTML_LEGEND)}},{"../helpers/templateMaker":34}],38:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),r=t("../helpers/calculator"),o=t("../helpers/renderUtil"),s=t("./plotTemplate"),a=tui.util.defineClass({init:function(t){tui.util.extend(this,t),this.className="tui-chart-plot-area"},_renderPlotArea:function(t,e,i){this.bound=e,this.data=i,o.renderDimension(t,e.dimension),o.renderPosition(t,e.position),this._renderLines(t,e.dimension)},render:function(t,e){var i=n.create("DIV",this.className);return this._renderPlotArea(i,t,e),this.elPlotArea=i,i},resize:function(t,e){this.elPlotArea.innerHTML="",this._renderPlotArea(this.elPlotArea,t,e)},_renderLines:function(t,e){var i=this._makeHorizontalPixelPositions(e.width),n=this._makeVerticalPixelPositions(e.height),r=this.theme,s="";s+=this._makeLineHtml({positions:i,size:e.height,className:"vertical",positionType:"left",sizeType:"height",lineColor:r.lineColor}),s+=this._makeLineHtml({positions:n,size:e.width,className:"horizontal",positionType:"bottom",sizeType:"width",lineColor:r.lineColor}),t.innerHTML=s,o.renderBackground(t,r.background)},_makeLineHtml:function(t){var e=s.tplPlotLine,i=tui.util.map(t.positions,function(i){var n,r=[o.concatStr(t.positionType,":",i,"px"),o.concatStr(t.sizeType,":",t.size,"px")];return t.lineColor&&r.push(o.concatStr("background-color:",t.lineColor)),n={className:t.className,cssText:r.join(";")},e(n)},this).join("");return i},_makeVerticalPixelPositions:function(t){var e=r.makeTickPixelPositions(t,this.data.vTickCount);return e.shift(),e},_makeHorizontalPixelPositions:function(t){var e=r.makeTickPixelPositions(t,this.data.hTickCount);return e.shift(),e}});e.exports=a},{"../helpers/calculator":28,"../helpers/domHandler":30,"../helpers/renderUtil":33,"./plotTemplate":39}],39:[function(t,e,i){var n=t("../helpers/templateMaker"),r={HTML_PLOT_LINE:'<div class="tui-chart-plot-line {{ className }}" style="{{ cssText }}"></div>'};e.exports={tplPlotLine:n.template(r.HTML_PLOT_LINE)}},{"../helpers/templateMaker":34}],40:[function(t,e,i){"use strict";var n,r=t("./raphaelBarChart"),o=t("./raphaelLineChart"),s=t("./raphaelAreaChart"),a=t("./raphaelPieChart"),u="raphael";n={bar:r,column:r,line:o,area:s,pie:a},tui.chart.registerPlugin(u,n)},{"./raphaelAreaChart":41,"./raphaelBarChart":42,"./raphaelLineChart":43,"./raphaelPieChart":45}],41:[function(t,e,i){"use strict";var n=t("./raphaelLineTypeBase"),r=t("./raphaelRenderUtil"),o=window.Raphael,s=700,a=Array.prototype.concat,u=tui.util.defineClass(n,{render:function(t,e){var i,n,r,s,a,u=e.dimension,l=e.groupPositions,h=e.theme,c=h.colors,d=e.options.hasDot?1:0,p=this._getAreasPath(l,e.zeroTop),m=this.makeBorderStyle(h.borderColor,d),f=this.makeOutDotStyle(d,m);return this.paper=i=o(t,u.width,u.height),n=this._renderAreas(i,p,c),r=this._renderTooltipLine(i,u.height),s=this._makeSelectionDot(i),a=this._renderDots(i,l,c,m),e.options.hasSelection&&(this.selectionDot=s,this.selectionColor=h.selectionColor),this.outDotStyle=f,this.groupPositions=l,this.groupPaths=p,this.groupAreas=n,this.tooltipLine=r,this.groupDots=a,this.dotOpacity=d,i},_renderArea:function(t,e,i){var n,r=[],o=t.path([e.start]),s={fill:i,opacity:.5,stroke:i,"stroke-opacity":0};return o.attr(s),r.push(o),e.addStart&&(n=t.path([e.addStart]),n.attr(s),r.push(n)),r},_renderAreas:function(t,e,i){var n=tui.util.map(e,function(e,n){var o=i[n]||"transparent";return tui.util.map(e,function(e){var i={area:this._renderArea(t,e.area,o),line:r.renderLine(t,e.line.start,o)};return i},this)},this);return n},_isMinus:function(t){return 0>t},_isPlus:function(t){return t>=0},_makeHeight:function(t,e){return Math.abs(t-e)},_findMiddleLeft:function(t,e,i){var n,r,o,s,a=[i-t.top,i-e.top];return tui.util.all(a,this._isMinus)||tui.util.all(a,this._isPlus)?-1:(o=this._makeHeight(t.top,i),s=this._makeHeight(e.top,i),r=e.left-t.left,n=t.left+r*(o/(o+s)))},_makeAreaPath:function(t,e,i){var n=["M",t.left," ",i],r=i===t.top?[]:["L",t.left," ",t.top],o=["L",e.left," ",e.top],s=i===e.top?[]:["L",e.left," ",i];return a.call([],n,r,o,s).join("")},_makeAreaPaths:function(t,e,i){var n,r=this._findMiddleLeft(t,e,i),o={start:this._makeAreaPath(t,t,i)};return this._isPlus(r)?(n={left:r,top:i},o.end=this._makeAreaPath(t,n,i),o.addStart=this._makeAreaPath(n,n,i),o.addEnd=this._makeAreaPath(n,e,i)):o.end=this._makeAreaPath(t,e,i),o},_getAreasPath:function(t,e){var i=tui.util.map(t,function(t){var i=t[0],n=t.slice(1);return tui.util.map(n,function(t){var n={area:this._makeAreaPaths(i,t,e),line:this.makeLinePath(i,t)};return i=t,n},this)},this);return i},_animateArea:function(t,e,i,n){var r=e.addEnd,o=e.end;r&&(i/=2,setTimeout(function(){t[1].animate({path:r,"stroke-opacity":.25},i)},n+i)),setTimeout(function(){t[0].animate({path:o,"stroke-opacity":.25},i)},n)},animate:function(t){var e=s/this.groupAreas[0].length,i=this,n=0;this.renderItems(function(t,r,o){var s,a;o?(s=i.groupAreas[r][o-1],a=i.groupPaths[r][o-1],i.animateLine(s.line,a.line.end,e,n),i._animateArea(s.area,a.area,e,n),n+=e):n=0,i.dotOpacity&&setTimeout(function(){t.attr({"fill-opacity":i.dotOpacity})},n)}),t&&setTimeout(t,n)},_updateAreaAttr:function(t,e){var i=e.addEnd;t[0].attr({path:e.end}),i&&t[1].attr({path:i})},resize:function(t){var e=t.dimension,i=t.groupPositions,n=this;this.groupPositions=i,this.groupPaths=this._getAreasPath(i,t.zeroTop),this.paper.setSize(e.width,e.height),this.tooltipLine.attr({top:e.height}),this.renderItems(function(t,e,r){var o,s,a=i[e][r],u={cx:a.left,cy:a.top};r&&(o=n.groupAreas[e][r-1],s=n.groupPaths[e][r-1],o.line.attr({path:s.line.end}),n._updateAreaAttr(o.area,s.area)),n.dotOpacity&&(u=tui.util.extend({"fill-opacity":n.dotOpacity},u,n.borderStyle)),t.attr(u)})}});e.exports=u},{"./raphaelLineTypeBase":44,"./raphaelRenderUtil":46}],42:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),r=window.Raphael,o=700,s=tui.util.defineClass({render:function(t,e){var i,n,o=e.groupBounds,s=e.dimension;return o?(this.paper=i=r(t,s.width,s.height),n={paper:i,theme:e.theme,groupBounds:o,groupValues:e.groupValues,chartType:e.chartType},this._renderBars(n),this._renderBarBorders(n),this.theme=e.theme,this.groupBounds=o,this.chartType=e.chartType,i):null},_renderBar:function(t){var e,i=t.bound;return i.width<0||i.height<0?null:(e=t.paper.rect(i.left,i.top,i.width,i.height),e.attr({fill:t.color,stroke:"none"}),e)},_renderBars:function(t){var e=1===t.groupBounds[0].length&&t.theme.singleColors||[],i=t.theme.colors;this.groupBars=tui.util.map(t.groupBounds,function(n,r){var o=e[r];return tui.util.map(n,function(e,n){var s,a,u;return e?(s=o||i[n],u=t.groupValues[r][n],a=this._renderBar({paper:t.paper,chartType:t.chartType,color:s,borderColor:t.theme.borderColor,bound:e.start,value:u}),{rect:a,color:s,bound:e.end,value:u,groupIndex:r,index:n}):null},this)},this)},_makeRectPoints:function(t){return{leftTop:{left:Math.ceil(t.left),top:Math.ceil(t.top)},rightTop:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top)},rightBottom:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top+t.height)},leftBottom:{left:Math.ceil(t.left),top:Math.ceil(t.top+t.height)}}},_makeTopLinePath:function(t,e,i,r){var o=tui.util.extend({},t);return o.left-="column"===i||0>r?1:0,n.makeLinePath(o,e)},_makeBorderLinesPaths:function(t,e,i){var r=this._makeRectPoints(t),o={};return("bar"===e||i>=0)&&(o.top=this._makeTopLinePath(r.leftTop,r.rightTop,e,i)),("column"===e||i>=0)&&(o.right=n.makeLinePath(r.rightTop,r.rightBottom)),("bar"===e||0>i)&&(o.bottom=n.makeLinePath(r.leftBottom,r.rightBottom)),("column"===e||0>i)&&(o.left=n.makeLinePath(r.leftTop,r.leftBottom)),o},_renderBorderLines:function(t){var e=this._makeBorderLinesPaths(t.bound,t.chartType,t.value),i={};return tui.util.forEach(e,function(e,r){i[r]=n.renderLine(t.paper,e,t.borderColor,1)}),i},_renderBarBorders:function(t){var e=t.theme.borderColor;e&&(this.groupBorders=tui.util.map(t.groupBounds,function(i,n){return tui.util.map(i,function(i,r){var o;return i?(o=t.groupValues[n][r],this._renderBorderLines({paper:t.paper,bound:i.start,borderColor:e,chartType:t.chartType,value:o})):null},this)},this))},_animateRect:function(t,e){t.animate({x:e.left,y:e.top,width:e.width,height:e.height},o)},_animateBorders:function(t,e,i,n){var r=this._makeBorderLinesPaths(e,i,n);tui.util.forEach(t,function(t,e){t.animate({path:r[e]},o)})},animate:function(t){tui.util.forEachArray(this.groupBars,function(t,e){var i=this.groupBorders&&this.groupBorders[e];tui.util.forEachArray(t,function(t,e){var n=i&&i[e];this._animateRect(t.rect,t.bound),n&&this._animateBorders(n,t.bound,this.chartType,t.value)},this)},this),t&&setTimeout(t,o)},_updateRectAttr:function(t,e){t.attr({x:e.left,y:e.top,width:e.width,height:e.height})},_updateBordersAttr:function(t,e,i,n){var r=this._makeBorderLinesPaths(e,i,n);tui.util.forEach(t,function(t,e){t.attr({path:r[e]})})},resize:function(t){var e=t.dimension,i=t.groupBounds;this.groupBounds=i,this.paper.setSize(e.width,e.height),tui.util.forEachArray(this.groupBars,function(t,e){var n=this.groupBorders&&this.groupBorders[e];tui.util.forEachArray(t,function(t,r){var o=n&&n[r],s=i[e][r].end;t.bound=s,this._updateRectAttr(t.rect,s),o&&this._updateBordersAttr(o,s,this.chartType,t.value)},this)},this)},_changeBordersColor:function(t,e){tui.util.forEach(t,function(t){t.attr({stroke:e})})},_changeBarColor:function(t,e,i){var n,r=this.groupBars[t.groupIndex][t.index];r.rect.attr({fill:e}),i&&(n=this.groupBorders[t.groupIndex][t.index],this._changeBordersColor(n,i))},selectSeries:function(t){var e,i=this.groupBars[t.groupIndex][t.index],o=r.color(i.color),s=this.theme.selectionColor||n.makeChangedLuminanceColor(o.hex,.2),a=this.theme.borderColor;a&&(e=r.color(a),a=n.makeChangedLuminanceColor(e.hex,.2)),this._changeBarColor(t,s,a)},unselectSeries:function(t){var e=this.groupBars[t.groupIndex][t.index],i=this.theme.borderColor;this._changeBarColor(t,e.color,i)}});e.exports=s},{"./raphaelRenderUtil":46}],43:[function(t,e,i){"use strict";var n=t("./raphaelLineTypeBase"),r=t("./raphaelRenderUtil"),o=window.Raphael,s=700,a=tui.util.defineClass(n,{render:function(t,e){var i,n,r,s,a,u=e.dimension,l=e.groupPositions,h=e.theme,c=h.colors,d=e.options.hasDot?1:0,p=this._getLinesPath(l),m=this.makeBorderStyle(h.borderColor,d),f=this.makeOutDotStyle(d,m);return this.paper=i=o(t,u.width,u.height),n=this._renderLines(i,p,c),r=this._renderTooltipLine(i,u.height),s=this._makeSelectionDot(i),a=this._renderDots(i,l,c,m),e.options.hasSelection&&(this.selectionDot=s,this.selectionColor=h.selectionColor),this.borderStyle=m,this.outDotStyle=f,this.groupPositions=l,this.groupPaths=p,this.groupLines=n,this.tooltipLine=r,this.groupDots=a,this.dotOpacity=d,i},_getLinesPath:function(t){var e=tui.util.map(t,function(t){var e=t[0],i=t.slice(1);return tui.util.map(i,function(t){var i=this.makeLinePath(e,t);return e=t,i},this)},this);return e},_renderLines:function(t,e,i,n){var o=tui.util.map(e,function(e,o){var s=i[o]||"transparent";return tui.util.map(e,function(e){return r.renderLine(t,e.start,s,n)},this)},this);return o},animate:function(t){var e=s/this.groupLines[0].length,i=this,n=0;this.renderItems(function(t,r,o){var s,a;o?(s=i.groupLines[r][o-1],a=i.groupPaths[r][o-1].end,i.animateLine(s,a,e,n),n+=e):n=0,i.dotOpacity&&setTimeout(function(){t.attr(tui.util.extend({"fill-opacity":i.dotOpacity},i.borderStyle))},n)}),t&&setTimeout(t,n)},resize:function(t){var e=t.dimension,i=t.groupPositions,n=this;this.groupPositions=i,this.groupPaths=this._getLinesPath(i),this.paper.setSize(e.width,e.height),this.tooltipLine.attr({top:e.height}),this.renderItems(function(t,e,r){var o,s,a=i[e][r],u={cx:a.left,cy:a.top};r&&(o=n.groupLines[e][r-1],s=n.groupPaths[e][r-1].end,o.attr({path:s})),n.dotOpacity&&(u=tui.util.extend({"fill-opacity":n.dotOpacity},u,n.borderStyle)),t.attr(u)})}});e.exports=a},{"./raphaelLineTypeBase":44,"./raphaelRenderUtil":46}],44:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),r=3,o=4,s=7,a=tui.util.defineClass({makeLinePath:function(t,e){var i=n.makeLinePath(t,t),r=n.makeLinePath(t,e);return{start:i,end:r}},_renderTooltipLine:function(t,e){var i=n.makeLinePath({left:10,top:e},{left:10,top:0});return n.renderLine(t,i,"transparent",1)},makeBorderStyle:function(t,e){var i;return t&&(i={stroke:t,"stroke-width":1,"stroke-opacity":e}),i},makeOutDotStyle:function(t,e){var i={"fill-opacity":t,"stroke-opacity":0,r:r};return e&&tui.util.extend(i,e),i},renderDot:function(t,e,i){var n=t.circle(e.left,e.top,r),o={fill:i,"fill-opacity":0,"stroke-opacity":0};return n.attr(o),{dot:n,color:i}},_renderDots:function(t,e,i){var n=tui.util.map(e,function(e,n){var r=i[n];return tui.util.map(e,function(e){var i=this.renderDot(t,e,r);return i},this)},this);return n},_getCenter:function(t,e){return{left:(t.left+e.left)/2,top:(t.top+e.top)/2}},_showDot:function(t){t.attr({"fill-opacity":1,"stroke-opacity":.3,"stroke-width":2,r:o})},showAnimation:function(t){var e=t.groupIndex,i=t.index,n=this.groupDots[i][e];this._showDot(n.dot)},_getPivotGroupDots:function(){return this.pivotGroupDots||(this.pivotGroupDots=tui.util.pivot(this.groupDots)),this.pivotGroupDots},_showGroupDots:function(t){var e=this._getPivotGroupDots();tui.util.forEachArray(e[t],function(t){this._showDot(t.dot)},this)},showGroupTooltipLine:function(t){var e=n.makeLinePath({left:t.position.left,top:t.dimension.height},{left:t.position.left,top:t.position.top});this.tooltipLine.attr({path:e,stroke:"#999","stroke-opacity":1})},showGroupAnimation:function(t){this._showGroupDots(t)},_hideDot:function(t){t.attr(this.outDotStyle)},hideAnimation:function(t){var e=t.groupIndex,i=t.index,n=this.groupDots[i][e];n&&this._hideDot(n.dot)},_hideGroupDots:function(t){var e=this._getPivotGroupDots();tui.util.forEachArray(e[t],function(t){this._hideDot(t.dot)},this)},hideGroupTooltipLine:function(){this.tooltipLine.attr({"stroke-opacity":0})},hideGroupAnimation:function(t){this._hideGroupDots(t)},animateLine:function(t,e,i,n){setTimeout(function(){t.animate({path:e},i)},n)},renderItems:function(t){tui.util.forEachArray(this.groupDots,function(e,i){tui.util.forEachArray(e,function(e,n){t(e.dot,i,n)},this)},this)},_makeSelectionDot:function(t){var e=t.circle(0,0,s);return e.attr({fill:"#ffffff","fill-opacity":0,"stroke-opacity":0,"stroke-width":2}),e},selectSeries:function(t){var e=this.groupDots[t.index][t.groupIndex],i=this.groupPositions[t.index][t.groupIndex];this.selectedItem=e,this.selectionDot.attr({cx:i.left,cy:i.top,"fill-opacity":.5,"stroke-opacity":1,stroke:this.selectionColor||e.color})},unselectSeries:function(t){var e=this.groupDots[t.index][t.groupIndex];this.selectedItem===e&&this.selectionDot.attr({"fill-opacity":0,"stroke-opacity":0})}});e.exports=a},{"./raphaelRenderUtil":46}],45:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),r=window.Raphael,o=180,s=Math.PI/o,a=500,u=700,l=tui.util.defineClass({render:function(t,e,i){var n,o=e.dimension;return this.paper=n=r(t,o.width,o.height),n.customAttributes.sector||(n.customAttributes.sector=tui.util.bind(this._makeSectorPath,this)),this.selectionColor=e.theme.selectionColor,this.circleBound=e.circleBound,this._renderPie(n,e,i),n},_makeSectorPath:function(t,e,i,n,r){var a=t+i*Math.sin(n*s),u=e-i*Math.cos(n*s),l=t+i*Math.sin(r*s),h=e-i*Math.cos(r*s),c=r-n>o?1:0,d=["M",t,e,"L",a,u,"A",i,i,0,c,1,l,h,"Z"];return{path:d}},_renderSector:function(t){var e=t.circleBound,i=t.angles;return t.paper.path().attr({sector:[e.cx,e.cy,e.r,i.startAngle,i.endAngle]}).attr(t.attrs)},_renderPie:function(t,e,i){var n=e.circleBound,r=e.theme.colors,o=e.chartBackground,s=[];tui.util.forEachArray(e.sectorsInfo,function(e,a){var u=e.percentValue,l=r[a],h=this._renderSector({paper:t,circleBound:n,angles:e.angles.start,attrs:{fill:l,stroke:o,"stroke-width":1}});this._bindHoverEvent(h,a,i),s.push({sector:h,color:l,angles:e.angles.end,percentValue:u})},this),this.sectors=s},renderLegendLines:function(t){var e,i=this;this.legendLines||(e=this._makeLinePaths(t),this.legendLines=tui.util.map(e,function(t){return n.renderLine(i.paper,t,"transparent",1)}))},_makeLinePaths:function(t){var e=tui.util.map(t,function(t){return[n.makeLinePath(t.start,t.middle),n.makeLinePath(t.middle,t.end),"Z"].join("")},this);return e},_bindHoverEvent:function(t,e,i){var n=[{},0,e],r=!1,o=tui.util.throttle(function(){r&&i.funcShowTooltip.apply(null,arguments)},100);t.mouseover(function(t){var e=n.concat({clientX:t.clientX,clientY:t.clientY});r=!0,i.funcShowTooltip.apply(null,e)}).mousemove(function(t){var e=n.concat({clientX:t.clientX,clientY:t.clientY-10});o.apply(null,e)}).mouseout(function(){r=!1,i.funcHideTooltip()}).click(function(){i.funcSelectSeries(e)})},_expandSector:function(t){var e=this.circleBound.cx,i=this.circleBound.cy;t.animate({transform:"s1.1 1.1 "+e+" "+i},a,"elastic")},_restoreSector:function(t){t.animate({transform:""},a,"elastic")},showAnimation:function(t){var e=this.sectors[t.index].sector;this._expandSector(e)},hideAnimation:function(t){var e=this.sectors[t.index].sector;this._restoreSector(e)},animate:function(t){var e=0,i=this.circleBound;tui.util.forEachArray(this.sectors,function(t){var n=t.angles,o=u*t.percentValue,s=r.animation({sector:[i.cx,i.cy,i.r,n.startAngle,n.endAngle]},o);t.sector.animate(s.delay(e)),e+=o},this),t&&setTimeout(t,e)},animateLegendLines:function(){this.legendLines&&tui.util.forEachArray(this.legendLines,function(t){t.animate({stroke:"black","stroke-opacity":1})})},resize:function(t){var e=t.dimension,i=t.circleBound;this.circleBound=i,this.paper.setSize(e.width,e.height),tui.util.forEachArray(this.sectors,function(t){var e=t.angles;t.sector.attr({sector:[i.cx,i.cy,i.r,e.startAngle,e.endAngle]})},this)},moveLegendLines:function(t){var e;this.legendLines&&(e=this._makeLinePaths(t),tui.util.forEachArray(this.legendLines,function(t,i){return t.attr({path:e[i]}),t}))},selectSeries:function(t){var e=this.sectors[t.index],i=r.color(e.color),o=this.selectionColor||n.makeChangedLuminanceColor(i.hex,.2);e.sector.attr({fill:o})},unselectSeries:function(t){var e=this.sectors[t.index];e.sector.attr({fill:e.color})}});e.exports=l},{"./raphaelRenderUtil":46}],46:[function(t,e,i){"use strict";var n={makeLinePath:function(t,e,i){var n=[t.left,t.top],r=[e.left,e.top];return i=i||1,tui.util.forEachArray(n,function(t,e){t===r[e]&&(n[e]=r[e]=Math.round(t)-i%2/2)}),"M"+n.join(" ")+"L"+r.join(" ")},renderLine:function(t,e,i,n){var r=t.path([e]),o={stroke:i,"stroke-width":n||2};return"transparent"===i&&(o.stroke="#fff",o["stroke-opacity"]=0),r.attr(o),r},makeChangedLuminanceColor:function(t,e){return t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0,"#"+tui.util.map(tui.util.range(3),function(i){var n=parseInt(t.substr(2*i,2),16);return n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),("00"+n).substr(n.length)}).join("")}};e.exports=n},{}],47:[function(require,module,exports){window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(){var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)},i={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},n=function(t){return i[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},r=/[\\"\u0000-\u001F\u2028\u2029]/g;return function o(i){if(null==i)return"null";if("number"==typeof i)return isFinite(i)?i.toString():"null";if("boolean"==typeof i)return i.toString();if("object"==typeof i){if("function"==typeof i.toJSON)return o(i.toJSON());if(e(i)){for(var s="[",a=0;a<i.length;a++)s+=(a?", ":"")+o(i[a]);return s+"]"}if("[object Object]"===t.call(i)){var u=[];for(var l in i)i.hasOwnProperty(l)&&u.push(o(l)+": "+o(i[l]));return"{"+u.join(", ")+"}"}}return'"'+i.toString().replace(r,n)+'"'}}()})},{}],48:[function(t,e,i){"use strict";var n=t("./const"),r=t("./factories/chartFactory"),o=t("./charts/barChart"),s=t("./charts/columnChart"),a=t("./charts/lineChart"),u=t("./charts/areaChart"),l=t("./charts/comboChart"),h=t("./charts/pieChart");r.register(n.CHART_TYPE_BAR,o),r.register(n.CHART_TYPE_COLUMN,s),r.register(n.CHART_TYPE_LINE,a),r.register(n.CHART_TYPE_AREA,u),r.register(n.CHART_TYPE_COMBO,l),r.register(n.CHART_TYPE_PIE,h)},{"./charts/areaChart":4,"./charts/barChart":6,"./charts/columnChart":8,"./charts/comboChart":9,"./charts/lineChart":10,"./charts/pieChart":12,"./const":15,"./factories/chartFactory":23}],49:[function(t,e,i){"use strict";var n=t("./const"),r=t("./factories/themeFactory"),o=t("./themes/defaultTheme");r.register(n.DEFAULT_THEME_NAME,o)},{"./const":15,"./factories/themeFactory":25,"./themes/defaultTheme":59}],50:[function(t,e,i){"use strict";var n=t("./series"),r=t("./lineTypeSeriesBase"),o=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},makeSeriesData:function(t){var e=t.dimension,i=this.getScaleDistanceFromZeroPoint(e.height,this.data.scale),n=i.toMax;return this.data.scale.min>=0&&!n&&(n=e.height),{groupPositions:this.makePositions(e),zeroTop:n}}});r.mixin(o),e.exports=o},{"./lineTypeSeriesBase":55,"./series":57}],51:[function(t,e,i){"use strict";var n=t("./series"),r=t("./barTypeSeriesBase"),o=t("../const"),s=t("../helpers/renderUtil"),a=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeBarChartBound:function(t){return{start:tui.util.extend({left:t.startLeft,width:0},t.baseBound),end:tui.util.extend({left:t.endLeft,width:t.endWidth},t.baseBound)}},_makeNormalBarChartBound:function(t,e,i,n){var r,s,a,u;return r=t.distanceToMin+o.SERIES_EXPAND_SIZE,s=Math.abs(e*t.dimension.width),u={top:i+t.step*n,height:t.barSize},a=this._makeBarChartBound({baseBound:u,startLeft:r,endLeft:r+(0>e?-s:0),endWidth:s})},_makeNormalBarChartBounds:function(t){var e,i=this.makeBaseInfoForNormalChartBounds(t,"width","height");return e=tui.util.map(i.groupValues,function(t,e){var n=i.groupSize*e+i.additionPadding;return tui.util.map(t,function(t,e){return this._makeNormalBarChartBound(i,t,n,e)},this)},this)},_makeStackedBarChartBounds:function(t){var e,i,n,r,s,a;return e=this.percentValues,i=t.height/e.length,n=i/2,r=this._makeOptionSize(n,this.options.barWidth),s=this._makeAdditionPadding(n,r,1),n=r||n,a=tui.util.map(e,function(e,a){var u=i*a+s,l=o.SERIES_EXPAND_SIZE;return tui.util.map(e,function(e){var i,s,a;return 0>e?null:(i=e*t.width,s={top:u,height:r||n},a=this._makeBarChartBound({baseBound:s,startLeft:o.SERIES_EXPAND_SIZE,endLeft:l,endWidth:i}),l+=i,a)},this)},this)},_makeBounds:function(t){return this.options.stacked?this._makeStackedBarChartBounds(t):this._makeNormalBarChartBounds(t)},makeSeriesRenderingPosition:function(t){var e=s.getRenderedLabelWidth(t.formattedValue,this.theme.label),i=t.bound,n=i.left,r=i.top+(i.height-t.labelHeight+o.TEXT_PADDING)/2;return t.value>=0?n+=i.width+o.SERIES_LABEL_PADDING:n-=e+o.SERIES_LABEL_PADDING,{left:n,top:r}},makeSumLabelHtml:function(t){var e=this.makeSumValues(t.values,t.formatFunctions),i=t.bound,n=s.getRenderedLabelHeight(e,this.theme.label),r=i.top+(i.height-n+o.TEXT_PADDING)/2,a=i.left+i.width+o.SERIES_LABEL_PADDING;return this.makeSeriesLabelHtml({left:a,top:r},e,-1,-1)}});r.mixin(a),e.exports=a},{"../const":15,"../helpers/renderUtil":33,"./barTypeSeriesBase":52,"./series":57}],52:[function(t,e,i){"use strict";var n=t("../const"),r=t("../helpers/renderUtil"),o=tui.util.defineClass({makeSeriesData:function(t){var e=this._makeBounds(t.dimension);return this.groupBounds=e,{groupBounds:e,groupValues:this.percentValues}},_makeBarGutter:function(t,e){var i,n=t/(e+1)/2;return i=2>=n?0:6>=n?2:4},_makeBarSize:function(t,e,i){return(t-e*(i-1))/(i+1)},_makeOptionSize:function(t,e){var i=0;return e&&(i=tui.util.min([t,e])),i},_makeAdditionPadding:function(t,e,i){var n=0;return e&&t>e&&(n=(t-e)*i/2),t/2+n},makeBaseInfoForNormalChartBounds:function(t,e,i){var n=this.percentValues,r=t[i]/n.length,o=n[0]&&n[0].length||0,s=this._makeBarGutter(r,o),a=this._makeBarSize(r,s,o),u=this._makeOptionSize(a,this.options.barWidth),l=this._makeAdditionPadding(a,u,o),h=this.getScaleDistanceFromZeroPoint(t[e],this.data.scale);return a=u||a,{dimension:t,groupValues:n,groupSize:r,barSize:a,additionPadding:l,step:a+s,distanceToMin:h.toMin,isMinus:this.data.scale.min<0&&this.data.scale.max<=0}},_renderNormalSeriesLabel:function(t,e){var i,n=t.groupBounds,o=t.formattedValues,s=r.getRenderedLabelHeight(o[0][0],this.theme.label);i=tui.util.map(t.values,function(t,e){return tui.util.map(t,function(t,i){var r,a,u;return r=n[e][i].end,a=o[e][i],u=this.makeSeriesRenderingPosition({value:t,bound:r,formattedValue:a,labelHeight:s}),this.makeSeriesLabelHtml(u,a,e,i)},this).join("")},this).join(""),e.innerHTML=i},makeSumValues:function(t,e){var i=tui.util.sum(tui.util.filter(t,function(t){return t>0})),n=[i].concat(e||[]);return tui.util.reduce(n,function(t,e){return e(t)})},_makeStackedLabelsHtml:function(t){var e,i,o=t.values;return i=tui.util.map(o,function(i,o){var s,a,u,l,h;return 0>i?"":(e=t.bounds[o].end,h=t.formattedValues[o],s=r.getRenderedLabelWidth(h,this.theme.label),a=e.left+(e.width-s+n.TEXT_PADDING)/2,u=e.top+(e.height-t.labelHeight+n.TEXT_PADDING)/2,l=this.makeSeriesLabelHtml({left:a,top:u},h,t.groupIndex,o))},this),"normal"===this.options.stacked&&e&&i.push(this.makeSumLabelHtml({values:o,formatFunctions:t.formatFunctions,bound:e,labelHeight:t.labelHeight})),i.join("")},_renderStackedSeriesLabel:function(t,e){var i,n=t.groupBounds,o=t.formattedValues,s=t.formatFunctions||[],a=r.getRenderedLabelHeight(o[0][0],this.theme.label);i=tui.util.map(t.values,function(t,e){var i=this._makeStackedLabelsHtml({groupIndex:e,values:t,formatFunctions:s,bounds:n[e],formattedValues:o[e],labelHeight:a});return i},this).join(""),e.innerHTML=i},_renderSeriesLabel:function(t,e){this.options.showLabel&&(this.options.stacked?this._renderStackedSeriesLabel(t,e):this._renderNormalSeriesLabel(t,e))},_getBound:function(t,e){return-1===t||-1===e?null:this.groupBounds[t][e].end}});o.mixin=function(t){tui.util.extend(t.prototype,o.prototype)},e.exports=o},{"../const":15,"../helpers/renderUtil":33}],53:[function(t,e,i){"use strict";var n=t("./series"),r=t("./barTypeSeriesBase"),o=t("../const"),s=t("../helpers/renderUtil"),a=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeStartEndTops:function(t,e,i){var n;return 0>i?n=t:(n=t,t-=e),{startTop:n,endTop:t}},_makeColumnChartBound:function(t){return{start:tui.util.extend({top:t.startTop,height:0},t.baseBound),end:tui.util.extend({top:t.endTop,height:t.endHeight},t.baseBound)}},_makeNormalColumnChartBound:function(t,e,i,n){var r,s,a,u;return r=Math.abs(e*t.dimension.height),s=t.isMinus?0:t.dimension.height-t.distanceToMin,a=this._makeStartEndTops(s,r,e),u=this._makeColumnChartBound(tui.util.extend({baseBound:{left:i+t.step*n+o.SERIES_EXPAND_SIZE,width:t.barSize},endHeight:r},a))},_makeNormalColumnChartBounds:function(t){var e,i=this.makeBaseInfoForNormalChartBounds(t,"height","width");return e=tui.util.map(i.groupValues,function(t,e){var n=i.groupSize*e+i.additionPadding;return tui.util.map(t,function(t,e){return this._makeNormalColumnChartBound(i,t,n,e)},this)},this)},_makeStackedColumnChartBounds:function(t){var e,i,n,r,s,a;return e=this.percentValues,i=t.width/e.length,n=i/2,r=this._makeOptionSize(n,this.options.barWidth),s=this._makeAdditionPadding(n,r,1),n=r||n,a=tui.util.map(e,function(e,r){var a=i*r+s+o.SERIES_EXPAND_SIZE,u=0;return tui.util.map(e,function(e){var i,r,o;return 0>e?null:(i=e*t.height,r={left:a,width:n},o=this._makeColumnChartBound({baseBound:r,startTop:t.height,endTop:t.height-i-u,endHeight:i}),u+=i,o)},this)},this)},_makeBounds:function(t){return this.options.stacked?this._makeStackedColumnChartBounds(t):this._makeNormalColumnChartBounds(t)},makeSeriesRenderingPosition:function(t){var e=s.getRenderedLabelWidth(t.formattedValue,this.theme.label),i=t.bound,n=i.top,r=i.left+(i.width-e)/2;return t.value>=0?n-=t.labelHeight+o.SERIES_LABEL_PADDING:n+=i.height+o.SERIES_LABEL_PADDING,{left:r,top:n}},makeSumLabelHtml:function(t){var e=this.makeSumValues(t.values,t.formatFunctions),i=t.bound,n=s.getRenderedLabelWidth(e,this.theme.label),r=i.left+(i.width-n+o.TEXT_PADDING)/2,a=i.top-t.labelHeight-o.SERIES_LABEL_PADDING;return this.makeSeriesLabelHtml({left:r,top:a},e,-1,-1)}});r.mixin(a),e.exports=a},{"../const":15,"../helpers/renderUtil":33,"./barTypeSeriesBase":52,"./series":57}],54:[function(t,e,i){"use strict";var n=t("./series"),r=t("./lineTypeSeriesBase"),o=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},makeSeriesData:function(t){return{groupPositions:this.makePositions(t.dimension)}}});r.mixin(o),e.exports=o},{"./lineTypeSeriesBase":55,"./series":57}],55:[function(t,e,i){"use strict";var n=t("../const"),r=t("../helpers/renderUtil"),o=tui.util.defineClass({makePositions:function(t){var e,i,r=this.percentValues,o=t.width,s=t.height,a=r[0].length,u=n.SERIES_EXPAND_SIZE;return this.data.aligned?e=o/(a-1):(e=o/a,u+=e/2),i=tui.util.map(r,function(t){return tui.util.map(t,function(t,i){return{left:u+e*i,top:s-t*s}})}),this.groupPositions=i,i},_renderSeriesLabel:function(t,e){var i,o,s;this.options.showLabel&&(i=t.groupPositions,o=r.getRenderedLabelHeight(t.formattedValues[0][0],this.theme.label),s=tui.util.map(t.formattedValues,function(t,e){return tui.util.map(t,function(t,s){var a=i[e][s],u=r.getRenderedLabelWidth(t,this.theme.label),l=this.makeSeriesLabelHtml({left:a.left-u/2,top:a.top-o-n.SERIES_LABEL_PADDING},t,s,e);return l},this).join("")},this).join(""),e.innerHTML=s)},_getBound:function(t,e){return this.groupPositions[e][t]},_findIndex:function(t,e){var i=-1,n=1e3;return this.tickItems||(this.tickItems=tui.util.pivot(this.groupPositions)),tui.util.forEach(this.tickItems[t],function(t,r){var o=Math.abs(e-t.top);n>o&&(n=o,i=r)}),i},_isChanged:function(t,e){var i=this.prevIndexes;return this.prevIndexes={groupIndex:t,index:e},!i||i.groupIndex!==t||i.index!==e},onShowGroupTooltipLine:function(t){this.graphRenderer.showGroupTooltipLine&&this.graphRenderer.showGroupTooltipLine(t)},onHideGroupTooltipLine:function(){this.graphRenderer.hideGroupTooltipLine&&this.graphRenderer.hideGroupTooltipLine()}});o.mixin=function(t){tui.util.extend(t.prototype,o.prototype)},e.exports=o},{"../const":15,"../helpers/renderUtil":33}],56:[function(t,e,i){"use strict";var n=t("./series"),r=t("../const"),o=t("../helpers/predicate"),s=t("../helpers/domHandler"),a=t("../helpers/renderUtil"),u=t("../helpers/eventListener"),l=tui.util.defineClass(n,{
init:function(){n.apply(this,arguments)},_makePercentValues:function(t){var e=tui.util.map(t.values,function(t){var e=tui.util.sum(t);return tui.util.map(t,function(t){return t/e})});return e},_makeSectorsInfo:function(t,e){var i,n=e.cx,o=e.cy,s=e.r,a=0,u=10;return i=tui.util.map(t,function(t){var e=r.ANGLE_360*t,i=a+e,l=a+e/2,h={start:{startAngle:a,endAngle:a},end:{startAngle:a,endAngle:i}},c={cx:n,cy:o,angle:l};return a=i,{percentValue:t,angles:h,centerPosition:this._getArcPosition(tui.util.extend({r:s/2+u},c)),outerPosition:{start:this._getArcPosition(tui.util.extend({r:s},c)),middle:this._getArcPosition(tui.util.extend({r:s+u},c))}}},this)},makeSeriesData:function(t){var e=this._makeCircleBound(t.dimension,{showLabel:this.options.showLabel,legendType:this.legendType}),i=this._makeSectorsInfo(this.percentValues[0],e);return{chartBackground:this.chartBackground,circleBound:e,sectorsInfo:i}},_makeCircleBound:function(t,e){var i=t.width,n=t.height,s=o.isOuterLegendType(e.legendType)&&e.showLabel,a=s?r.PIE_GRAPH_SMALL_RATE:r.PIE_GRAPH_DEFAULT_RATE,u=tui.util.multiplication(tui.util.min([i,n]),a);return{cx:tui.util.division(i,2),cy:tui.util.division(n,2),r:tui.util.division(u,2)}},_getArcPosition:function(t){return{left:t.cx+t.r*Math.sin(t.angle*r.RAD),top:t.cy-t.r*Math.cos(t.angle*r.RAD)}},_makeSeriesDataForSeriesLabel:function(t){return tui.util.extend({legendLabels:this.data.legendLabels,options:{legendType:this.legendType,showLabel:this.options.showLabel},chartWidth:this.data.chartWidth,formattedValues:this.data.formattedValues[0]},t)},_renderGraph:function(t,e){var i=tui.util.bind(this.showTooltip,this,{allowNegativeTooltip:!!this.allowNegativeTooltip,chartType:this.chartType}),n={funcShowTooltip:i,funcHideTooltip:tui.util.bind(this.hideTooltip,this),funcSelectSeries:tui.util.bind(this.selectSeries,this)},r=this._makeParamsForGraphRendering(t,e);this.graphRenderer.render(this.elSeriesArea,r,n),this.showTooltip=i},render:function(){var t=n.prototype.render.apply(this,arguments);return this.attachEvent(t),t},showTooltip:function(t,e,i,n,r){this.fire("showTooltip",tui.util.extend({indexes:{groupIndex:i,index:n},bound:e,eventPosition:r},t))},hideTooltip:function(){this.fire("hideTooltip")},_makeSeriesDataBySelection:function(t){return{indexes:{index:t,groupIndex:t}}},selectSeries:function(t){var e=this._makeSeriesDataBySelection(t);this.selectedIndex===t?(this.onUnselectSeries(e),delete this.selectedIndex):(tui.util.isUndefined(this.selectedIndex)||this.onUnselectSeries(this._makeSeriesDataBySelection(this.selectedIndex)),this.onSelectSeries(e),this.selectedIndex=t)},_getSeriesLabel:function(t){var e="";return t.options.legendType&&(e='<span class="tui-chart-series-legend">'+t.legend+"</span>"),t.options.showLabel&&(e+=(e?t.separator:"")+t.label),e},_renderLegendLabel:function(t,e){var i,n=t.positions,r=t.formattedValues;i=tui.util.map(t.legendLabels,function(e,i){var o=this._getSeriesLabel({legend:e,label:r[i],separator:t.separator,options:t.options}),s=t.funcMoveToPosition(n[i],o);return this.makeSeriesLabelHtml(s,o,0,i)},this).join(""),e.innerHTML=i},_moveToCenterPosition:function(t,e){var i=t.left-a.getRenderedLabelWidth(e,this.theme.label)/2,n=t.top-a.getRenderedLabelHeight(e,this.theme.label)/2;return{left:i,top:n}},_renderCenterLegend:function(t,e){this._renderLegendLabel(tui.util.extend({positions:tui.util.pluck(t.sectorsInfo,"centerPosition"),funcMoveToPosition:tui.util.bind(this._moveToCenterPosition,this),separator:"<br>"},t),e)},_addEndPosition:function(t,e){tui.util.forEach(e,function(e){var i=tui.util.extend({},e.middle);i.left<t?i.left-=r.SERIES_OUTER_LABEL_PADDING:i.left+=r.SERIES_OUTER_LABEL_PADDING,e.end=i})},_moveToOuterPosition:function(t,e,i){var n=e.end,o=n.left,s=n.top-a.getRenderedLabelHeight(i,this.theme.label)/2;return t>o?o-=a.getRenderedLabelWidth(i,this.theme.label)+r.SERIES_LABEL_PADDING:o+=r.SERIES_LABEL_PADDING,{left:o,top:s}},_renderOuterLegend:function(t,e){var i=tui.util.pluck(t.sectorsInfo,"outerPosition"),n=t.chartWidth/2;this._addEndPosition(n,i),this._renderLegendLabel(tui.util.extend({positions:i,funcMoveToPosition:tui.util.bind(this._moveToOuterPosition,this,n),separator:":&nbsp;"},t),e),this.graphRenderer.renderLegendLines(i)},_renderSeriesLabel:function(t,e){var i=t.options.legendType;o.isOuterLegendType(i)?this._renderOuterLegend(t,e):o.isCenterLegendType(i)&&this._renderCenterLegend(t,e)},_getBound:function(){return null},animateShowingAboutSeriesLabelArea:function(){this.graphRenderer.animateLegendLines(),n.prototype.animateShowingAboutSeriesLabelArea.call(this)},showSeriesLabelArea:function(t){var e=tui.util.pluck(t.sectorsInfo,"outerPosition"),i=this.data.chartWidth/2;this._addEndPosition(i,e),this.graphRenderer.moveLegendLines(e),n.prototype.showSeriesLabelArea.call(this)},_handleMouseEvent:function(t,e){var i,n,r=t.target||t.srcElement,o=this._findLabelElement(r);o&&(i=parseInt(o.getAttribute("data-group-index"),10),n=parseInt(o.getAttribute("data-index"),10),-1!==i&&-1!==n&&e(i,n,r))},_findLegendElement:function(t){var e;return s.hasClass(t,r.CLASS_NAME_SERIES_LEGEND)&&(e=t),e},onClick:function(t){var e=this;this._handleMouseEvent(t,function(t,i,n){var r,o=e._findLegendElement(n);o?(r=e.data.joinLegendLabels[i],e.userEvent.fire("selectLegend",{legend:r.label,chartType:r.chartType,legendIndex:i,index:i})):e.selectSeries(i)})},onMouseover:function(t){var e=this;this._handleMouseEvent(t,function(i,n){var r=e._getBound(i,n)||e._makeLabelBound(t.clientX,t.clientY-10);e.showTooltip(r,i,n)})},onMouseout:function(t){var e=this;this._handleMouseEvent(t,function(t,i){e.hideTooltip(t,i)})},attachEvent:function(t){u.bindEvent("click",t,tui.util.bind(this.onClick,this)),u.bindEvent("mouseover",t,tui.util.bind(this.onMouseover,this)),u.bindEvent("mouseout",t,tui.util.bind(this.onMouseout,this))}});tui.util.CustomEvents.mixin(l),e.exports=l},{"../const":15,"../helpers/domHandler":30,"../helpers/eventListener":31,"../helpers/predicate":32,"../helpers/renderUtil":33,"./series":57}],57:[function(t,e,i){"use strict";var n=t("./seriesTemplate"),r=t("../const"),o=t("../helpers/predicate"),s=t("../helpers/domHandler"),a=t("../helpers/renderUtil"),u=t("../factories/pluginFactory"),l=tui.util.defineClass({init:function(t){var e;tui.util.extend(this,t),e=t.libType||r.DEFAULT_PLUGIN,this.graphRenderer=u.get(e,t.chartType),this.className="tui-chart-series-area"},makeSeriesData:function(){return{}},getSeriesData:function(){return this.seriesData},_renderSeriesLabel:function(){},_setBaseData:function(t,e){this.data=tui.util.extend(this.data,e),this.bound=t,this.percentValues=this._makePercentValues(this.data,this.options.stacked)},_renderSeriesLabelArea:function(t,e,i){var n=this._makeSeriesDataForSeriesLabel(e,t);return i||(i=s.create("div","tui-chart-series-label-area")),this._renderSeriesLabel(n,i),i},_renderSeriesArea:function(t,e,i,n){var r,o,u;this._setBaseData(e,i),r=a.expandBound(e),this.seriesData=o=this.makeSeriesData(e),a.renderDimension(t,r.dimension),this._renderPosition(t,r.position,this.chartType),n(r.dimension,o),u=this._renderSeriesLabelArea(r.dimension,o,this.elSeriesLabelArea),this.elSeriesLabelArea||(this.elSeriesLabelArea=u,s.append(t,u))},_makeParamsForGraphRendering:function(t,e){return tui.util.extend({dimension:t,chartType:this.chartType,theme:this.theme,options:this.options},e)},_renderGraph:function(t,e){var i=this._makeParamsForGraphRendering(t,e);this.graphRenderer.render(this.elSeriesArea,i)},render:function(t,e){var i=s.create("DIV",this.className);return this.elSeriesArea=i,this._renderSeriesArea(i,t,e,tui.util.bind(this._renderGraph,this)),i},_resizeGraph:function(t,e){this.graphRenderer.resize(tui.util.extend({dimension:t},e)),this.showSeriesLabelArea(e)},resize:function(t,e){var i=this.elSeriesArea;this._renderSeriesArea(i,t,e,tui.util.bind(this._resizeGraph,this))},_makeSeriesDataForSeriesLabel:function(t,e){return tui.util.extend({values:this.data.values,formattedValues:this.data.formattedValues,formatFunctions:this.data.formatFunctions,dimension:e},t)},_renderPosition:function(t,e){var i=a.isOldBrowser()?r.HIDDEN_WIDTH:0;a.renderPosition(t,{top:e.top-2*i,left:e.left-i})},_makePercentValues:function(t,e){var i;return i=e===r.STACKED_NORMAL_TYPE?this._makeNormalStackedPercentValues(t):e===r.STACKED_PERCENT_TYPE?this._makePercentStackedPercentValues(t):this._makeNormalPercentValues(t)},_makeNormalStackedPercentValues:function(t){var e=t.scale.min,i=t.scale.max,n=i-e,r=tui.util.map(t.values,function(t){var i=tui.util.filter(t,function(t){return t>0}),r=tui.util.sum(i),o=(r-e)/n;return tui.util.map(t,function(t){return 0===t?0:o*(t/r)})});return r},_makePercentStackedPercentValues:function(t){var e=tui.util.map(t.values,function(t){var e=tui.util.filter(t,function(t){return t>0}),i=tui.util.sum(e);return tui.util.map(t,function(t){return 0===t?0:t/i})});return e},_makeNormalPercentValues:function(t){var e,i=t.scale.min,n=t.scale.max,r=n-i,s=o.isLineTypeChart(this.chartType),a=1,u=0;return!s&&0>i&&0>=n?(a=-1,u=n,r=i-n):(s||i>=0)&&(u=i),e=tui.util.map(t.values,function(t){return tui.util.map(t,function(t){return(t-u)*a/r})})},getScaleDistanceFromZeroPoint:function(t,e){var i=e.min,n=e.max,r=n-i,o=0,s=0;return 0>i&&n>0&&(o=(r+i)/r*t,s=(r-n)/r*t),{toMax:o,toMin:s}},_makeLabelBound:function(t,e){return{left:t-this.bound.position.left,top:e-this.bound.position.top}},_findLabelElement:function(t){var e=null;return e=s.hasClass(t,r.CLASS_NAME_SERIES_LABEL)?t:s.findParentByClass(t,r.CLASS_NAME_SERIES_LABEL)},onShowAnimation:function(t){this.graphRenderer.showAnimation&&this.graphRenderer.showAnimation(t)},onHideAnimation:function(t){this.graphRenderer.hideAnimation&&this.graphRenderer.hideAnimation(t)},onShowGroupAnimation:function(t){this.graphRenderer.showGroupAnimation&&this.graphRenderer.showGroupAnimation(t)},onHideGroupAnimation:function(t){this.graphRenderer.hideGroupAnimation&&this.graphRenderer.hideGroupAnimation(t)},animateComponent:function(){this.graphRenderer.animate&&this.graphRenderer.animate(tui.util.bind(this.animateShowingAboutSeriesLabelArea,this))},makeSeriesLabelHtml:function(t,e,i,r){var o=tui.util.extend(t,this.theme.label);return n.tplSeriesLabel({cssText:n.tplCssText(o),value:e,groupIndex:i,index:r})},showSeriesLabelArea:function(){a.isOldBrowser()?this.elSeriesLabelArea.style.filter="alpha(opacity=100)":this.elSeriesLabelArea.style.opacity=1,s.addClass(this.elSeriesLabelArea,"show")},animateShowingAboutSeriesLabelArea:function(){(this.options.showLabel||this.legendType)&&this.elSeriesLabelArea&&(s.addClass(this.elSeriesLabelArea,"show"),new tui.component.Effects.Fade({element:this.elSeriesLabelArea,duration:300}).action({start:0,end:1,complete:function(){}}))},_makeExportationSeriesData:function(t){var e=t.indexes.index,i=this.data.joinLegendLabels[e];return{chartType:i.chartType,legend:i.label,legendIndex:e,index:t.indexes.groupIndex}},onSelectSeries:function(t){this.userEvent.fire("selectSeries",this._makeExportationSeriesData(t)),this.options.hasSelection&&this.graphRenderer.selectSeries(t.indexes)},onUnselectSeries:function(t){this.userEvent.fire("unselectSeries",t.indexes),this.options.hasSelection&&this.graphRenderer.unselectSeries(t.indexes)}});e.exports=l},{"../const":15,"../factories/pluginFactory":24,"../helpers/domHandler":30,"../helpers/predicate":32,"../helpers/renderUtil":33,"./seriesTemplate":58}],58:[function(t,e,i){var n=t("../helpers/templateMaker"),r={HTML_SERIES_LABEL:'<div class="tui-chart-series-label" style="{{ cssText }}" data-group-index="{{ groupIndex }}" data-index="{{ index }}">{{ value }}</div>',TEXT_CSS_TEXT:"left:{{ left }}px;top:{{ top }}px;font-family:{{ fontFamily }};font-size:{{ fontSize }}px"};e.exports={tplSeriesLabel:n.template(r.HTML_SERIES_LABEL),tplCssText:n.template(r.TEXT_CSS_TEXT)}},{"../helpers/templateMaker":34}],59:[function(t,e,i){var n="#000000",r="#ffffff",o="",s={tickColor:n,title:{fontSize:12,fontFamily:o,color:n},label:{fontSize:12,fontFamily:o,color:n}},a={chart:{background:r,fontFamily:"Verdana"},title:{fontSize:18,fontFamily:o,color:n},yAxis:s,xAxis:s,plot:{lineColor:"#dddddd",background:"#ffffff"},series:{label:{fontSize:11,fontFamily:o,color:n},colors:["#ac4142","#d28445","#f4bf75","#90a959","#75b5aa","#6a9fb5","#aa759f","#8f5536"],borderColor:o,selectionColor:o},legend:{label:{fontSize:12,fontFamily:o,color:n}},tooltip:{}};e.exports=a},{}],60:[function(t,e,i){"use strict";var n=t("./tooltipBase"),r=t("./groupTooltipPositionModel"),o=t("../const"),s=t("../helpers/domHandler"),a=t("../helpers/renderUtil"),u=t("../themes/defaultTheme"),l=t("./tooltipTemplate"),h=tui.util.defineClass(n,{init:function(t){n.call(this,t)},_setDefaultTooltipPositionOption:function(){this.options.align||(this.isVertical?this.options.align=o.TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION:this.options.align=o.TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION)},render:function(t,e){var i=n.prototype.render.call(this,t,e);return this.positionModel=new r(this.chartDimension,t,this.isVertical,this.options),i},makeTooltipData:function(){return tui.util.map(this.joinFormattedValues,function(t,e){return{category:this.labels[e],values:t}},this)},_makeColors:function(t,e){var i,n,r,o=0;return e.colors?e.colors:(i=u.series.colors.slice(0,t.length),tui.util.map(tui.util.pluck(t,"chartType"),function(t){var s;return r!==t&&(n=e[t]?e[t].colors:i,o=0),r=t,s=n[o],o+=1,s}))},_makeTooltipHtml:function(t){var e,i=this.data[t],n=l.tplGroupItem,r=l.tplGroupCssText,o=this._makeColors(this.joinLegendLabels,this.theme);return e=tui.util.map(i.values,function(t,e){var i=this.joinLegendLabels[e];return n({value:t,legend:i.label,chartType:i.chartType,cssText:r({color:o[e]}),suffix:this.suffix})},this).join(""),l.tplGroup({category:i.category,items:e})},_getTooltipSectorElement:function(){var t;return this.elTooltipSector||(this.elTooltipSector=t=s.create("DIV","tui-chart-group-tooltip-sector"),s.append(this.elTooltipArea,t)),this.elTooltipSector},_makeVerticalTooltipSectorBound:function(t,e,i){var n;return i?(n=1,t+=6):n=e.end-e.start,{dimension:{width:n,height:t},position:{left:e.start+o.SERIES_EXPAND_SIZE,top:0}}},_makeHorizontalTooltipSectorBound:function(t,e){return{dimension:{width:t,height:e.end-e.start+o.HIDDEN_WIDTH},position:{left:o.SERIES_EXPAND_SIZE-o.HIDDEN_WIDTH,top:e.start}}},_makeTooltipSectorBound:function(t,e,i,n){var r;return r=i?this._makeVerticalTooltipSectorBound(t,e,n):this._makeHorizontalTooltipSectorBound(t,e)},_showTooltipSector:function(t,e,i,n){var r=this._getTooltipSectorElement(),o=e.start===e.end,u=this._makeTooltipSectorBound(t,e,i,o);o?this.fire("showGroupTooltipLine",u):(a.renderDimension(r,u.dimension),a.renderPosition(r,u.position),s.addClass(r,"show")),this.fire("showGroupAnimation",n)},_hideTooltipSector:function(t){var e=this._getTooltipSectorElement();s.removeClass(e,"show"),this.fire("hideGroupAnimation",t),this.fire("hideGroupTooltipLine")},showTooltip:function(t,e,i){var n,r;tui.util.isUndefined(this.prevIndex)||this.fire("hideGroupAnimation",this.prevIndex),t.innerHTML=this._makeTooltipHtml(e.index),this._fireBeforeShowTooltip(e.index,e.range),s.addClass(t,"show"),this._showTooltipSector(e.size,e.range,e.isVertical,e.index),n=this.getTooltipDimension(t),r=this.positionModel.calculatePosition(n,e.range),this.moveToPosition(t,r,i),this._fireAfterShowTooltip(e.index,e.range,{element:t,position:r}),this.prevIndex=e.index},_fireBeforeShowTooltip:function(t,e){this.userEvent.fire("beforeShowTooltip",{index:t,range:e})},_fireAfterShowTooltip:function(t,e,i){this.userEvent.fire("afterShowTooltip",tui.util.extend({index:t,range:e},i))},hideTooltip:function(t,e){delete this.prevIndex,this._hideTooltipSector(e),this.hideAnimation(t)}});tui.util.CustomEvents.mixin(h),e.exports=h},{"../const":15,"../helpers/domHandler":30,"../helpers/renderUtil":33,"../themes/defaultTheme":59,"./groupTooltipPositionModel":61,"./tooltipBase":63,"./tooltipTemplate":64}],61:[function(t,e,i){"use strict";var n=t("../const"),r=tui.util.defineClass({init:function(t,e,i,n){this.chartDimension=t,this.areaBound=e,this.isVertical=i,this.options=n,this.positions,this._setData(t,e,i,n)},_getHorizontalDirection:function(t){var e;return t=t||"",e=t.indexOf("left")>-1?n.TOOLTIP_DIRECTION_BACKWARD:t.indexOf("center")>-1?n.TOOLTIP_DIRECTION_CENTER:n.TOOLTIP_DIRECTION_FORWARD},_makeVerticalData:function(t,e,i){var r=this._getHorizontalDirection(i);return{positionType:"left",sizeType:"width",direction:r,areaPosition:e.position.left,areaSize:e.dimension.width,chartSize:t.width,basePosition:n.SERIES_EXPAND_SIZE}},_getVerticalDirection:function(t){var e;return t=t||"",e=t.indexOf("top")>-1?n.TOOLTIP_DIRECTION_BACKWARD:t.indexOf("bottom")>-1?n.TOOLTIP_DIRECTION_FORWARD:n.TOOLTIP_DIRECTION_CENTER},_makeHorizontalData:function(t,e,i){var n=this._getVerticalDirection(i);return{positionType:"top",sizeType:"height",direction:n,areaPosition:e.position.top,areaSize:e.dimension.height,chartSize:t.height,basePosition:0}},_setData:function(t,e,i,n){var r=this._makeVerticalData(t,e,n.align),o=this._makeHorizontalData(t,e,n.align);i?(this.mainData=r,this.subData=o):(this.mainData=o,this.subData=r),this.positionOption=tui.util.extend({left:0,top:0},n.position),this.positions={}},_calculateMainPositionValue:function(t,e,i){var r=e.start===e.end,o=r?9:5,s=i.basePosition;return s+=i.direction===n.TOOLTIP_DIRECTION_FORWARD?e.end+o:i.direction===n.TOOLTIP_DIRECTION_BACKWARD?e.start-t-o:r?e.start-t/2:e.start+(e.end-e.start-t)/2},_calculateSubPositionValue:function(t,e){var i,r=e.areaSize/2;return i=e.direction===n.TOOLTIP_DIRECTION_FORWARD?r+e.basePosition:e.direction===n.TOOLTIP_DIRECTION_BACKWARD?r-t+e.basePosition:r-t/2+e.basePosition},_makePositionValueDiff:function(t,e,i){return t+i.areaPosition+e-i.chartSize},_adjustBackwardPositionValue:function(t,e,i,r){var o;return t<-r.areaPosition&&(o=this._calculateMainPositionValue(i,e,{direction:n.TOOLTIP_DIRECTION_FORWARD,basePosition:r.basePosition}),t=this._makePositionValueDiff(o,i,r)>0?-r.areaPosition:o),t},_adjustForwardPositionValue:function(t,e,i,r){var o,s=this._makePositionValueDiff(t,i,r);return s>0&&(o=this._calculateMainPositionValue(i,e,{direction:n.TOOLTIP_DIRECTION_BACKWARD,basePosition:r.basePosition}),o<-r.areaPosition?t-=s:t=o),t},_adjustMainPositionValue:function(t,e,i,r){return r.direction===n.TOOLTIP_DIRECTION_BACKWARD?t=this._adjustBackwardPositionValue(t,e,i,r):r.direction===n.TOOLTIP_DIRECTION_FORWARD?t=this._adjustForwardPositionValue(t,e,i,r):(t=tui.util.max([t,-r.areaPosition]),t=tui.util.min([t,r.chartSize-r.areaPosition-i])),t},_adjustSubPositionValue:function(t,e,i){return t=i.direction===n.TOOLTIP_DIRECTION_FORWARD?tui.util.min([t,i.chartSize-i.areaPosition-e]):tui.util.max([t,-i.areaPosition])},_makeCachingKey:function(t){return t.start+"-"+t.end},_addPositionOptionValue:function(t,e){return t+this.positionOption[e]},calculatePosition:function(t,e){var i,n,r=this._makeCachingKey(e),o=this.mainData,s=this.subData,a=this.positions[r];return a||(a={},i=this._calculateMainPositionValue(t[o.sizeType],e,o),n=this._calculateSubPositionValue(t[s.sizeType],s),i=this._addPositionOptionValue(i,o.positionType),n=this._addPositionOptionValue(n,s.positionType),a[o.positionType]=this._adjustMainPositionValue(i,e,t[o.sizeType],o),a[s.positionType]=this._adjustSubPositionValue(n,t[s.sizeType],s),this.positions[r]=a),a},updateOptions:function(t){this.options=t,this._setData(this.chartDimension,this.areaBound,this.isVertical,t)},updateBound:function(t){this.areaBound=t,this._setData(this.chartDimension,t,this.isVertical,this.options)}});e.exports=r},{"../const":15}],62:[function(t,e,i){"use strict";var n=t("./tooltipBase"),r=t("../const"),o=t("../helpers/predicate"),s=t("../helpers/domHandler"),a=t("../helpers/eventListener"),u=t("../helpers/renderUtil"),l=t("../helpers/templateMaker"),h=t("./tooltipTemplate"),c=tui.util.defineClass(n,{init:function(t){var e;n.call(this,t),this.tplTooltip=this._getTooltipTemplate(this.options.template),tui.util.isArray(this.values)&&(e=this.values,this.values={},this.values[this.chartType]=e)},_getTooltipTemplate:function(t){return t?l.template(t):h.tplDefault},_setDefaultTooltipPositionOption:function(){this.options.align||(this.isVertical?this.options.align=r.TOOLTIP_DEFAULT_ALIGN_OPTION:this.options.align=r.TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION)},render:function(t,e){var i=n.prototype.render.call(this,t,e);return e&&(this.seriesPosition=e.seriesPosition),this.attachEvent(i),i},resize:function(t,e){e&&(this.seriesPosition=e.seriesPosition),n.prototype.resize.call(this,t)},makeTooltipData:function(){var t=this.labels,e={},i={};return tui.util.isArray(this.formattedValues)?(e[this.chartType]=this.formattedValues,i[this.chartType]=this.legendLabels):(e=this.formattedValues,i=this.legendLabels),tui.util.forEach(e,function(n,r){e[r]=tui.util.map(n,function(e,n){return tui.util.map(e,function(e,o){return{category:t?t[n]:"",legend:i[r][o],value:e}})})}),e},_fireShowAnimation:function(t,e){var i=u.makeCustomEventName("show",e,"animation");this.fire(i,t)},_fireHideAnimation:function(t,e){var i=u.makeCustomEventName("hide",e,"animation");this.fire(i,t)},_setIndexesCustomAttribute:function(t,e){t.setAttribute("data-groupIndex",e.groupIndex),t.setAttribute("data-index",e.index)},_getIndexesCustomAttribute:function(t){var e=t.getAttribute("data-groupIndex"),i=t.getAttribute("data-index"),n=null;return tui.util.isNull(e)||tui.util.isNull(i)||(n={groupIndex:parseInt(e,10),index:parseInt(i,10)}),n},_setShowedCustomAttribute:function(t,e){t.setAttribute("data-showed",e)},_isShowedTooltip:function(t){var e=t.getAttribute("data-showed");return"true"===e||e===!0},onMouseover:function(t){var e,i,n=t.target||t.srcElement;s.hasClass(n,r.TOOLTIP_PREFIX)||(n=s.findParentByClass(n,r.TOOLTIP_PREFIX)),e=this._getIndexesCustomAttribute(n),i=n.getAttribute("data-chart-type"),this._setShowedCustomAttribute(n,!0),this._fireShowAnimation(e,i)},onMouseout:function(t){var e=t.target||t.srcElement;s.hasClass(e,r.TOOLTIP_PREFIX)||(e=s.findParentByClass(e,r.TOOLTIP_PREFIX)),this.hideTooltip(e)},_calculateTooltipPositionAboutPieChart:function(t){return t.bound.left=t.eventPosition.clientX-this.seriesPosition.left,t.bound.top=t.eventPosition.clientY-this.seriesPosition.top,this._calculateTooltipPositionAboutNotBarChart(t)},_calculateTooltipPositionAboutNotBarChart:function(t){var e=t.bound,i=t.positionOption,n=t.dimension.width-(e.width||0),o=e.width?0:r.TOOLTIP_GAP,s=t.alignOption||"",a=t.dimension.height,u={};return u.left=e.left+i.left,u.top=e.top-a+i.top,s.indexOf("left")>-1?u.left-=n+o:s.indexOf("center")>-1?u.left-=n/2:u.left+=o,s.indexOf("bottom")>-1?u.top+=a+o:s.indexOf("middle")>-1?u.top+=a/2:u.top-=r.TOOLTIP_GAP,u},_calculateTooltipPositionAboutBarChart:function(t){var e=t.bound,i=t.positionOption,n=t.dimension.height-(e.height||0),o=t.alignOption||"",s=t.dimension.width,a={};return a.left=e.left+e.width+i.left,a.top=e.top+i.top,o.indexOf("left")>-1?a.left-=s:o.indexOf("center")>-1?a.left-=s/2:a.left+=r.TOOLTIP_GAP,o.indexOf("top")>-1?a.top-=n:o.indexOf("middle")>-1&&(a.top-=n/2),a},_adjustPosition:function(t,e,i,n){return n.left=tui.util.max([n.left,-e.left]),n.left=tui.util.min([n.left,t.width-e.left-i.width]),n.top=tui.util.max([n.top,-e.top]),n.top=tui.util.min([n.top,t.height-e.top-i.height]),n},_calculateTooltipPosition:function(t){var e,i,n,r={};return t.eventPosition?this._calculateTooltipPositionAboutPieChart(t):(o.isBarChart(t.chartType)?(r=this._calculateTooltipPositionAboutBarChart(t),e="width",i="left",n=1):(r=this._calculateTooltipPositionAboutNotBarChart(t),e="height",i="top",n=-1),t.allowNegativeTooltip&&(r=this._moveToSymmetry(r,{bound:t.bound,indexes:t.indexes,dimension:t.dimension,chartType:t.chartType,sizeType:e,positionType:i,addPadding:n})),r=this._adjustPosition(this.chartDimension,this.bound.position,t.dimension,r))},_getValueByIndexes:function(t,e){return this.values[e][t.groupIndex][t.index]},_moveToSymmetry:function(t,e){var i,n=e.bound,r=e.sizeType,o=e.positionType,s=this._getValueByIndexes(e.indexes,e.chartType);return 0>s&&(i=n[o]+n[r]/2+(e.addPadding||0),t[o]=t[o]-2*(t[o]-i)-e.dimension[r]),t},_makeTooltipHtml:function(t,e){var i=this.data[t][e.groupIndex][e.index];return i.suffix=this.suffix,this.tplTooltip(i)},_isChangedIndexes:function(t,e){return!!t&&(t.groupIndex!==e.groupIndex||t.index!==e.index)},showTooltip:function(t,e,i){var n,r,o=e.indexes,a=this._getIndexesCustomAttribute(t);this._isChangedIndexes(a,o)&&(n=t.getAttribute("data-chart-type"),this._fireHideAnimation(a,n)),t.innerHTML=this._makeTooltipHtml(e.chartType,o),t.setAttribute("data-chart-type",e.chartType),this._setIndexesCustomAttribute(t,o),this._setShowedCustomAttribute(t,!0),this._fireBeforeShowTooltip(o),s.addClass(t,"show"),r=this._calculateTooltipPosition(tui.util.extend({dimension:this.getTooltipDimension(t),positionOption:tui.util.extend({left:0,top:0},this.options.position),alignOption:this.options.align||""},e)),this.moveToPosition(t,r,i),this._fireShowAnimation(o,e.chartType),this._fireAfterShowTooltip(o,{element:t,position:r})},_makeShowTooltipParams:function(t,e){var i,n=t.index,r=this.joinLegendLabels[n];return i=tui.util.extend({chartType:r.chartType,legend:r.label,legendIndex:n,index:t.groupIndex},e)},_fireBeforeShowTooltip:function(t){var e=this._makeShowTooltipParams(t);this.userEvent.fire("beforeShowTooltip",e)},_fireAfterShowTooltip:function(t,e){var i=this._makeShowTooltipParams(t,e);this.userEvent.fire("afterShowTooltip",i)},hideTooltip:function(t){var e=this,i=this._getIndexesCustomAttribute(t),n=t.getAttribute("data-chart-type");this._setShowedCustomAttribute(t,!1),this._fireHideAnimation(i,n),this._isChangedIndexes(this.prevIndexes,i)&&delete this.prevIndexes,setTimeout(function(){e._isShowedTooltip(t)||(e.hideAnimation(t),e=null,i=null)},r.HIDE_DELAY)},attachEvent:function(t){a.bindEvent("mouseover",t,tui.util.bind(this.onMouseover,this)),a.bindEvent("mouseout",t,tui.util.bind(this.onMouseout,this))}});tui.util.CustomEvents.mixin(c),e.exports=c},{"../const":15,"../helpers/domHandler":30,"../helpers/eventListener":31,"../helpers/predicate":32,"../helpers/renderUtil":33,"../helpers/templateMaker":34,"./tooltipBase":63,"./tooltipTemplate":64}],63:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),r=t("../helpers/renderUtil"),o=tui.util.defineClass({init:function(t){tui.util.extend(this,t),this.className="tui-chart-tooltip-area",this.elLayout=null,this.data=this.makeTooltipData(),this.suffix=this.options.suffix?"&nbsp;"+this.options.suffix:"",this._setDefaultTooltipPositionOption(),this._saveOriginalPositionOptions()},_setDefaultTooltipPositionOption:function(){},_saveOriginalPositionOptions:function(){this.orgPositionOptions={align:this.options.align,position:this.options.position}},makeTooltipData:function(){},render:function(t,e){var i=n.create("DIV",this.className);return r.renderPosition(i,t.position),this.bound=t,this.chartDimension=e.chartDimension,this.elTooltipArea=i,i},resize:function(t){this.bound=t,r.renderPosition(this.elTooltipArea,t.position),this.positionModel&&this.positionModel.updateBound(t)},_getTooltipElement:function(){var t;return this.elTooltip||(this.elTooltip=t=n.create("DIV","tui-chart-tooltip"),n.append(this.elTooltipArea,t)),this.elTooltip},onShow:function(t){var e,i=this._getTooltipElement();i.offsetWidth&&(e={left:i.offsetLeft,top:i.offsetTop}),this.showTooltip(i,t,e)},getTooltipDimension:function(t){return{width:t.offsetWidth,height:t.offsetHeight}},_cancelHide:function(){this.activeHider&&(clearInterval(this.activeHider.timerId),this.activeHider.setOpacity(1))},_cancelSlide:function(){this.activeSliders&&(tui.util.forEach(this.activeSliders,function(t){clearInterval(t.timerId)}),this._completeSlide())},moveToPosition:function(t,e,i){i?(this._cancelHide(),this._cancelSlide(),this._slideTooltip(t,i,e)):r.renderPosition(t,e)},_getSlider:function(t,e){return this.slider||(this.slider={}),this.slider[e]||(this.slider[e]=new tui.component.Effects.Slide({flow:e,element:t,duration:100})),this.slider[e]},_completeSlide:function(){delete this.activeSliders},_slideTooltip:function(t,e,i){var n=this._getSlider(t,"vertical"),r=this._getSlider(t,"horizontal"),o=e.top-i.top,s=e.left-i.left,a=o>0?"forword":"backword",u=o>0?"forword":"backword",l=[],h=tui.util.bind(this._completeSlide,this);o&&(n.setDistance(o),n.action({direction:a,start:e.top,complete:h}),l.push(n)),s&&(r.setDistance(s),r.action({direction:u,start:e.left,complete:h}),l.push(n)),l.length&&(this.activeSliders=l)},onHide:function(t){var e=this._getTooltipElement();this.hideTooltip(e,t)},_getHider:function(t){return this.hider||(this.hider=new tui.component.Effects.Fade({element:t,duration:100})),this.hider},hideAnimation:function(t){this.activeHider=this._getHider(t),this.activeHider.action({start:1,end:0,complete:function(){n.removeClass(t,"show"),t.style.cssText=""}})},setAlign:function(t){this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},setPosition:function(t){this.options.position=tui.util.extend({},this.options.position,t),this.positionModel&&this.positionModel.updateOptions(this.options)},resetAlign:function(){var t=this.orgPositionOptions.align;this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},resetPosition:function(){var t=this.orgPositionOptions.position;this.options.position=t,this.positionModel&&this.positionModel.updateOptions(this.options)}});tui.util.CustomEvents.mixin(o),e.exports=o},{"../helpers/domHandler":30,"../helpers/renderUtil":33}],64:[function(t,e,i){var n=t("../helpers/templateMaker"),r={HTML_DEFAULT_TEMPLATE:'<div class="tui-chart-default-tooltip"><div>{{ category }}</div><div><span>{{ legend }}</span>:&nbsp;<span>{{ value }}</span><span>{{ suffix }}</span></div></div>',HTML_GROUP:'<div class="tui-chart-default-tooltip tui-chart-group-tooltip"><div>{{ category }}</div>{{ items }}</div>',HTML_GROUP_ITEM:'<div><div class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></div>&nbsp;<span>{{ legend }}</span>:&nbsp;<span>{{ value }}</span><span>{{ suffix }}</span></div>',GROUP_CSS_TEXT:"background-color:{{ color }}"};e.exports={tplDefault:n.template(r.HTML_DEFAULT_TEMPLATE),tplGroup:n.template(r.HTML_GROUP),tplGroupItem:n.template(r.HTML_GROUP_ITEM),tplGroupCssText:n.template(r.GROUP_CSS_TEXT)}},{"../helpers/templateMaker":34}]},{},[3,40]);