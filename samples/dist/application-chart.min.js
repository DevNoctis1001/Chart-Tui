!function t(e,i,n){function s(o,a){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return s(i?i:t)},c,c.exports,t,e,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(t,e,i){"use strict";var n,s,r=t("./const.js"),o=t("./factories/chartFactory.js"),a=t("./factories/pluginFactory.js"),l=t("./factories/themeFactory.js"),h="default";t("./util.js"),t("./registerCharts.js"),t("./registerThemes.js"),n=ne.util.defineNamespace("ne.application.chart"),s=function(t,e,i){var n,s;return i=i||{},n=i.theme||h,i.theme=l.get(n),s=o.get(i.chartType,e,i),t.appendChild(s.render()),s},n.barChart=function(t,e,i){return i=i||{},i.chartType=r.CHART_TYPE_BAR,i.barType=r.BAR_TYPE_BAR,s(t,e,i)},n.columnChart=function(t,e,i){return i=i||{},i.chartType=r.CHART_TYPE_BAR,i.barType=r.BAR_TYPE_COLUMN,s(t,e,i)},n.lineChart=function(t,e,i){return i=i||{},i.chartType=r.CHART_TYPE_LINE,s(t,e,i)},n.registerPlugin=a.register,n.registerTheme=l.register},{"./const.js":2,"./factories/chartFactory.js":3,"./factories/pluginFactory.js":4,"./factories/themeFactory.js":5,"./registerCharts.js":19,"./registerThemes.js":20,"./util.js":22}],2:[function(t,e,i){e.exports={HIDDEN_WIDTH:1,DEFAULT_TITLE_FONT_SIZE:14,DEFAULT_AXIS_TITLE_FONT_SIZE:10,DEFAULT_LABEL_FONT_SIZE:12,DEFAULT_PLUGIN:"raphael",DEFAULT_TICK_COLOR:"black",DEFAULT_THEME_NAME:"default",CHART_TYPE_BAR:"bar",CHART_TYPE_LINE:"line",BAR_TYPE_BAR:"bar",BAR_TYPE_COLUMN:"column"}},{}],3:[function(t,e,i){"use strict";var n={},s={get:function(t,e,i){var s,r=n[t];if(!r)throw new Error("Not exist "+t+" chart.");return s=new r(e,i)},register:function(t,e){n[t]=e}};e.exports=s},{}],4:[function(t,e,i){"use strict";var n={},s={get:function(t,e){var i,s,r=n[t];if(!r)throw new Error("Not exist "+t+" plugin.");if(i=r[e],!i)throw new Error("Not exist "+e+" chart renderer.");return s=new i},register:function(t,e){n[t]=e}};e.exports=s},{}],5:[function(t,e,i){"use strict";var n,s,r,o=t("../const.js"),a={};r=function(t){var e=t.chart.fontFamily,i=[t.title,t.vAxis.title,t.vAxis.label,t.hAxis.title,t.hAxis.label,t.legend.label];ne.util.forEachArray(i,function(t){t.fontFamily||(t.fontFamily=e)}),t.legend.colors=t.series.colors,t.series.borderColor&&(t.legend.borderColor=t.series.borderColor)},s=function(t,e){var i,n,s=t.length,r=s-e.length;if(!(0>=r))for(i=s-r,n=i;s>n;n+=1)e[n]=t[n]},n=function(t){var e=a[o.DEFAULT_THEME_NAME],i=JSON.parse(JSON.stringify(e)),n=i.series.colors;return t.series&&t.series.colors&&s(n,t.series.colors),t.series&&t.series.singleColors&&(s(n,t.series.singleColors),t.legend.singleColors=t.series.singleColors),t=ne.util.extend(i,t)},e.exports={get:function(t){var e=a[t];if(!e)throw new Error("Not exist "+t+" theme.");return e},register:function(t,e){var i=a[o.DEFAULT_THEME_NAME];t!==o.DEFAULT_THEME_NAME&&i&&(e=n(e)),r(e),a[t]=e}}},{"../const.js":2}],6:[function(t,e,i){"use strict";var n=t("./chartModel.js"),s=t("./axisModel.js"),r=t("./plotModel.js"),o=t("./legendModel.js"),a=t("./seriesModel.js"),l=t("./tooltipModel.js"),h=ne.util.defineClass(n,{init:function(t,e){this.hAxis=null,this.vAxis=null,this.legend=null,this.plot=null,this.series=null,this.tooltip=null,n.call(this,t,e)},_setData:function(t){var e,i=this.options||{},n=i.chart||{},s=this.pickAxisData(t),r=this.pickLabels(t[0]),o=this.pickValues(s),a=this.pickLegendLabels(s),l=this.findFormatFns(n.format),h=n.format?this.formatValues(o,l):o;e=this._setAxis(r,o,l,this.dimension,i),this._setPlot(e.hAxis.getValidTickCount(),e.vAxis.getValidTickCount()),this._setLegend(a),this._setSeries(o,h,e.valueScale,this.isVertical,i.series),this._setTooltip(h,r,a,i.tooltip)},_setAxis:function(t,e,i,n,r){var o,a,l,h,c={values:e,chartDimension:n,formatFns:i},u={labels:t};return this.isVertical?(c.isVertical=!0,o=new s(c,r.vAxis),a=new s(u,r.hAxis),l=o.scale):(u.isVertical=!0,o=new s(u,r.vAxis),a=new s(c,r.hAxis),l=a.scale),this.vAxis=o,this.hAxis=a,h={vAxis:o,hAxis:a,valueScale:l}},_setPlot:function(t,e,i){this.plot=new r({hTickCount:t,vTickCount:e},i)},_setLegend:function(t){this.legend=new o({labels:t})},_setSeries:function(t,e,i,n,s){this.series=new a({values:t,formatValues:e,scale:i,isVertical:n},s)},_setTooltip:function(t,e,i,n){this.tooltip=new l({values:t,labels:e,legendLabels:i},n)}});e.exports=h},{"./axisModel.js":7,"./chartModel.js":9,"./legendModel.js":10,"./plotModel.js":13,"./seriesModel.js":14,"./tooltipModel.js":15}],7:[function(t,e,i){"use strict";var n,s=t("./model.js"),r="value",o="label",a=5,l=40,h=60,c=80,u=90,d=90,f=Array.prototype.concat;n=ne.util.defineClass(s,{init:function(t,e){e=e||{},this.options=e,this.title=e.title||"",this.labels=[],this.tickCount=a,this.scale=null,this.axisType=null,this.isVertical=!1,t&&this._setData(t)},_setData:function(t){this.isVertical=t.isVertical,t.labels?this._setLabelAxisData(t.labels):t.values&&this._setValueAxisData(t.values,t.chartDimension,t.formatFns)},_setLabelAxisData:function(t){this.axisType=o,this.labels=t,this.tickCount=t.length+1},_setValueAxisData:function(t,e,i){var n,s,o=this.options,a=f.apply([],t),l=ne.util.min(a),h=ne.util.max(a),c=this._getTickInfo(l,h,e,o.min),u=c.step;c=this._correctTickInfo(h,l,c,u),n=c.scale,s=c.labels,this.tickCount=c.tickCount,s=this._formatLabels(s,i),this.axisType=r,this.labels=s,this.scale=n},_correctTickInfo:function(t,e,i,n){var s,r=ne.util.range(1,i.tickCount),o=i.scale.max,a=i.scale.min;return ne.util.forEachArray(r,function(s){var r=o-n*s,l=a+n*s;return t>=r&&l>=e?!1:(r>t&&(i.scale.max=r),void(e>l&&(i.scale.min=l)))}),s=i.scale,i.labels=ne.util.range(s.min,s.max,n),i.labels.push(s.max),i.tickCount=i.labels.length,i},_getBaseSize:function(t){var e;return e=this.isVertical?t.height-c:t.width-u-d},_getCandidateTickCounts:function(t){var e=parseInt(t/h,10),i=parseInt(t/l,10)+1,n=ne.util.range(e,i);return n},_getComparingValue:function(t,e,i){var n=t.max-i,s=e-t.min,r=Math.abs(n-s);return n+s+r},_getTickInfo:function(t,e,i,n){var s,r,o,a,l,h=this._getBaseSize(i),c=this._getCandidateTickCounts(h),u=!1;return 0>t&&0>=e&&(u=!0,s=t,t=-e,e=-s),r=ne.util.map(c,function(i){var r=this._calculateScale(t,e,i,n),o=this.getScaleStep(r,i);return u?(s=r.min,r.min=-r.max,r.max=-s):0>t&&(r.max+=o-Math.abs(r.max)%o,r.min-=o+r.min%o,i+=1),{tickCount:i,scale:r,step:o}},this),o=r[0],a=r.slice(1),l=this._getComparingValue(o.scale,t,e),ne.util.forEachArray(a,function(i){var n=this._getComparingValue(i.scale,t,e);l>n&&(o=i,l=n)},this),o},_multipleScale:function(t,e){return{max:t.max*e,min:t.min*e}},_divideScale:function(t,e){return{max:t.max/e,min:t.min/e}},_correctScale:function(t,e,i,n){var s,r,o,a=t.max,l=t.min,h=ne.util.max([Math.abs(l),Math.abs(a)]),c=e-1,u=5*c;return 1>h?(o=this._correctScale(this._multipleScale(t,10),e,i,n),t=this._divideScale(o,10)):(u>h?(l%1===0&&(l+=0>l?.1:-.1),t.min=Math.floor(l)):h>=u&&(0>=i&&l%5===0?t.min-=5:t.min=l-l%5),s=a-t.min,r=u>h?0===s?0:c-s%c:0===s?0:u-s%u,t.max=t.max+r,t)},_calculateScale:function(t,e,i,n){var s,r=t,o=e,a=0,l={};if(0>t&&(a=t,e-=t,t=0),s=(e-t)/20,l.max=e+s,ne.util.isUndefined(n))l.min=e/6>t?0:t-s;else{if(n>t)throw new Error("Option minValue can not be smaller than min.");l.min=n}return l=this._correctScale(l,i,r,o),l.max+=a,l.min+=a,l},_formatLabels:function(t,e){var i=ne.util.map(t,function(t){var i=f.apply([t],e);return ne.util.reduce(i,function(t,e){return e(t)})});return i},_makeLabelsFromScale:function(t,e){var i=ne.util.range(t.min,t.max+1,e);return i},isLabelAxis:function(){return this.axisType===o},isValueAxis:function(){return this.axisType===r},changeVerticalState:function(t){this.isVertical=t},getValidTickCount:function(){var t=this.isValueAxis()?this.tickCount:0;return t}}),e.exports=n},{"./model.js":12}],8:[function(t,e,i){"use strict";var n=t("../const.js"),s=t("./axisChartModel.js"),r=ne.util.defineClass(s,{init:function(t,e){e=e||{},this.barType=e.barType||n.BAR_TYPE_BAR,this.isVertical=e.barType===n.BAR_TYPE_COLUMN,s.call(this,t,e)}});e.exports=r},{"../const.js":2,"./axisChartModel.js":6}],9:[function(t,e,i){"use strict";var n=t("./model.js"),s=ne.util.defineClass(n,{init:function(t,e){var i;e=e||{},i=e.chart||{},this.options=e,this.dimension={width:500,height:300},i.width&&(this.dimension.width=i.width),i.height&&(this.dimension.height=i.height),this.title=i.title||"",t&&this._setData(t)},_setData:function(){throw new Error("Please implement the setData.")},pickAxisData:function(t){var e=t[0],i=t.slice();return i.shift(),this._hasStyleOption(e)&&(i=ne.util.map(i,function(t){return t=t.slice(),t.length=t.length-1,t})),i},pickLabels:function(t){var e=this._hasStyleOption(t),i=e?t.length-1:-1,n=ne.util.filter(t,function(t,e){return 0!==e&&e!==i});return n},pickValues:function(t){var e=ne.util.map(t,function(t){var e=t.slice();return e.shift(),e});return this.arrayPivot(e)},_hasStyleOption:function(t){var e=t[t.length-1];return ne.util.isObject(e)&&"style"===e.role},pickLegendLabels:function(t){var e=ne.util.map(t,function(t){return t[0]});return e},formatValues:function(t,e){var i=ne.util.map(t,function(t){return ne.util.map(t,function(t){var i=[t].concat(e);return ne.util.reduce(i,function(t,e){return e(t)})})});return i}});e.exports=s},{"./model.js":12}],10:[function(t,e,i){"use strict";var n=t("./model.js"),s=ne.util.defineClass(n,{init:function(t){this.labels=[],t&&this._setData(t)},_setData:function(t){this.labels=t.labels}});e.exports=s},{"./model.js":12}],11:[function(t,e,i){"use strict";var n=t("./axisChartModel.js"),s=ne.util.defineClass(n,{init:function(t,e){e=e||{},this.isVertical=!0,e.tooltip||(e.tooltip={}),e.tooltip.addPosition={top:-3},n.call(this,t,e)},_setSeries:function(t,e,i,s,r){t=this.arrayPivot(t),e=this.arrayPivot(e),n.prototype._setSeries.call(this,t,e,i,s,r)}});e.exports=s},{"./axisChartModel.js":6}],12:[function(t,e,i){"use strict";var n=Array.prototype.concat,s=ne.util.defineClass({getScaleStep:function(t,e){return(t.max-t.min)/(e-1)},makePixelPositions:function(t,e){var i,n,s=[];return e>0&&(i={min:0,max:t-1},n=this.getScaleStep(i,e),s=ne.util.map(ne.util.range(0,t,n),function(t){return Math.round(t)}),s[s.length-1]=t-1),s},arrayPivot:function(t){var e=[];return ne.util.forEachArray(t,function(t){ne.util.forEachArray(t,function(t,i){e[i]||(e[i]=[]),e[i].push(t)})}),e},_isZeroFill:function(t){return t.length>2&&"0"===t.charAt(0)},_isDecimal:function(t){var e=t.indexOf(".");return e>-1&&e<t.length-1},_isComma:function(t){return t.indexOf(",")===t.split(".")[0].length-4},_formatZeroFill:function(t,e){var i="0";if(e+="",e.length>=t)return e;for(;e.length<t;)e=i+e;return e},_formatDecimal:function(t,e){var i;return 0===t?Math.round(e,10):(i=Math.pow(10,t),e=Math.round(e*i)/i,e=parseFloat(e).toFixed(t))},_formatComma:function(t){var e,i=",",s="";return t+="",t.indexOf(".")>-1&&(e=t.split("."),t=e[0],s="."+e[1]),t.length<4?t+s:(e=t.split("").reverse(),e=ne.util.map(e,function(t,e){var n=[t];return(e+1)%3===0&&n.push(i),n}),n.apply([],e).reverse().join("")+s)},_pickMaxLenUnderPoint:function(t){var e=0;return ne.util.forEachArray(t,function(t){var i=(t+"").split(".");2===i.length&&i[1].length>e&&(e=i[1].length)}),e},findFormatFns:function(t){var e,i=[];if(!t)return[];if(this._isDecimal(t))e=this._pickMaxLenUnderPoint([t]),i=[ne.util.bind(this._formatDecimal,this,e)];else if(this._isZeroFill(t))return e=t.length,i=[ne.util.bind(this._formatZeroFill,this,e)];return this._isComma(t)&&i.push(this._formatComma),i}});e.exports=s},{}],13:[function(t,e,i){"use strict";var n=t("./model.js"),s=ne.util.defineClass(n,{init:function(t){this.vTickCount=0,this.hTickCount=0,t&&this._setData(t)},_setData:function(t){this.vTickCount=t.vTickCount||0,this.hTickCount=t.hTickCount||0},makeVPixelPositions:function(t){var e=this.makePixelPositions(t,this.vTickCount);return e.shift(),e},makeHPixelPositions:function(t){var e=this.makePixelPositions(t,this.hTickCount);return e.shift(),e}});e.exports=s},{"./model.js":12}],14:[function(t,e,i){"use strict";var n=t("./model.js"),s=1,r=ne.util.defineClass(n,{init:function(t,e){this.options=e=e||{},this.markers=[],this.percentValues=[],this.tickScale={},this.colors=[],t&&this._setData(t)},_setData:function(t){if(!t||ne.util.isEmpty(t.values)||!t.scale)throw new Error("Invalid series data.");this.markers=t.formatValues,this.percentValues=this._makePercentValues(t.values,t.scale),this.isVertical=t.isVertical},_convertValues:function(t,e){var i=ne.util.map(t,function(t){return ne.util.map(t,e)});return i},_makePercentValues:function(t,e){var i=e.min,n=e.max,s=this._convertValues(t,function(t){return(t-i)/(n-i)});return s},makeColumnBounds:function(t){var e=this.percentValues,i=t.width/e.length,n=parseInt(i/(e[0].length+1),10),r=ne.util.map(e,function(e,r){var o=i*r+n/2;return ne.util.map(e,function(e,i){var r=parseInt(e*t.height,10);return{top:t.height-r+s,left:o+n*i,width:n,height:r}},this)});return r},makeBarBounds:function(t,e){var i=this.percentValues,n=t.height/i.length,r=parseInt(n/(i[0].length+1),10),o=ne.util.map(i,function(i,o){var a=n*o+r/2+e;return ne.util.map(i,function(e,i){return{top:a+r*i,left:-s,width:parseInt(e*t.width,10),height:r}},this)});return o},makeLinePositions:function(t){var e=this.percentValues,i=t.width,n=t.height,s=i/e[0].length,r=s/2,o=ne.util.map(e,function(t){return ne.util.map(t,function(t,e){return{left:r+s*e,top:n-t*n}})});return o}});e.exports=r},{"./model.js":12}],15:[function(t,e,i){"use strict";var n,s=t("./model.js"),r=Array.prototype.concat;n=ne.util.defineClass(s,{init:function(t,e){e=e||{},this.options=e,this.data=[],t&&this._setData(t)},_setData:function(t){var e=t.labels,i=t.values,n=t.legendLabels,s=ne.util.map(i,function(t,i){var s=ne.util.map(t,function(t,s){var r={label:e[i],value:t,legendLabel:n[s],id:i+"-"+s};return r});return s});this.data=r.apply([],s)}}),e.exports=n},{"./model.js":12}],16:[function(t,e,i){"use strict";var n,s=t("./raphaelBarChart.js"),r=t("./raphaelLineChart.js"),o="raphael";n={bar:s,line:r},ne.application.chart.registerPlugin(o,n)},{"./raphaelBarChart.js":17,"./raphaelLineChart.js":18}],17:[function(t,e,i){"use strict";var n=1,s=window.Raphael,r=ne.util.browser,o=r.msie&&8===r.version,a=ne.util.defineClass({render:function(t,e,i,r){var a,l,h=e.model,c=e.theme,u=e.dimension,d=h.isVertical,f=s(t,u.width,u.height);d?a=h.makeColumnBounds(u):(l=o?0:n,a=h.makeBarBounds(u,l)),this._renderBars(f,h,c,a,i,r)},_renderBars:function(t,e,i,n,s,r){var o=1===n[0].length&&i.singleColors||[],a=i.colors,l=i.borderColor||"none";ne.util.forEachArray(n,function(e,i){var n=o[i];ne.util.forEachArray(e,function(e,o){var h=n||a[o],c=i+"-"+o,u=this._renderBar(t,h,l,e);this._bindHoverEvent(u,e,c,s,r)},this)},this)},_renderBar:function(t,e,i,n){var s=t.rect(n.left,n.top,n.width,n.height);return s.attr({fill:e,stroke:i}),s},_bindHoverEvent:function(t,e,i,n,s){t.hover(function(){n(e,i)},function(){s(i)})}});e.exports=a},{}],18:[function(t,e,i){"use strict";var n=window.Raphael,s=4,r=5,o=ne.util.defineClass({render:function(t,e,i,s){var r=e.model,o=e.dimension,a=e.theme,l=a.colors,h=r.options.dot?1:0,c=n(t,o.width,o.height),u=r.makeLinePositions(e.dimension),d=this._getLinesPath(u),f=(this._renderLines(c,d,l),this._makeBorderStyle(a.borderColor,h)),p=this._makeOutDotStyle(h,f),m=this._renderDots(c,u,l,h,f);this.outDotStyle=p,this.groupDots=m,this._attachEvent(m,u,p,i,s)},_makeBorderStyle:function(t,e){var i;return t&&(i={stroke:t,"stroke-width":1,"stroke-opacity":e}),i},_makeOutDotStyle:function(t,e){var i={"fill-opacity":t,"stroke-opacity":0,r:4};return e&&ne.util.extend(i,e),i},_renderDot:function(t,e,i,n,r){var o=t.circle(e.left,e.top,s),a={fill:i,"fill-opacity":n,"stroke-opacity":0};return r&&ne.util.extend(a,r),o.attr(a),o},_renderDots:function(t,e,i,n,s){var r=ne.util.map(e,function(e,r){var o=i[r];return ne.util.map(e,function(e){var i=this._renderDot(t,e,o,n,s);return i},this)},this);return r},_makeLinePath:function(t,e,i,n,s){var r=[t,e],o=[i,n];return s=s||1,r[0]===o[0]&&(r[0]=o[0]=Math.round(r[0])-s%2/2),r[1]===o[1]&&(r[1]=o[1]=Math.round(r[1])+s%2/2),"M"+r.join(" ")+"L"+o.join(" ")},_getCenter:function(t,e){return{left:(t.left+e.left)/2,top:(t.top+e.top)/2}},_renderLine:function(t,e,i,n){var s=t.path([e]),r={stroke:i,"stroke-width":n||2};return"transparent"===i&&(r.stroke="#fff",r["stroke-opacity"]=0),s.attr(r),s},_renderBgLines:function(t,e){var i=this._renderLines(t,e,[],10);return i},_renderLines:function(t,e,i,n){var s=ne.util.map(e,function(e,s){var r=i[s]||"transparent";return ne.util.map(e,function(e){var i=this._renderLine(t,e[0],r,n),s=this._renderLine(t,e[1],r,n);return[i,s]},this)},this);return s},_getLinesPath:function(t){var e=ne.util.map(t,function(t){var e=t[0],i=t.slice(1);return ne.util.map(i,function(t){var i=this._getCenter(e,t),n=this._makeLinePath(e.left,e.top,i.left,i.top),s=this._makeLinePath(i.left,i.top,t.left,t.top);return e=t,[n,s]},this)},this);return e},_bindHoverEvent:function(t,e,i,n,s,r,o){var a=this;t.hover(function(){a.showedId=s,r(n,s)},function(){o(s)})},_attachEvent:function(t,e,i,n,s){ne.util.forEach(t,function(t,r){ne.util.forEach(t,function(t,o){var a=e[r][o],l=o+"-"+r;this._bindHoverEvent(t,t,i,a,l,n,s)},this)},this)},showDot:function(t){var e=t.groupIndex,i=t.index,n=this.groupDots[i][e];n.attr({"fill-opacity":1,"stroke-opacity":.3,"stroke-width":3,r:r})},hideDot:function(t){var e=t.groupIndex,i=t.index,n=this.groupDots[i][e];n.attr(this.outDotStyle)}});e.exports=o},{}],19:[function(t,e,i){"use strict";var n=t("./const.js"),s=t("./factories/chartFactory.js"),r=t("./views/barChartView.js"),o=t("./views/lineChartView.js");s.register(n.CHART_TYPE_BAR,r),s.register(n.CHART_TYPE_LINE,o)},{"./const.js":2,"./factories/chartFactory.js":3,"./views/barChartView.js":26,"./views/lineChartView.js":32}],20:[function(t,e,i){"use strict";var n=t("./const.js"),s=t("./factories/themeFactory.js"),r=t("./themes/defaultTheme.js");s.register(n.DEFAULT_THEME_NAME,r)},{"./const.js":2,"./factories/themeFactory.js":5,"./themes/defaultTheme.js":21}],21:[function(t,e,i){var n="#000000",s="#ffffff",r={tickColor:n,title:{fontSize:12,color:n},label:{fontSize:12,color:n}},o={chart:{background:s,fontFamily:"Verdana"},title:{fontSize:18,color:n},vAxis:r,hAxis:r,plot:{lineColor:"#dddddd",background:"#ffffff"},series:{colors:["#ac4142","#d28445","#f4bf75","#90a959","#75b5aa","#6a9fb5","#aa759f","#8f5536"]},legend:{label:{fontSize:12,color:n}}};e.exports=o},{}],22:[function(t,e,i){"use strict";var n=function(t,e,i){var n,s=[];for(ne.util.isUndefined(e)&&(e=t||0,t=0),i=i||1,n=0>i?-1:1,e*=n;e>t*n;)s.push(t),t+=i;return s},s=function(t,e){var i=ne.util.map(t,function(t){return t[e]});return i},r=function(){var t=Array.prototype.slice.call(arguments),e=[];return ne.util.forEach(t,function(t){ne.util.forEach(t,function(t,i){e[i]||(e[i]=[]),e[i].push(t)})}),e},o=function(t){var e=Math.min.apply(null,t);return e},a=function(t){var e=Math.max.apply(null,t);return e};ne.util.range=n,ne.util.pluck=s,ne.util.zip=r,ne.util.min=o,ne.util.max=a},{}],23:[function(t,e,i){"use strict";var n=t("./chartView.js"),s=t("./plotView.js"),r=t("./axisView.js"),o=t("./legendView.js"),a=t("./tooltipView.js"),l="ne-chart-tooltip-",h=10,c=1,u=ne.util.defineClass(n,{init:function(t,e){var i=e.theme;this.theme=i,this.plotView=new s(this.model.plot,i.plot),this.vAxisView=new r(this.model.vAxis,i.vAxis),this.hAxisView=new r(this.model.hAxis,i.hAxis),this.legendView=new o(this.model.legend,i.legend),this.tooltipView=new a(this.model.tooltip),e=e.chart||{},this.options=e,n.call(this,t,e,i.chart)},render:function(){var t=l+(new Date).getTime()+"-",e=this.getViewsBound(),i=this.renderTitleArea(),n=this.plotView.render(e.plot),s=this.vAxisView.render(e.vAxis),r=this.hAxisView.render(e.hAxis),o=this.seriesView.render(e.series,t,this.model.isVertical),a=this.legendView.render(e.legend),h=this.tooltipView.render(e.tooltip,t);return this.appends([i,n,s,r,o,a,h]),this.renderDimension(this.model.dimension),this.renderBackground(this.theme.background),this.renderChartFont(this.theme.fontFamily),this._attachCustomEvent(),this.el},getViewsBound:function(){var t=this.getRenderedTitleHeight(),e=this.vAxisView.getVAxisAreaWidth(),i=this.hAxisView.getHAxisAreaHeight(),n=this.legendView.getLegendAreaWidth(),s=this.model.dimension.width-2*h-e-n,r=this.model.dimension.height-2*h-t-i,o=t+h,a=n+h,l={plot:{dimension:{width:s,height:r},position:{top:o,right:a}},vAxis:{dimension:{width:e,height:r},position:{top:o}},hAxis:{dimension:{width:s,height:i},position:{top:o+r-c,right:a}},series:{dimension:{width:s,height:r},position:{top:o,right:a}},legend:{position:{top:t,right:h}},tooltip:{dimension:{width:s,height:r},position:{top:o,left:e+h}}};return l},_attachCustomEvent:function(){var t=this.tooltipView,e=this.seriesView;e.on("showTooltip",t.onShow,t),e.on("hideTooltip",t.onHide,t)}});e.exports=u},{"./axisView.js":25,"./chartView.js":27,"./legendView.js":31,"./plotView.js":34,"./tooltipView.js":38}],24:[function(t,e,i){var n=t("./templateMaker.js"),s={HTML_AXIS_TICK:'<div class="ne-chart-tick" style="{{ cssText }}"></div>',HTML_AXIS_LABEL:'<div class="ne-chart-label" style="{{ cssText }}">{{ label }}</div>'};e.exports={TPL_AXIS_TICK:n.template(s.HTML_AXIS_TICK),TPL_AXIS_LABEL:n.template(s.HTML_AXIS_LABEL)}},{"./templateMaker.js":36}],25:[function(t,e,i){"use strict";var n=t("./domHandler.js"),s=t("./view.js"),r=t("./axisTemplate.js"),o=20,a=20,l=10,h=ne.util.defineClass(s,{init:function(t,e){this.model=t,this.theme=e,this.className="ne-chart-axis-area",s.call(this)},render:function(t){var e=this.model,i=this.theme,s=e.isVertical,r=t.dimension,o=s?r.height:r.width,a=this._renderTitleArea(e.title,i.title,s,o),l=this._renderTickArea(o),h=this._renderLabelArea(o,r.width);return this.renderDimension(r),this.renderPosition(t.position),n.addClass(this.el,this.model.isVertical?"vertical":"horizontal"),this.appends([a,l,h]),this.el},_renderTitleArea:function(t,e,i,n){var s=this.renderTitle(t,e,"ne-chart-title-area"),r=[];return s&&i&&(r=[this.concatStr("width:",n,"px"),this.concatStr("left:",0,"px")],this.isIE8()||r.push(this.concatStr("top:",n,"px")),s.style.cssText+=";"+r.join(";")),s},_renderTickArea:function(t){var e=this.model,i=e.tickCount,s=this.theme.tickColor,o=e.makePixelPositions(t,i),a=n.createElement("DIV","ne-chart-tick-area"),l=e.isVertical,h=l?"bottom":"left",c=r.TPL_AXIS_TICK,u=ne.util.map(o,function(t){var e=[this.concatStr("background-color:",s),this.concatStr(h,": ",t,"px")].join(";");return c({cssText:e})},this).join("");return a.innerHTML=u,this._renderTickBorderColor(a,s,l),a},_renderTickBorderColor:function(t,e,i){i?t.style.borderRightColor=e:t.style.borderTopColor=e},_renderLabelArea:function(t,e){var i,s,r,a=this.model,h=this.theme,c=a.makePixelPositions(t,a.tickCount),u=c[1]-c[0],d=a.labels,f=a.isVertical,p=a.isLabelAxis(),m=f?a.isLabelAxis()?"top":"bottom":"left",v=this._makeLabelCssTexts(f,p,u),g=n.createElement("DIV","ne-chart-label-area");return c.length=d.length,i=this._makeLabelsHtml(c,d,m,v),g.innerHTML=i,r=this.makeFontCssText(h.label),f&&(s=this._getRenderedTitleHeight()+o,r+=";width:"+(e-s+l)+"px"),g.style.cssText=r,this._changeLabelAreaPosition(g,f,p,h.label,u),g},_getRenderedTitleHeight:function(){var t=this.model.title,e=this.theme.title,i=t?this.getRenderedLabelHeight(t,e):0;return i},_makeLabelCssTexts:function(t,e,i){var n=[];return t&&e?(n.push(this.concatStr("height:",i,"px")),n.push(this.concatStr("line-height:",i,"px"))):t||n.push(this.concatStr("width:",i,"px")),n},_makeLabelsHtml:function(t,e,i,n){var s=r.TPL_AXIS_LABEL,o=ne.util.map(t,function(t,r){var o,a=n.slice();return a.push(this.concatStr(i,":",t,"px")),o=s({cssText:a.join(";"),label:e[r]})},this).join("");return o},_changeLabelAreaPosition:function(t,e,i,n,s){var r;i||(e?(r=this.getRenderedLabelHeight("ABC",n),t.style.top=this.concatStr(parseInt(r/2,10),"px")):t.style.left=this.concatStr("-",parseInt(s/2,10),"px"))},getVAxisAreaWidth:function(){var t=this._getRenderedTitleHeight()+o,e=this.getRenderedLabelsMaxWidth(this.model.labels,this.theme.label)+t;return e},getHAxisAreaHeight:function(){var t=this._getRenderedTitleHeight()+a,e=this.getRenderedLabelsMaxHeight(this.model.labels,this.theme.label)+t;return e}});e.exports=h},{"./axisTemplate.js":24,"./domHandler.js":28,"./view.js":39}],26:[function(t,e,i){"use strict";var n=t("./axisChartView.js"),s=t("../models/barChartModel.js"),r=t("./seriesView.js"),o=ne.util.defineClass(n,{init:function(t,e){var i=e.theme;this.className="ne-bar-chart",this.model=new s(t,e),this.seriesView=new r(this.model.series,{chartType:e.chartType},i.series),n.call(this,t,e)}});e.exports=o},{"../models/barChartModel.js":8,"./axisChartView.js":23,"./seriesView.js":35}],27:[function(t,e,i){"use strict";var n=t("./domHandler.js"),s=t("./view.js"),r=20,o=ne.util.defineClass(s,{init:function(t,e){e=e||{},s.call(this),n.addClass(this.el,"ne-chart")},renderTitleArea:function(){var t=this.renderTitle(this.model.title,this.theme.title,"ne-chart-title");return t},renderChartFont:function(t){t&&(this.el.style.fontFamily=t)},getRenderedTitleHeight:function(){var t=this.model.title,e=this.theme.title,i=0;return t&&(i=this.getRenderedLabelHeight(t,e)+r),i}});e.exports=o},{"./domHandler.js":28,"./view.js":39}],28:[function(t,e,i){"use strict";var n={createElement:function(t,e){var i=document.createElement(t);return e&&this.addClass(i,e),i},_getClassNames:function(t){var e=t.className?t.className:"",i=e?e.split(" "):[];return i},addClass:function(t,e){var i=this._getClassNames(t),n=ne.util.inArray(e,i);n>-1||(i.push(e),t.className=i.join(" "))},removeClass:function(t,e){var i=this._getClassNames(t),n=ne.util.inArray(e,i);-1!==n&&(i.splice(n,1),t.className=i.join(" "))},hasClass:function(t,e){var i=this._getClassNames(t),n=ne.util.inArray(e,i);return n>-1},findParentByClass:function(t,e,i){var n=t.parentNode;return!n||"BODY"===n.nodeName||this.hasClass(n,i)?null:this.hasClass(n,e)?n:this.findParentByClass(n,e,i)}};e.exports=n},{}],29:[function(t,e,i){"use strict";var n={_attachEvent:function(t,e,i){"object"==typeof i&&i.handleEvent?e.attachEvent("on"+t,function(){i.handleEvent.call(i)}):e.attachEvent("on"+t,i)},_addEventListener:function(t,e,i){try{e.addEventListener(t,i)}catch(n){if("object"!=typeof i||!i.handleEvent)throw n;e.addEventListener(t,function(t){i.handleEvent.call(i,t)})}},bindEvent:function(t,e,i){var n;"addEventListener"in e?n=this._addEventListener:"attachEvent"in e&&(n=this._attachEvent),this.bindEvent=n,n(t,e,i)}};e.exports=n},{}],30:[function(t,e,i){var n=t("./templateMaker.js"),s={HTML_LEGEND:'<div class="ne-chart-legend"><div class="ne-chart-legend-rect" style="{{ cssText }}"></div><div class="ne-chart-legend-label" style="height:{{ height }}px">{{ label }}</div></div>'};e.exports={TPL_LEGEND:n.template(s.HTML_LEGEND)}},{"./templateMaker.js":36}],31:[function(t,e,i){"use strict";var n=t("./view.js"),s=t("./legendTemplate.js"),r=10,o=12,a=5,l=2,h=ne.util.defineClass(n,{init:function(t,e){this.model=t,this.theme=e,this.className="ne-chart-legend-area",n.call(this)},render:function(t){var e=s.TPL_LEGEND,i=this.model.labels,n=this.theme,r=n.label,a=n.colors,h=n.borderColor,c=this.getRenderedLabelHeight(i[0],r)+2*l,u=h?this.concatStr(";border:1px solid ",h):"",d=this.concatStr(";margin-top:",parseInt((c-o)/2,10)-1,"px"),f=n.singleColors&&1===i.length&&"transparent",p=ne.util.map(i,function(t,i){var n={cssText:this.concatStr("background-color:",f||a[i],u,d),height:c,label:t};return e(n)},this).join("");return this.el.innerHTML=p,this.renderPosition(t.position),this._renderLabelTheme(r),this.el},_renderLabelTheme:function(t){var e=this.makeFontCssText(t);this.el.style.cssText+=";"+e},getLegendAreaHeight:function(){var t=this.model.labels,e=this.getRenderedLabelsMaxHeight(t,this.theme.label);return e*t.length},getLegendAreaWidth:function(){var t=this.model.labels,e=this.getRenderedLabelsMaxWidth(t,this.theme.label),i=e+o+a+2*r;return i}});e.exports=h},{"./legendTemplate.js":30,"./view.js":39}],32:[function(t,e,i){"use strict";var n=t("./axisChartView.js"),s=t("../models/lineChartModel.js"),r=t("./seriesView.js"),o=ne.util.defineClass(n,{init:function(t,e){var i=e.theme;this.className="ne-line-chart",this.model=new s(t,e),this.seriesView=new r(this.model.series,{chartType:e.chartType},i.series),n.call(this,t,e)},_attachCustomEvent:function(){var t=this.tooltipView,e=this.seriesView;t.on("showDot",e.onShowDot,e),t.on("hideDot",e.onHideDot,e),n.prototype._attachCustomEvent.apply(this)}});e.exports=o},{"../models/lineChartModel.js":11,"./axisChartView.js":23,"./seriesView.js":35}],33:[function(t,e,i){var n=t("./templateMaker.js"),s={HTML_PLOT_LINE:'<div class="ne-chart-plot-line {{ className }}" style="{{ cssText }}"></div>'};e.exports={TPL_PLOT_LINE:n.template(s.HTML_PLOT_LINE)}},{"./templateMaker.js":36}],34:[function(t,e,i){"use strict";var n=t("./view.js"),s=t("./plotTemplate.js"),r=ne.util.defineClass(n,{init:function(t,e){this.model=t,this.theme=e,this.className="ne-chart-plot-area",n.call(this)},render:function(t){return this.renderDimension(t.dimension),this.renderPosition(t.position),this._renderLines(t.dimension),this.el},_renderLines:function(t){var e=this.model.makeHPixelPositions(t.width),i=this.model.makeVPixelPositions(t.height),n=this.theme,s="";s+=this._makeLineHtml(e,t.height,"vertical","left","height",n.lineColor),s+=this._makeLineHtml(i,t.width,"horizontal","bottom","width",n.lineColor),this.el.innerHTML=s,this.renderBackground(n.background)},_makeLineHtml:function(t,e,i,n,r,o){var a=s.TPL_PLOT_LINE,l=ne.util.map(t,function(t){var s,l=[this.concatStr(n,":",t,"px"),this.concatStr(r,":",e,"px")];return o&&l.push(this.concatStr("background-color:",o)),s={className:i,cssText:l.join(";")},a(s)},this).join("");return l}});e.exports=r},{"./plotTemplate.js":33,"./view.js":39}],35:[function(t,e,i){"use strict";var n=t("./view.js"),s=t("../const.js"),r=t("../factories/pluginFactory.js"),o=1,a=ne.util.defineClass(n,{init:function(t,e,i){var o;this.model=t,this.theme=i,e=ne.util.extend(e,t.options),o=e.libType||s.DEFAULT_PLUGIN,this.options=e,this.graphRenderer=r.get(o,e.chartType),this.className="ne-chart-series-area",n.call(this)},showTooltip:function(t,e,i,n){this.fire("showTooltip",{id:t+n,isColumn:e,bound:i})},hideTooltip:function(t,e){this.fire("hideTooltip",{id:t+e})},render:function(t,e,i){var n=t.dimension,s=t.position,r=ne.util.bind(this.showTooltip,this,e,i),a=ne.util.bind(this.hideTooltip,this,e),l=this.isIE8()?0:o;return this.renderDimension(n),s.top=s.top+(i?-o:-1),s.right=s.right+(i?-(2*o):-l),this.renderPosition(s),this.graphRenderer.render(this.el,{dimension:n,model:this.model,theme:this.theme,options:this.options},r,a),this.el},onShowDot:function(t){this.graphRenderer.showDot.call(this.graphRenderer,t)},onHideDot:function(t){this.graphRenderer.hideDot.call(this.graphRenderer,t)}});e.exports=a},{"../const.js":2,"../factories/pluginFactory.js":4,"./view.js":39}],36:[function(t,e,i){"use strict";e.exports={template:function(t){return function(e){var i=t;return ne.util.forEach(e,function(t,e){var n=new RegExp("{{\\s*"+e+"\\s*}}","g");i=i.replace(n,t)}),i}}}},{}],37:[function(t,e,i){var n=t("./templateMaker.js"),s={HTML_TOOLTIP:'<div class="ne-chart-tooltip" id="{{ id }}">{{ html }}</div>',HTML_DEFAULT_TEMPLATE:'<div class="ne-chart-default-tooltip"><div>{{ label }}</div><div><span>{{ legendLabel }}</span>:&nbsp;<span>{{ value }}</span><span>{{ suffix }}</span></div></div>'};e.exports={TPL_TOOLTIP:n.template(s.HTML_TOOLTIP),TPL_DEFAULT_TEMPLATE:n.template(s.HTML_DEFAULT_TEMPLATE)}},{"./templateMaker.js":36}],38:[function(t,e,i){"use strict";var n=t("./domHandler.js"),s=t("./view.js"),r=t("./eventListener.js"),o=t("./templateMaker.js"),a=t("./tooltipTemplate.js"),l=5,h=1,c="ne-chart-tooltip",u=0,d=ne.util.defineClass(s,{init:function(t,e){
this.model=t,this.theme=e,this.className="ne-chart-tooltip-area",s.call(this)},render:function(t,e){return this.renderPosition(t.position),this.el.innerHTML=this._makeTooltipsHtml(this.model.data,e),this.attachEvent(),this.el},_makeTooltipsHtml:function(t,e){var i=this.model.options,n=i.template?i.template:"",s=a.TPL_TOOLTIP,r=n?o.template(n):a.TPL_DEFAULT_TEMPLATE,l=i.suffix?"&nbsp;"+i.suffix:"",h=ne.util.map(t,function(t){var i,n=e+t.id;return t=ne.util.extend({label:"",legendLabel:"",value:"",suffix:l},t),i=r(t),s({id:n,html:i})},this).join("");return h},attachEvent:function(){r.bindEvent("mouseover",this.el,ne.util.bind(this.onMouseover,this)),r.bindEvent("mouseout",this.el,ne.util.bind(this.onMouseout,this))},_getIndexFromId:function(t){var e=t.split("-"),i=e.length-2;return e.slice(i)},_fireShowDot:function(t){var e=this._getIndexFromId(t);this.fire("showDot",{groupIndex:e[0],index:e[1]})},_fireHideDot:function(t){var e=this._getIndexFromId(t);this.fire("hideDot",{groupIndex:e[0],index:e[1]})},onMouseover:function(t){var e,i=t.target||t.srcElement;n.hasClass(i,c)||(i=n.findParentByClass(i,c)),this.showedId=e=i.id,this._fireShowDot(e)},onMouseout:function(t){var e,i=t.target||t.srcElement,s=this;n.hasClass(i,c)||(i=n.findParentByClass(i,c)),e=this._getIndexFromId(i.id),this._hideTooltip(i,function(){s.fire("hideDot",{groupIndex:e[0],index:e[1]})})},calculatePosition:function(t,e){var i=t.isColumn,n=t.bound,s={};return i?(s.top=n.top-e.height-l,s.left=n.left+h):(s.top=n.top,s.left=n.width+l),s},onShow:function(t){var e,i,s=document.getElementById(t.id),r=ne.util.extend({left:0,top:0},this.model.options.addPosition);this.showedId&&(n.removeClass(s,"show"),this._fireHideDot(this.showedId)),this.showedId=t.id,n.addClass(s,"show"),e={width:s.offsetWidth,height:s.offsetHeight},i=this.calculatePosition(t,e),s.style.cssText=[this.concatStr("left:",i.left+r.left,"px"),this.concatStr("top:",i.top+r.top,"px")].join(";"),this._fireShowDot(t.id)},onHide:function(t){var e=document.getElementById(t.id),i=this;this._hideTooltip(e,function(){var n=i._getIndexFromId(t.id);i.fire("hideDot",{groupIndex:n[0],index:n[1]}),t=null,e=null,i=null})},_hideTooltip:function(t,e){var i=this;delete this.showedId,setTimeout(function(){i.showedId!==t.id&&(n.removeClass(t,"show"),e&&e(),i=null)},u)}});e.exports=d},{"./domHandler.js":28,"./eventListener.js":29,"./templateMaker.js":36,"./tooltipTemplate.js":37,"./view.js":39}],39:[function(t,e,i){"use strict";var n,s=t("./domHandler.js"),r=t("../const.js"),o=ne.util.browser,a=o.msie&&8===o.version;n=ne.util.defineClass({init:function(){this.el=s.createElement("DIV",this.className||"")},append:function(t){t&&this.el.appendChild(t)},appends:function(t){ne.util.forEachArray(t,this.append,this)},renderDimension:function(t){this.el.style.cssText=[this.concatStr("width:",t.width,"px"),this.concatStr("height:",t.height,"px")].join(";")},renderPosition:function(t){ne.util.isUndefined(t)||(t.top&&(this.el.style.top=t.top+"px"),t.left&&(this.el.style.left=t.left+"px"),t.right&&(this.el.style.right=t.right+"px"))},renderTitle:function(t,e,i){var n,r;if(t)return n=s.createElement("DIV",i),n.innerHTML=t,r=this.makeFontCssText(e),e.background&&(r+=";"+this.concatStr("background:",e.background)),n.style.cssText=r,n},renderBackground:function(t){t&&(this.el.style.background=t)},concatStr:function(){return String.prototype.concat.apply("",arguments)},makeFontCssText:function(t){var e=[];return t?(t.fontSize&&e.push(this.concatStr("font-size:",t.fontSize,"px")),t.fontFamily&&e.push(this.concatStr("font-family:",t.fontFamily)),t.color&&e.push(this.concatStr("color:",t.color)),e.join(";")):""},_createSizeCheckEl:function(){var t=s.createElement("DIV"),e=s.createElement("SPAN");return t.appendChild(e),t.style.cssText="position:relative;top:10000px;left:10000px;line-height:1",t},_getRenderedLabelSize:function(t,e,i){var n,s=this._createSizeCheckEl(),o=s.firstChild;return e=e||{},o.innerHTML=t,o.style.fontSize=(e.fontSize||r.DEFAULT_LABEL_FONT_SIZE)+"px",e.fontFamily&&(o.style.fontFamily=e.fontFamily),document.body.appendChild(s),n=o[i],document.body.removeChild(s),n},getRenderedLabelWidth:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetWidth");return i},getRenderedLabelHeight:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetHeight");return i},_getRenderedLabelsMaxSize:function(t,e,i){var n=ne.util.map(t,function(t){return i(t,e)},this),s=ne.util.max(n);return s},getRenderedLabelsMaxWidth:function(t,e){var i=ne.util.bind(this.getRenderedLabelWidth,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},getRenderedLabelsMaxHeight:function(t,e){var i=ne.util.bind(this.getRenderedLabelHeight,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},isIE8:function(){return a}}),ne.util.CustomEvents.mixin(n),e.exports=n},{"../const.js":2,"./domHandler.js":28}]},{},[1,16]);