/**
 * @fileoverview tui.chart
 * @author NHN Ent. FE Development Team <dl_javascript@nhnent.com>
 * @version 1.6.0
 * @license MIT
 * @link https://github.com/nhnent/tui.chart
 */
!function t(e,i,n){function s(r,o){if(!i[r]){if(!e[r]){var u="function"==typeof require&&require;if(!o&&u)return u(r,!0);if(a)return a(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var l=i[r]={exports:{}};e[r][0].call(l.exports,function(t){var i=e[r][1][t];return s(i?i:t)},l,l.exports,t,e,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),s=t("../const"),a=t("../helpers/calculator"),r=t("../helpers/renderUtil"),o=t("./axisTemplate"),u=tui.util.defineClass({init:function(t){this.className="tui-chart-axis-area",this.chartType=t.chartType,this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.options=t.options||{},this.theme=t.theme||{},this.isLabel=t.isLabel,this.data={}},_makeXAxisHeight:function(){var t=this.options.title,e=r.getRenderedLabelHeight(t,this.theme.title)+s.TITLE_PADDING,i=r.getRenderedLabelHeight(s.MAX_HEIGHT_WORLD,this.theme.label)+e;return i},_makeYAxisWidth:function(t){var e=this.options.title||"",i=0,n=0;return this.options.isCenter?n+=s.AXIS_LABEL_PADDING:i=r.getRenderedLabelHeight(e,this.theme.title)+s.TITLE_PADDING,n+=r.getRenderedLabelsMaxWidth(t,this.theme.label)+i+s.AXIS_LABEL_PADDING},_isValidAxis:function(){var t=!0;return"rightYAxis"===this.componentName&&(t=this.dataProcessor.isValidAllGroup()),t},registerDimension:function(){var t={};this._isValidAxis()&&("xAxis"===this.componentType?(t.height=this._makeXAxisHeight(),this.boundsMaker.registerBaseDimension(this.componentName,t)):this.isLabel&&(t.width=this._makeYAxisWidth(this.dataProcessor.getCategories()),this.boundsMaker.registerBaseDimension(this.componentName,t)))},registerAdditionalDimension:function(){var t,e=this.boundsMaker.axesData;this._isValidAxis()&&("yAxis"!==this.componentType||this.isLabel||(t={width:this._makeYAxisWidth(e.yAxis.labels)},this.boundsMaker.registerBaseDimension(this.componentName,t)))},_renderOppositeSideTickArea:function(t){var e;return this.options.isCenter&&(e=n.create("DIV","tui-chart-tick-area opposite-side"),e.innerHTML=t),e},_addCssClasses:function(t){n.addClass(t,this.data.isVertical?"vertical":"horizontal"),n.addClass(t,this.options.isCenter?"center":""),n.addClass(t,this.options.divided?"division":""),n.addClass(t,this.data.isPositionRight?"right":"")},_renderChildContainers:function(t,e,i,n,s){var a,r,o=this._renderTitleArea(t),u=this._renderLabelArea(t,e,i,n,s),h=[o,u],l=this.data.isVertical&&this.data.aligned;return l||(a=this._renderTickArea(t,i,n,s),r=this._renderOppositeSideTickArea(a.innerHTML),h=h.concat([a,r])),h},_renderDivisionAxisArea:function(t,e){var i,s,a,r=Math.round(e/2),o=e-r,u=this.data.tickCount,h=parseInt(u/2,10)+1,l=this.data.labels,c=l.slice(0,h),d=l.slice(h-1,u),p=r+this.boundsMaker.getDimension("yAxis").width;i=this._renderChildContainers(r,r,h,c),s=this._renderChildContainers(o,o,h,d,p),a=s[0],n.addClass(a,"right"),n.append(t,i.concat(s))},_renderSingleAxisArea:function(t,e){var i=!!this.data.isVertical,s=i?e.height:e.width,a=this._renderChildContainers(s,e.width,this.data.tickCount,this.data.labels);n.append(t,a)},_renderAxisArea:function(t){var e=tui.util.extend({},this.boundsMaker.getDimension(this.componentName));this._addCssClasses(t),this.options.divided?(this._renderDivisionAxisArea(t,e.width),e.width+=this.boundsMaker.getDimension("yAxis").width):(this._renderSingleAxisArea(t,e),e.width+=this.options.isCenter?2:0),r.renderDimension(t,e),r.renderPosition(t,this.boundsMaker.getPosition(this.componentName))},render:function(t){var e=n.create("DIV",this.className);return this.data=t,this._renderAxisArea(e),this.axisContainer=e,e},rerender:function(t){this.axisContainer.innerHTML="",this._isValidAxis()&&(t.options&&(this.options=t.options),this.data=t,this._renderAxisArea(this.axisContainer))},resize:function(t,e){this.rerender(t,e)},_renderTitleAreaStyle:function(t,e){var i,n,s,a=this.data.isPositionRight,o=[r.concatStr("width:",e,"px")];a?(r.isIE7()?o.push(r.concatStr("right:","0px")):o.push(r.concatStr("right:",-e,"px")),o.push("top:0px")):this.options.isCenter?(i=r.getRenderedLabelWidth(this.options.title,this.theme.title),n=this.boundsMaker.getDimension("yAxis").width,s=this.boundsMaker.getDimension("xAxis").height,o=["left:"+(n-i)/2+"px","bottom: -"+s+"px"]):(o.push("left:0px"),r.isOldBrowser()||o.push(r.concatStr("top:",e,"px"))),t.style.cssText+=";"+o.join(";")},_renderTitleArea:function(t){var e=r.renderTitle(this.options.title,this.theme.title,"tui-chart-title-area");return e&&this.data.isVertical&&this._renderTitleAreaStyle(e,t),e},_renderTickArea:function(t,e,i,u){var h,l,c=this.data,d=!c.isVertical&&!this.options.divided,p=this.theme.tickColor,m=a.makeTickPixelPositions(t,e),f=n.create("DIV","tui-chart-tick-area"),g=c.isVertical?"bottom":"left",_=o.tplAxisTick,v="";return u=u||0,c.isVertical||(h=d?1:0,v=o.tplTickLine({lineLeft:u-h,lineWidth:t+h})),l=tui.util.map(m,function(t,e){var n,a;return c.aligned&&i[e]===s.EMPTY_AXIS_LABEL?n="":(t-=0===e&&d?1:0,a=[r.concatStr("background-color:",p),r.concatStr(g,": ",u+t,"px")].join(";"),n=_({cssText:a})),n}).join(""),f.innerHTML=v+l,f},_makeVerticalLabelCssText:function(t,e){return";width:"+(t-e+s.V_LABEL_RIGHT_PADDING)+"px"},_applyLabelAreaStyle:function(t,e){var i,n=r.makeFontCssText(this.theme.label);this.data.isVertical&&(i=this._getRenderedTitleHeight()+s.TITLE_AREA_WIDTH_PADDING,n+=this._makeVerticalLabelCssText(e,i)),t.style.cssText=n},_renderLabelArea:function(t,e,i,s,r){var o,u=n.create("DIV","tui-chart-label-area"),h=a.makeTickPixelPositions(t,i),l=h[1]-h[0];return r=r||0,o=this._makeLabelsHtml(h,s,l,r),u.innerHTML=o,this._applyLabelAreaStyle(u,e),this._changeLabelAreaPosition(u,l),u},_getRenderedTitleHeight:function(){var t=this.options.title,e=this.theme.title,i=t?r.getRenderedLabelHeight(t,e):0;return i},_makeLabelCssText:function(t){var e=this.data.isVertical,i=[];return e&&this.data.isLabelAxis?(i.push(r.concatStr("height:",t,"px")),i.push(r.concatStr("line-height:",t,"px"))):e||i.push(r.concatStr("width:",t,"px")),i.length?i.join(";")+";":""},_calculateRotationMovingPosition:function(t){var e=t.moveLeft,i=this.boundsMaker.xAxisDegree;return i===s.ANGLE_85&&(e+=a.calculateAdjacent(s.ANGLE_90-i,t.labelHeight/2)),{top:t.top,left:t.left-e}},_calculateRotationMovingPositionForIE8:function(t){var e=r.getRenderedLabelWidth(t.label,t.theme),i=this.boundsMaker.xAxisDegree,n=a.calculateAdjacent(s.ANGLE_90-i,t.labelHeight/2),o=2*(a.calculateAdjacent(i,e/2)+n),u=e-o,h=t.labelWidth/2-2*n;return i===s.ANGLE_85&&(h+=n),{top:s.XAXIS_LABEL_TOP_MARGIN,left:t.left+u-h}},_makeCssTextForRotationMoving:function(t){var e;return e=r.isOldBrowser()?this._calculateRotationMovingPositionForIE8(t):this._calculateRotationMovingPosition(t),r.concatStr("left:",e.left,"px",";top:",e.top,"px")},_makeRotationLabelsHtml:function(t,e,i,n){var u,h=this,l=o.tplAxisLabel,c=r.getRenderedLabelHeight(e[0],this.theme.label),d=this._makeLabelCssText(i),p=" tui-chart-xaxis-rotation tui-chart-xaxis-rotation"+this.boundsMaker.xAxisDegree,m=i/2,f=a.calculateAdjacent(this.boundsMaker.xAxisDegree,m),g=a.calculateOpposite(this.boundsMaker.xAxisDegree,m)+s.XAXIS_LABEL_TOP_MARGIN;return n=n||0,u=tui.util.map(t,function(t,s){var a=e[s],r=h._makeCssTextForRotationMoving({labelHeight:c,labelWidth:i,top:g,left:t+n,moveLeft:f,label:a,theme:h.theme.label});return l({additionalClass:p,cssText:d+r,label:a})}).join("")},_makeNormalLabelsHtml:function(t,e,i,n){var s,a,u=o.tplAxisLabel,h=this._makeLabelCssText(i);return n=n||0,s=this.data.isVertical?this.data.isLabelAxis?"top":"bottom":"left",a=tui.util.map(t,function(t,i){var a=r.concatStr(s,":",t+n,"px");return u({additionalClass:"",cssText:h+a,label:e[i]})}).join("")},_makeLabelsHtml:function(t,e,i,n){var s,a=!this.data.isVertical&&this.data.isLabelAxis&&this.options.rotation===!1,r="xAxis"===this.componentName&&this.boundsMaker.xAxisDegree;return a&&(e=this.dataProcessor.getMultilineCategories()),t.length=e.length,s=r?this._makeRotationLabelsHtml(t,e,i,n):this._makeNormalLabelsHtml(t,e,i,n)},_changeLabelAreaPosition:function(t,e){var i;this.data.isLabelAxis&&!this.data.aligned||(this.data.isVertical?(i=r.getRenderedLabelHeight("ABC",this.theme.label),t.style.top=r.concatStr(parseInt(i/2,10),"px")):t.style.left=r.concatStr("-",parseInt(e/2,10),"px"))}});e.exports=u},{"../const":19,"../helpers/calculator":41,"../helpers/domHandler":43,"../helpers/renderUtil":47,"./axisTemplate":2}],2:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_AXIS_TICK_LINE:'<div class="tui-chart-tick-line" style="left:{{ lineLeft }}px;width:{{ lineWidth }}px"></div>',HTML_AXIS_TICK:'<div class="tui-chart-tick" style="{{ cssText }}"></div>',HTML_AXIS_LABEL:'<div class="tui-chart-label{{ additionalClass }}" style="{{ cssText }}"><span>{{ label }}</span></div>'};e.exports={tplTickLine:n.template(s.HTML_AXIS_TICK_LINE),tplAxisTick:n.template(s.HTML_AXIS_TICK),tplAxisLabel:n.template(s.HTML_AXIS_LABEL)}},{"../helpers/templateMaker":48}],3:[function(t,e,i){"use strict";var n,s=t("./const"),a=t("./factories/chartFactory"),r=t("./factories/pluginFactory"),o=t("./factories/themeFactory"),u=t("./factories/mapFactory");t("./polyfill"),t("./code-snippet-util"),t("./registerCharts"),t("./registerThemes"),tui.util.defineNamespace("tui.chart"),n=function(t,e,i){var n,r,u;return e=JSON.parse(JSON.stringify(e)),i=i?JSON.parse(JSON.stringify(i)):{},n=i.theme||s.DEFAULT_THEME_NAME,r=o.get(n),u=a.get(i.chartType,e,r,i),t.appendChild(u.render()),u.animateChart(),u},tui.chart.barChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_BAR,n(t,e,i)},tui.chart.columnChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_COLUMN,n(t,e,i)},tui.chart.lineChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_LINE,n(t,e,i)},tui.chart.areaChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_AREA,n(t,e,i)},tui.chart.comboChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_COMBO,n(t,e,i)},tui.chart.pieChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_PIE,n(t,e,i)},tui.chart.mapChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_MAP,i.map=u.get(i.map),n(t,e,i)},tui.chart.registerTheme=function(t,e){o.register(t,e)},tui.chart.registerMap=function(t,e){u.register(t,e)},tui.chart.registerPlugin=function(t,e){r.register(t,e)}},{"./code-snippet-util":18,"./const":19,"./factories/chartFactory":34,"./factories/mapFactory":35,"./factories/pluginFactory":36,"./factories/themeFactory":37,"./polyfill":66,"./registerCharts":67,"./registerThemes":68}],4:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("./lineTypeMixer"),a=t("./axisTypeMixer"),r=t("../helpers/rawDataHandler"),o=t("../series/areaChartSeries"),u=tui.util.defineClass(n,{className:"tui-area-chart",Series:o,init:function(t,e,i){r.removeSeriesStack(t.series),this._lineTypeInit(t,e,i)}});a.mixin(u),s.mixin(u),e.exports=u},{"../helpers/rawDataHandler":46,"../series/areaChartSeries":69,"./axisTypeMixer":5,"./chartBase":8,"./lineTypeMixer":13}],5:[function(t,e,i){"use strict";var n=t("../helpers/renderUtil"),s=t("./chartBase"),a=t("../axes/axis"),r=t("../plots/plot"),o=t("../legends/legend"),u=t("../customEvents/groupTypeCustomEvent"),h=t("../customEvents/pointTypeCustomEvent"),l=t("../tooltips/tooltip"),c=t("../tooltips/groupTooltip"),d={_addAxisComponents:function(t,e){var i=this;tui.util.forEach(t,function(t){var n={aligned:e,isLabel:!!t.isLabel,chartType:t.chartType};"rightYAxis"===t.name&&(n.componentType="yAxis",n.index=1),i.componentManager.register(t.name,a,n)})},_addSeriesComponents:function(t,e){var i=this,n={libType:e.libType,chartType:e.chartType,userEvent:this.userEvent,componentType:"series"};tui.util.forEach(t,function(t){var e=tui.util.extend(n,t.data);i.componentManager.register(t.name,t.SeriesClass,e)})},_addTooltipComponent:function(){var t=this.hasGroupTooltip?c:l;this.componentManager.register("tooltip",t,this._makeTooltipData())},_addLegendComponent:function(t,e,i){i&&i.hidden||this.componentManager.register("legend",o,{chartTypes:t,chartType:e,userEvent:this.userEvent})},_addComponentsForAxisType:function(t){var e=this.options,i=!!t.aligned;this.componentManager.register("plot",r),this._addAxisComponents(t.axes,i),this._addLegendComponent(t.seriesChartTypes,t.chartType,this.options.legend),this._addSeriesComponents(t.serieses,e),this._addTooltipComponent(e.chartType)},_getLimitMap:function(t,e){var i={},n=t.yAxis?t.yAxis.limit:t.rightYAxis.limit;return i[e[0]]=this.isVertical?n:t.xAxis.limit,e.length>1&&(i[e[1]]=t.rightYAxis?t.rightYAxis.limit:n),i},_makeSeriesDataForRendering:function(t,e){var i=this._getLimitMap(t,e),n=t.xAxis.aligned,s={};return tui.util.forEachArray(e,function(t){s[t+"Series"]={limit:i[t],aligned:n,hasAxes:!0}}),s},_addDataRatios:function(t){var e=this,i=this.chartTypes||[this.chartType],n=this._getLimitMap(t,i),s=this.options.series&&this.options.series.stacked;tui.util.forEachArray(i,function(t){e.dataProcessor.addDataRatios(n[t],s,t)})},_makeRenderingData:function(t){var e=this.chartTypes||[this.chartType],i=this._makeSeriesDataForRendering(t,e,this.isVertical),n=t.yAxis?t.yAxis:t.rightYAxis;return tui.util.extend({plot:{vTickCount:n.validTickCount,hTickCount:t.xAxis.validTickCount},customEvent:{tickCount:this.isVertical?t.xAxis.tickCount:n.tickCount}},i,t)},_addCustomEventComponentForGroupTooltip:function(){this.componentManager.register("customEvent",u,{chartType:this.chartType,isVertical:this.isVertical})},_addCustomEventComponentForNormalTooltip:function(){this.componentManager.register("customEvent",h,{chartType:this.chartType,isVertical:this.isVertical})},_addCustomEventComponent:function(){this.hasGroupTooltip?this._addCustomEventComponentForGroupTooltip():this._addCustomEventComponentForNormalTooltip()},_attachCustomEventForGroupTooltip:function(t,e,i){t.on("showGroupTooltip",e.onShow,e),t.on("hideGroupTooltip",e.onHide,e),tui.util.forEach(i,function(t){t.onShowGroupTooltipLine&&(e.on("showGroupTooltipLine",t.onShowGroupTooltipLine,t),e.on("hideGroupTooltipLine",t.onHideGroupTooltipLine,t)),e.on("showGroupAnimation",t.onShowGroupAnimation,t),e.on("hideGroupAnimation",t.onHideGroupAnimation,t)})},_attachCustomEventForNormalTooltip:function(t,e,i){t.on("showTooltip",e.onShow,e),t.on("hideTooltip",e.onHide,e),tui.util.forEach(i,function(t){var i,s;t.onShowAnimation&&(i=n.makeCustomEventName("show",t.chartType,"animation"),s=n.makeCustomEventName("hide",t.chartType,"animation"),e.on(i,t.onShowAnimation,t),e.on(s,t.onHideAnimation,t))})},_attachCustomEventForSeriesSelection:function(t,e){tui.util.forEach(e,function(e){var i=n.makeCustomEventName("select",e.chartType,"series"),s=n.makeCustomEventName("unselect",e.chartType,"series");t.on(i,e.onSelectSeries,e),t.on(s,e.onUnselectSeries,e)})},_attachCustomEvent:function(){var t=this.componentManager.where({componentType:"series"}),e=this.componentManager.get("customEvent"),i=this.componentManager.get("tooltip");s.prototype._attachCustomEvent.call(this,t),this.hasGroupTooltip?this._attachCustomEventForGroupTooltip(e,i,t):this._attachCustomEventForNormalTooltip(e,i,t),this._attachCustomEventForSeriesSelection(e,t)},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=d},{"../axes/axis":1,"../customEvents/groupTypeCustomEvent":23,"../customEvents/pointTypeCustomEvent":26,"../helpers/renderUtil":47,"../legends/legend":50,"../plots/plot":55,"../tooltips/groupTooltip":81,"../tooltips/tooltip":85,"./chartBase":8}],6:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../const"),a=t("./axisTypeMixer"),r=t("./barTypeMixer"),o=t("../helpers/predicate"),u=t("../helpers/axisDataMaker"),h=t("../series/barChartSeries"),l=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-bar-chart",this.hasRightYAxis=!1,i.yAxis=i.yAxis||{},i.xAxis=i.xAxis||{},i.plot=i.plot||{},i.series=i.series||{},o.isValidStackedOption(i.series.stacked)&&(t.series=this._sortRawSeriesData(t.series)),i.series.diverging&&(t.series=this._makeRawSeriesDataForDiverging(t.series,i.series.stacked),this._updateDivergingOption(i)),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0}),this._addComponents(i.chartType)},_updateDivergingOption:function(t){var e;t.series.stacked=t.series.stacked||s.STACKED_NORMAL_TYPE,this.hasRightYAxis=tui.util.isArray(t.yAxis)&&t.yAxis.length>1,e=o.isYAxisAlignCenter(this.hasRightYAxis,t.yAxis.align),t.yAxis.isCenter=e,t.xAxis.divided=e,t.series.divided=e,t.plot.divided=e},_makeAxesData:function(){var t=this._createAxisScaleMaker({min:this.options.xAxis.min,max:this.options.xAxis.max}),e=u.makeValueAxisData({axisScaleMaker:t}),i=u.makeLabelAxisData({labels:this.dataProcessor.getCategories(),isVertical:!0}),n={xAxis:e,yAxis:i};return this.hasRightYAxis&&(n.rightYAxis=tui.util.extend({isPositionRight:!0},JSON.parse(JSON.stringify(i)))),n},_addComponents:function(t){var e=[{name:"yAxis",isLabel:!0},{name:"xAxis"}];this.hasRightYAxis&&e.push({name:"rightYAxis",isLabe:!0}),this._addComponentsForAxisType({axes:e,chartType:t,serieses:[{name:"barSeries",SeriesClass:h}]})},onChangeCheckedLegends:function(t){var e;this.hasRightYAxis&&(e={optionChartTypes:["bar","bar"]}),n.prototype.onChangeCheckedLegends.call(this,t,null,e)}});a.mixin(l),r.mixin(l),e.exports=l},{"../const":19,"../helpers/axisDataMaker":38,"../helpers/predicate":45,"../series/barChartSeries":70,"./axisTypeMixer":5,"./barTypeMixer":7,"./chartBase":8}],7:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/rawDataHandler"),a=t("../helpers/predicate"),r={_makeMinusValues:function(t){return tui.util.map(t,function(t){return 0>t?0:-t})},_makePlusValues:function(t){return tui.util.map(t,function(t){return 0>t?0:t})},_makeNormalDivergingRawSeriesData:function(t){return t.length=Math.min(t.length,2),t[0].data=this._makeMinusValues(t[0].data),t[1]&&(t[1].data=this._makePlusValues(t[1].data)),t},_makeStackedDivergingRawSeriesData:function(t){var e=this,i=s.pickStacks(t),a=[],r=i[0],o=i[1];return t=s.sortSeriesData(t,i),tui.util.forEachArray(t,function(t){var i=t.stack||n.DEFAULT_STACK;i===r?(t.data=e._makeMinusValues(t.data),a.push(t)):i===o&&(t.data=e._makePlusValues(t.data),a.push(t))}),a},_makeRawSeriesDataForDiverging:function(t,e){return t=a.isValidStackedOption(e)?this._makeStackedDivergingRawSeriesData(t):this._makeNormalDivergingRawSeriesData(t)},_sortRawSeriesData:function(t){var e=s.pickStacks(t);return s.sortSeriesData(t,e)},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=r},{"../const":19,"../helpers/predicate":45,"../helpers/rawDataHandler":46}],8:[function(t,e,i){"use strict";var n=t("./componentManager"),s=t("../dataModels/dataProcessor"),a=t("../helpers/boundsMaker"),r=t("../helpers/axisScaleMaker"),o=t("../helpers/domHandler"),u=t("../helpers/renderUtil"),h=t("../helpers/predicate"),l=t("../helpers/userEventListener"),c=tui.util.defineClass({init:function(t){this.rawData=t.rawData,this.theme=t.theme,this.options=t.options,this.chartType=this.options.chartType,this.hasAxes=t.hasAxes,this.isVertical=!!t.isVertical,this.hasGroupTooltip=!!tui.util.pick(this.options,"tooltip","grouped"),this.dataProcessor=this._createDataProcessor(t.DataProcessor||s,t),this.boundsMaker=new a({options:this.options,theme:this.theme,dataProcessor:this.dataProcessor,hasAxes:this.hasAxes,isVertical:this.isVertical,chartType:this.chartType}),this.componentManager=new n({dataProcessor:this.dataProcessor,options:this.options,theme:this.theme,boundsMaker:this.boundsMaker,hasAxes:this.hasAxes}),this.userEvent=new l,this.orgWholeLegendData=null,h.isMapChart(this.chartType)||(this.orgWholeLegendData=this.dataProcessor.getWholeLegendData()),this._addCustomEventComponent()},_createDataProcessor:function(t,e){var i=new t(e.rawData,e.options,e.seriesChartTypes);return i},_createAxisScaleMaker:function(t,e,i){var n=this.options.series||{};return i=i||this.chartType,n=n[i]||n,new r(tui.util.extend({dataProcessor:this.dataProcessor,boundsMaker:this.boundsMaker,options:{stacked:n.stacked,diverging:n.diverging,limit:t},isVertical:this.isVertical,chartType:i},e))},_makeTooltipData:function(){return{isVertical:this.isVertical,userEvent:this.userEvent,chartType:this.chartType}},_addCustomEventComponent:function(){},_makeRenderingData:function(){return{}},_attachCustomEvent:function(t){var e=this.componentManager.get("legend");t=t||this.componentManager.where({componentType:"series"}),e&&(e.on("changeCheckedLegends",this.onChangeCheckedLegends,this),tui.util.forEach(t,function(t){var i=u.makeCustomEventName("select",t.chartType,"legend");e.on(i,t.onSelectLegend,t)}))},_makeAxesData:function(){},_addDataRatios:function(){},_executeComponentFunc:function(t){this.componentManager.each(function(e){e[t]&&e[t]()})},_render:function(t){var e,i;this._executeComponentFunc("registerDimension"),e=this._makeAxesData(),this.boundsMaker.registerAxesData(e),this._executeComponentFunc("registerAdditionalDimension"),this.boundsMaker.registerBoundsData(),this._addDataRatios(e),i=this._makeRenderingData(e),t(i),this._sendSeriesData()},render:function(){var t=o.create("DIV",this.className),e=this;return o.addClass(t,"tui-chart"),this._renderTitle(t),u.renderDimension(t,this.boundsMaker.getDimension("chart")),u.renderBackground(t,this.theme.chart.background),u.renderFontFamily(t,this.theme.chart.fontFamily),this._render(function(i){e._renderComponents(i,"render",t)}),this._attachCustomEvent(),this.chartContainer=t,t},_filterRawData:function(t,e){var i=JSON.parse(JSON.stringify(t));return tui.util.isArray(i.series)?i.series=tui.util.filter(i.series,function(t,i){return e[i]}):tui.util.forEach(i.series,function(t,n){e[n]?e[n].length&&(i.series[n]=tui.util.filter(t,function(t,i){return e[n][i]})):i.series[n]=[]}),i},_makeRerenderingData:function(t,e){var i=this._makeTooltipData(),n=this.componentManager.where({componentType:"series"});return t.tooltip=tui.util.extend({checkedLegends:e},i,t.tooltip),tui.util.forEach(n,function(i){t[i.componentName]=tui.util.extend({checkedLegends:e[i.chartType]||e},t[i.componentName])}),t},_rerender:function(t,e){var i,n=this;e=e||this._filterRawData(this.dataProcessor.getRawData(),t),this.dataProcessor.updateRawData(e),i=this.dataProcessor.getWholeLegendData(),this.dataProcessor.setWholeLegendData(this.orgWholeLegendData),this.boundsMaker.initBoundsData(),this._render(function(e){e=n._makeRerenderingData(e,t),n.dataProcessor.setWholeLegendData(i),n._renderComponents(e,"rerender")})},onChangeCheckedLegends:function(t,e,i){this._rerender(t,e,i)},_renderTitle:function(t){var e=this.options.chart||{},i=u.renderTitle(e.title,this.theme.title,"tui-chart-title");o.append(t,i)},_renderComponents:function(t,e,i){var n=this.componentManager.map(function(i){var n=t[i.componentName],s=null;return i[e]&&(s=i[e](n)),s});i&&o.append(i,n)},_sendSeriesData:function(){var t,e,i=this,n=this.componentManager.get("customEvent");n&&(e=this.chartTypes||[this.chartType],t=tui.util.map(e,function(t){var e=i.componentManager.get(t+"Series")||i.componentManager.get("series");return{chartType:t,data:e.getSeriesData()}}),n.initCustomEventData(t))},_makeAnimationEventName:function(t,e){return e+t.substring(0,1).toUpperCase()+t.substring(1)+"Animation"},animateChart:function(){this.componentManager.each(function(t){t.animateComponent&&t.animateComponent()})},on:function(t,e){this.userEvent.register(t,e)},_updateDimension:function(t){var e=!1;return t.width&&(this.options.chart.width=t.width,e=!0),t.height&&(this.options.chart.height=t.height,e=!0),e},resize:function(t){var e,i=this;t&&(e=this._updateDimension(t),e&&(this.boundsMaker.initBoundsData(this.options.chart),u.renderDimension(this.chartContainer,this.boundsMaker.getDimension("chart")),this._render(function(t){i._renderComponents(t,"resize")})))},setTooltipAlign:function(t){this.componentManager.get("tooltip").setAlign(t)},setTooltipPosition:function(t){this.componentManager.get("tooltip").setPosition(t)},resetTooltipAlign:function(){this.componentManager.get("tooltip").resetAlign()},resetTooltipPosition:function(){this.componentManager.get("tooltip").resetPosition()},showSeriesLabel:function(){var t=this.componentManager.where({componentType:"series"});tui.util.forEachArray(t,function(t){t.showLabel()})},hideSeriesLabel:function(){var t=this.componentManager.where({componentType:"series"});tui.util.forEachArray(t,function(t){t.hideLabel()})}});e.exports=c},{"../dataModels/dataProcessor":29,"../helpers/axisScaleMaker":39,"../helpers/boundsMaker":40,"../helpers/domHandler":43,"../helpers/predicate":45,"../helpers/renderUtil":47,"../helpers/userEventListener":49,"./componentManager":11}],9:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../const"),a=t("./axisTypeMixer"),r=t("./barTypeMixer"),o=t("../helpers/predicate"),u=t("../helpers/axisDataMaker"),h=t("../series/columnChartSeries"),l=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-column-chart",i.series=i.series||{},i.yAxis=i.yAxis||{},o.isValidStackedOption(i.series.stacked)&&(t.series=this._sortRawSeriesData(t.series)),i.series.diverging&&(t.series=this._makeRawSeriesDataForDiverging(t.series,i.series.stacked),i.series.stacked=i.series.stacked||s.STACKED_NORMAL_TYPE),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0}),this._addComponents(i.chartType)},_makeAxesData:function(){var t=this.options,e=this._createAxisScaleMaker({min:t.yAxis.min,max:t.yAxis.max}),i=u.makeLabelAxisData({labels:this.dataProcessor.getCategories(),options:t.xAxis}),n=u.makeValueAxisData({axisScaleMaker:e,isVertical:this.isVertical});return{xAxis:i,yAxis:n}},_addComponents:function(t){this._addComponentsForAxisType({axes:[{name:"yAxis"},{name:"xAxis",isLabel:!0}],chartType:t,serieses:[{name:"columnSeries",SeriesClass:h,data:{allowNegativeTooltip:!0}}]})}});a.mixin(l),r.mixin(l),e.exports=l},{"../const":19,"../helpers/axisDataMaker":38,"../helpers/predicate":45,"../series/columnChartSeries":72,"./axisTypeMixer":5,"./barTypeMixer":7,"./chartBase":8}],10:[function(t,e,i){"use strict";var n=t("../helpers/calculator"),s=t("../helpers/renderUtil"),a=t("./chartBase"),r=t("./axisTypeMixer"),o=t("../helpers/axisDataMaker"),u=t("../themes/defaultTheme"),h=t("../series/columnChartSeries"),l=t("../series/lineChartSeries"),c=tui.util.defineClass(a,{init:function(t,e,i){var n;this.className="tui-combo-chart",n=this._makeChartTypesMap(t.series,i.yAxis),tui.util.extend(this,n),a.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0,seriesChartTypes:n.seriesChartTypes}),this.yAxisOptionsMap=this._makeYAxisOptionsMap(n.chartTypes,i.yAxis),this._addComponents(n)},_makeYAxisOptionsMap:function(t,e){var i={};return e=e||{},tui.util.forEachArray(t,function(t,n){i[t]=e[n]||e}),i},_makeChartTypesMap:function(t,e){var i,n=tui.util.keys(t).sort(),s=this._getYAxisOptionChartTypes(n,e),a=s.length?s:n,r=tui.util.filter(s,function(e){return t[e].length});return i=1===r.length?{chartTypes:r,seriesChartTypes:r,optionChartTypes:s.length?r:s}:{chartTypes:a,seriesChartTypes:n,optionChartTypes:s}},_makeOptionsMap:function(t){var e=this,i={};return tui.util.forEachArray(t,function(t){i[t]=e.options.series[t]||e.options.series}),i},_makeThemeMap:function(t){var e=this,i=this.theme,n={},s=0;return tui.util.forEachArray(t,function(t){var a,r=JSON.parse(JSON.stringify(i));r.series[t]?n[t]=r.series[t]:r.series.colors?(a=r.series.colors.splice(0,s),r.series.colors=r.series.colors.concat(a),n[t]=r.series,s+=e.dataProcessor.getLegendLabels(t).length):(n[t]=JSON.parse(JSON.stringify(u.series)),n[t].label.fontFamily=r.chart.fontFamily)}),n},_makeSerieses:function(t){var e,i={column:h,line:l},n=this._makeOptionsMap(t),s=this._makeThemeMap(t);return e=tui.util.map(t,function(t){var e={allowNegativeTooltip:!0,componentType:"series",chartType:t,options:n[t],theme:s[t]};return{name:t+"Series",SeriesClass:i[t],data:e}})},_addComponents:function(t){var e=[{name:"yAxis",isLabel:!0,chartType:t.chartTypes[0]},{name:"xAxis"}],i=this._makeSerieses(t.seriesChartTypes);t.optionChartTypes.length&&e.push({name:"rightYAxis",isLabel:!0,chartType:t.chartTypes[1]}),this._addComponentsForAxisType({axes:e,seriesChartTypes:t.seriesChartTypes,chartType:this.options.chartType,serieses:i})},_getYAxisOptionChartTypes:function(t,e){var i,n=t.slice(),s=!1;return e=e?[].concat(e):[],1!==e.length||e[0].chartType?e.length&&(i=tui.util.map(e,function(t){return t.chartType}),tui.util.forEachArray(i,function(t,e){s=s||t&&n[e]!==t||!1}),s&&n.reverse()):n=[],n},_makeYAxisData:function(t){var e,i,n=t.index,s=t.chartTypes[n],a=this.yAxisOptionsMap[s];return s?(e=this._createAxisScaleMaker({min:a.min,max:a.max},{isSingleYAxis:t.isSingleYAxis},s),i=o.makeValueAxisData({axisScaleMaker:e,isVertical:!0,isSingleYAxis:t.isSingleYAxis}),i.options=a,i):{}},_updateYAxisTickCount:function(t,e){var i=e.tickCount-t.tickCount;i>0?this._increaseYAxisTickCount(i,t):0>i&&this._increaseYAxisTickCount(-i,e)},_makeAxesData:function(){var t,e={chartTypes:this.chartTypes,isSingleYAxis:!this.optionChartTypes.length},i=o.makeLabelAxisData({labels:this.dataProcessor.getCategories()}),n=this._makeYAxisData(tui.util.extend({index:0},e)),s={yAxis:n,xAxis:i};return e.isSingleYAxis||(t=this._makeYAxisData(tui.util.extend({index:1},e)),t.aligned=i.aligned,t.isPositionRight=!0,this._updateYAxisTickCount(n,t),s.rightYAxis=t),s},_increaseYAxisTickCount:function(t,e){var i,a=this.dataProcessor.getFormatFunctions();e.limit.max+=e.step*t,i=n.makeLabelsFromLimit(e.limit,e.step),e.labels=s.formatValues(i,a),e.tickCount+=t,e.validTickCount+=t},onChangeCheckedLegends:function(t){var e=this._filterRawData(this.rawData,t),i=this._makeChartTypesMap(e.series,this.options.yAxis);tui.util.extend(this,i),a.prototype.onChangeCheckedLegends.call(this,t,e,i)}});r.mixin(c),e.exports=c},{"../helpers/axisDataMaker":38,"../helpers/calculator":41,"../helpers/renderUtil":47,"../series/columnChartSeries":72,"../series/lineChartSeries":73,"../themes/defaultTheme":80,"./axisTypeMixer":5,"./chartBase":8}],11:[function(t,e,i){"use strict";var n=tui.util.defineClass({init:function(t){this.components=[],this.componentMap={},this.theme=t.theme||{},this.options=t.options||{},this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.hasAxes=t.hasAxes},_makeComponentOptions:function(t,e,i){return t=t||this.options[e],t=tui.util.isArray(t)?t[i]:t||{}},register:function(t,e,i){var n,s,a;i=i||{},a=i.componentType||t,n=i.index||0,i.theme=i.theme||this.theme[a],i.options=this._makeComponentOptions(i.options,a,n),i.dataProcessor=this.dataProcessor,i.boundsMaker=this.boundsMaker,i.hasAxes=this.hasAxes,s=new e(i),s.componentName=t,s.componentType=a,this.components.push(s),this.componentMap[t]=s},each:function(t){tui.util.forEachArray(this.components,t)},map:function(t){return tui.util.map(this.components,t)},where:function(t){return tui.util.filter(this.components,function(e){var i=!0;return tui.util.forEach(t,function(t,n){return e[n]!==t&&(i=!1),i}),i})},get:function(t){return this.componentMap[t]}});e.exports=n},{}],12:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("./lineTypeMixer"),a=t("./axisTypeMixer"),r=t("../series/lineChartSeries"),o=tui.util.defineClass(n,{className:"tui-line-chart",Series:r,init:function(){this._lineTypeInit.apply(this,arguments)}});a.mixin(o),s.mixin(o),e.exports=o},{"../series/lineChartSeries":73,"./axisTypeMixer":5,"./chartBase":8,"./lineTypeMixer":13}],13:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../helpers/predicate"),a=t("../helpers/axisDataMaker"),r=t("../customEvents/areaTypeCustomEvent"),o={_lineTypeInit:function(t,e,i){n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0}),this._addComponents(i.chartType)},_makeAxesData:function(){var t=this.options,e=this._createAxisScaleMaker({min:t.yAxis.min,max:t.yAxis.max}),i=s.isLineTypeChart(t.chartType),n=a.makeLabelAxisData({labels:this.dataProcessor.getCategories(),aligned:i,options:t.xAxis
}),r=a.makeValueAxisData({axisScaleMaker:e,isVertical:this.isVertical,aligned:i});return{xAxis:n,yAxis:r}},_addCustomEventComponentForNormalTooltip:function(){this.componentManager.register("customEvent",r,{chartType:this.chartType,isVertical:this.isVertical})},_addComponents:function(t){this._addComponentsForAxisType({axes:[{name:"yAxis"},{name:"xAxis",isLabel:!0}],chartType:t,serieses:[{name:this.options.chartType+"Series",SeriesClass:this.Series}]})},render:function(){return n.prototype.render.apply(this,arguments)},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=o},{"../customEvents/areaTypeCustomEvent":20,"../helpers/axisDataMaker":38,"../helpers/predicate":45,"./chartBase":8}],14:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../const"),a=t("./mapChartMapModel"),r=t("./mapChartColorModel"),o=t("../dataModels/mapChartDataProcessor"),u=t("../helpers/axisDataMaker"),h=t("../series/mapChartSeries"),l=t("../series/zoom"),c=t("../legends/mapChartLegend"),d=t("../tooltips/mapChartTooltip"),p=t("../customEvents/mapChartCustomEvent"),m=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-map-chart",i.tooltip=i.tooltip||{},i.legend=i.legend||{},n.call(this,{rawData:t,theme:e,options:i,DataProcessor:o}),this._addComponents(i)},_addComponents:function(t){t.legend=t.legend||{},this.componentManager.register("legend",c),this.componentManager.register("tooltip",d,this._makeTooltipData()),this.componentManager.register("mapSeries",h,{libType:t.libType,chartType:t.chartType,componentType:"series",userEvent:this.userEvent}),this.componentManager.register("zoom",l)},_addCustomEventComponent:function(){this.componentManager.register("customEvent",p,{chartType:this.chartType})},_makeAxesData:function(){var t=this._createAxisScaleMaker({},{valueCount:s.MAP_CHART_LEGEND_TICK_COUNT});return u.makeValueAxisData({axisScaleMaker:t,isVertical:!0})},_addDataRatios:function(t){this.dataProcessor.addDataRatios(t.limit)},_makeRenderingData:function(t){var e=this.theme.series,i=new r(e.startColor,e.endColor),n=new a(this.dataProcessor,this.options.map);return{legend:{colorModel:i,axesData:t},mapSeries:{mapModel:n,colorModel:i},tooltip:{mapModel:n}}},_attachCustomEvent:function(){var t=this.componentManager.get("customEvent"),e=this.componentManager.get("mapSeries"),i=this.componentManager.get("legend"),n=this.componentManager.get("tooltip"),s=this.componentManager.get("zoom");t.on({clickMapSeries:e.onClickSeries,moveMapSeries:e.onMoveSeries,dragStartMapSeries:e.onDragStartSeries,dragMapSeries:e.onDragSeries,dragEndMapSeries:e.onDragEndSeries,wheel:tui.util.bind(s.onWheel,s)},e),e.on({showWedge:i.onShowWedge,hideWedge:i.onHideWedge},i),e.on({showTooltip:n.onShow,hideTooltip:n.onHide,showTooltipContainer:n.onShowTooltipContainer,hideTooltipContainer:n.onHideTooltipContainer},n),s.on("zoom",e.onZoom,e,e)}});e.exports=m},{"../const":19,"../customEvents/mapChartCustomEvent":24,"../dataModels/mapChartDataProcessor":33,"../helpers/axisDataMaker":38,"../legends/mapChartLegend":54,"../series/mapChartSeries":75,"../series/zoom":79,"../tooltips/mapChartTooltip":83,"./chartBase":8,"./mapChartColorModel":15,"./mapChartMapModel":16}],15:[function(t,e,i){"use strict";var n=t("../helpers/colorutil"),s=tui.util.defineClass({init:function(t,e){var i;this.start=n.colorNameToHex(t),this.startRGB=n.hexToRGB(this.start),this.end=n.colorNameToHex(e),i=n.hexToRGB(this.end),this.distances=this._makeDistances(this.startRGB,i),this.colorMap={}},_makeDistances:function(t,e){return tui.util.map(t,function(t,i){return e[i]-t})},getColor:function(t){var e,i,s=this.colorMap[t];return s||(e=this.distances,i=tui.util.map(this.startRGB,function(i,n){return i+parseInt(e[n]*t,10)}),s=n.rgbToHEX.apply(null,i)),s}});e.exports=s},{"../helpers/colorutil":42}],16:[function(t,e,i){"use strict";var n=t("../const"),s=tui.util.defineClass({init:function(t,e){this.commandFuncMap={M:tui.util.bind(this._makeCoordinate,this),m:tui.util.bind(this._makeCoordinateFromRelativeCoordinate,this),L:tui.util.bind(this._makeCoordinate,this),l:tui.util.bind(this._makeCoordinateFromRelativeCoordinate,this),H:tui.util.bind(this._makeXCoordinate,this),h:tui.util.bind(this._makeXCoordinateFroRelativeCoordinate,this),V:tui.util.bind(this._makeYCoordinate,this),v:tui.util.bind(this._makeYCoordinateFromRelativeCoordinate,this)},this.ignoreCommandMap={Z:!0,z:!0},this.mapData=[],this.mapDimension=null,this.dataProcessor=t,this._createMapData(e)},_splitCoordinate:function(t){var e=t.split(","),i={x:parseFloat(e[0])};return e[1]&&(i.y=parseFloat(e[1])),i},_makeCoordinate:function(t){return this._splitCoordinate(t)},_makeCoordinateFromRelativeCoordinate:function(t,e){var i=this._splitCoordinate(t);return{x:i.x+e.x,y:i.y+e.y}},_makeXCoordinate:function(t){var e=this._splitCoordinate(t);return{x:e.x}},_makeXCoordinateFroRelativeCoordinate:function(t,e){var i=this._splitCoordinate(t);return{x:i.x+e.x}},_makeYCoordinate:function(t){var e=this._splitCoordinate(t);return{y:e.x}},_makeYCoordinateFromRelativeCoordinate:function(t,e){var i=this._splitCoordinate(t);return{y:i.x+e.y}},_splitPath:function(t){for(var e,i,n=0,s=t.length,a=[],r="";s>n;n+=1)e=t.charAt(n),this.commandFuncMap[e]?(i&&r&&a.push({type:i,coordinate:r}),i=e,r=""):this.ignoreCommandMap[e]||(r+=e);return i&&r&&a.push({type:i,coordinate:r}),a},_makeCoordinatesFromPath:function(t){var e=this,i=this._splitPath(t),n={x:0,y:0};return tui.util.map(i,function(t){var i=e.commandFuncMap[t.type],s=i(t.coordinate,n);return tui.util.extend(n,s),s})},_findBoundFromCoordinates:function(t){var e=tui.util.filter(tui.util.pluck(t,"x"),function(t){return!tui.util.isUndefined(t)}),i=tui.util.filter(tui.util.pluck(t,"y"),function(t){return!tui.util.isUndefined(t)}),n=Math.max.apply(null,e),s=Math.min.apply(null,e),a=Math.max.apply(null,i),r=Math.min.apply(null,i);return{dimension:{width:n-s,height:a-r},position:{left:s,top:r}}},_makeLabelPosition:function(t,e){return e=e||n.MAP_CHART_LABEL_DEFAULT_POSITION_RATIO,{left:t.position.left+t.dimension.width*e.x,top:t.position.top+t.dimension.height*e.y}},_createMapData:function(t){var e=this;this.mapData=tui.util.map(t,function(t){var i,n,s,a,r,o=e._makeCoordinatesFromPath(t.path),u=e._findBoundFromCoordinates(o),h=e.dataProcessor.getValueMapDatum(t.code);return h&&(s=h.formattedValue,a=h.ratio,i=h.name||t.name,n=h.labelCoordinate||t.labelCoordinate),r={code:t.code,name:i,path:t.path,bound:u,labelPosition:e._makeLabelPosition(u,n)},s&&(r.formattedValue=s),a&&(r.ratio=a),r})},getMapData:function(){return this.mapData},getDatum:function(t){return this.mapData[t]},getLabelData:function(t){var e=this,i=tui.util.filter(this.mapData,function(t){return e.dataProcessor.getValueMapDatum(t.code)});return tui.util.map(i,function(e){return{name:e.name,labelPosition:{left:e.labelPosition.left*t,top:e.labelPosition.top*t}}})},_makeMapDimension:function(){var t=this.mapData,e=tui.util.map(t,function(t){return t.bound.position.left}),i=tui.util.map(t,function(t){return t.bound.position.left+t.bound.dimension.width}),n=tui.util.map(t,function(t){return t.bound.position.top}),s=tui.util.map(t,function(t){return t.bound.position.top+t.bound.dimension.height});return{width:Math.max.apply(null,i)-Math.min.apply(null,e),height:Math.max.apply(null,s)-Math.min.apply(null,n)}},getMapDimension:function(){return this.mapDimension||(this.mapDimension=this._makeMapDimension()),this.mapDimension}});e.exports=s},{"../const":19}],17:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../const"),a=t("../helpers/predicate"),r=t("../legends/legend"),o=t("../tooltips/tooltip"),u=t("../series/pieChartSeries"),h=t("../customEvents/pieChartCustomEvent"),l=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-pie-chart",i.tooltip=i.tooltip||{},i.tooltip.align||(i.tooltip.align=s.TOOLTIP_DEFAULT_ALIGN_OPTION),n.call(this,{rawData:t,theme:e,options:i}),this._addComponents(e.chart.background,i)},_addComponents:function(t,e){var i,n;e.legend=e.legend||{},i=e.legend&&e.legend.align,n=a.isPieLegendAlign(i),n||e.legend.hidden||this.componentManager.register("legend",r,{chartType:e.chartType,userEvent:this.userEvent}),this.componentManager.register("tooltip",o,this._makeTooltipData()),this.componentManager.register("pieSeries",u,{libType:e.libType,chartType:e.chartType,componentType:"series",chartBackground:t,userEvent:this.userEvent,legendAlign:n&&!e.legend.hidden?i:null})},_addCustomEventComponent:function(){this.componentManager.register("customEvent",h,{chartType:this.chartType})},_addDataRatios:function(){this.dataProcessor.addDataRatiosOfPieChart()},_attachCustomEvent:function(){var t,e,i;n.prototype._attachCustomEvent.call(this),t=this.componentManager.get("customEvent"),e=this.componentManager.get("tooltip"),i=this.componentManager.get("pieSeries"),t.on({clickPieSeries:i.onClickSeries,movePieSeries:i.onMoveSeries},i),i.on({showTooltip:e.onShow,hideTooltip:e.onHide,showTooltipContainer:e.onShowTooltipContainer,hideTooltipContainer:e.onHideTooltipContainer},e)}});e.exports=l},{"../const":19,"../customEvents/pieChartCustomEvent":25,"../helpers/predicate":45,"../legends/legend":50,"../series/pieChartSeries":76,"../tooltips/tooltip":85,"./chartBase":8}],18:[function(t,e,i){"use strict";function n(t,e){function i(){s=A.call(arguments),window.clearTimeout(n),n=window.setTimeout(function(){t.apply(null,s)},e)}var n,s;return e=e||0,i}function s(t,e){function i(){return o=A.call(arguments),h?(l(o),void(h=!1)):(r=u(),s=s||r,a(o),void(r-s>=e&&l(o)))}function n(){h=!0,s=null}var s,a,r,o,u=tui.util.timestamp,h=!0,l=function(e){t.apply(null,e),s=null};return e=e||0,a=tui.util.debounce(l,e),i.reset=n,i}var a=function(t,e,i){var n,s,a;return e||(e=function(t){return t}),n=t[0],s=e.call(i,n),a=t.slice(1),tui.util.forEachArray(a,function(t){var a=e.call(i,t);s>a&&(s=a,n=t)}),n},r=function(t,e,i){var n,s,a;return e||(e=function(t){return t}),n=t[0],s=e.call(i,n),a=t.slice(1),tui.util.forEachArray(a,function(t){var a=e.call(i,t);a>s&&(s=a,n=t)}),n},o=function(t,e,i){var n=!1;return tui.util.forEachArray(t,function(s,a){return e.call(i,s,a,t)?(n=!0,!1):void 0}),n},u=function(t,e,i){var n=!0;return tui.util.forEachArray(t,function(s,a){return e.call(i,s,a,t)?void 0:(n=!1,!1)}),n},h=function(t,e,i,n){var s,a=[];return tui.util.isBoolean(e)||(n=i,i=e,e=!1),i=i||function(t){return t},e?tui.util.forEachArray(t,function(e,r){e=i.call(n,e,r,t),r&&s===e||a.push(e),s=e}):tui.util.forEachArray(t,function(e,s){e=i.call(n,e,s,t),-1===tui.util.inArray(e,a)&&a.push(e)}),a},l=function(t){var e=[];return tui.util.forEachArray(t,function(t){tui.util.forEachArray(t,function(t,i){e[i]||(e[i]=[]),e[i].push(t)})}),e},c=function(t){var e=String(t).split(".");return 2===e.length?e[1].length:0},d=function(){var t=[].slice.call(arguments),e=tui.util.map(t,function(t){return tui.util.lengthAfterPoint(t)}),i=tui.util.max(e),n=Math.pow(10,i);return n},p=function(t,e){var i=tui.util.findMultipleNum(e);return t*i%(e*i)/i},m=function(t,e){var i=d(t,e);return(t*i+e*i)/i},f=function(t,e){var i=d(t,e);return(t*i-e*i)/i},g=function(t,e){var i=d(t,e);return t*i*(e*i)/(i*i)},_=function(t,e){var i=d(t,e);return t*i/(e*i)},v=function(t){var e=t.slice();return e.unshift(0),tui.util.reduce(e,function(t,e){return parseFloat(t)+parseFloat(e)})},T=function(t){return t.substring(0,1).toUpperCase()+t.substring(1)};tui.util.min=a,tui.util.max=r,tui.util.any=o,tui.util.all=u,tui.util.unique=h,tui.util.pivot=l,tui.util.lengthAfterPoint=c,tui.util.mod=p,tui.util.findMultipleNum=d,tui.util.addition=m,tui.util.subtraction=f,tui.util.multiplication=g,tui.util.division=_,tui.util.sum=v,tui.util.properCase=T;var A=Array.prototype.slice;tui.util.debounce=n,tui.util.throttle=s},{}],19:[function(t,e,i){"use strict";var n={CLASS_NAME_LEGEND_LABEL:"tui-chart-legend-label",CLASS_NAME_LEGEND_CHECKBOX:"tui-chart-legend-checkbox",CLASS_NAME_SERIES_LABEL:"tui-chart-series-label",CLASS_NAME_SERIES_LEGEND:"tui-chart-series-legend",CHART_TYPE_BAR:"bar",CHART_TYPE_COLUMN:"column",CHART_TYPE_LINE:"line",CHART_TYPE_AREA:"area",CHART_TYPE_COMBO:"combo",CHART_TYPE_PIE:"pie",CHART_TYPE_MAP:"map",CHART_PADDING:10,CHART_DEFAULT_WIDTH:500,CHART_DEFAULT_HEIGHT:400,OVERLAPPING_WIDTH:1,TEXT_PADDING:2,SERIES_EXPAND_SIZE:10,SERIES_LABEL_PADDING:5,DEFAULT_TITLE_FONT_SIZE:14,DEFAULT_AXIS_TITLE_FONT_SIZE:10,DEFAULT_LABEL_FONT_SIZE:12,DEFAULT_SERIES_LABEL_FONT_SIZE:11,DEFAULT_PLUGIN:"raphael",DEFAULT_TICK_COLOR:"black",DEFAULT_THEME_NAME:"default",MAX_HEIGHT_WORLD:"A",STACKED_NORMAL_TYPE:"normal",STACKED_PERCENT_TYPE:"percent",DEFAULT_STACK:"___DEFAULT___STACK___",DUMMY_KEY:"___DUMMY___KEY___",EMPTY_AXIS_LABEL:"",ANGLE_85:85,ANGLE_90:90,ANGLE_360:360,RAD:Math.PI/180,LEGEND_ALIGN_OUTER:"outer",LEGEND_ALIGN_CENTER:"center",LEGEND_ALIGN_TOP:"top",LEGEND_ALIGN_BOTTOM:"bottom",LEGEND_ALIGN_LEFT:"left",SERIES_OUTER_LABEL_PADDING:20,PIE_GRAPH_DEFAULT_RATE:.8,PIE_GRAPH_SMALL_RATE:.65,MAP_CHART_LEGEND_TICK_COUNT:4,MAP_CHART_LABEL_DEFAULT_POSITION_RATIO:{x:.5,y:.5},DOT_RADIUS:4,YAXIS_PROPS:["tickColor","title","label"],SERIES_PROPS:["label","colors","borderColor","singleColors","selectionColor","startColor","endColor","overColor"],TITLE_AREA_WIDTH_PADDING:20,XAXIS_LABEL_TOP_MARGIN:10,V_LABEL_RIGHT_PADDING:10,TOOLTIP_PREFIX:"tui-chart-tooltip",TOOLTIP_ZINDEX:500,TOOLTIP_ANIMATION_TIME:100,TOOLTIP_PIE_ANIMATION_TIME:50,MIN_PIXEL_TYPE_STEP_SIZE:40,MAX_PIXEL_TYPE_STEP_SIZE:60,PERCENT_STACKED_AXIS_SCALE:{limit:{min:0,max:100},step:25,labels:[0,25,50,75,100]},NEGATIVE_PERCENT_STACKED_AXIS_SCALE:{limit:{min:-100,max:100},step:25,labels:[-100,-75,-50,-25,0,25,50,75,100]},DIVERGING_PERCENT_STACKED_AXIS_SCALE:{limit:{min:-100,max:100},step:25,labels:[100,75,50,25,0,25,50,75,100]},TITLE_PADDING:20,LEGEND_AREA_PADDING:10,LEGEND_CHECKBOX_WIDTH:20,LEGEND_RECT_WIDTH:12,LEGEND_LABEL_LEFT_PADDING:5,MAP_LEGEND_SIZE:200,MAP_LEGEND_GRAPH_SIZE:25,MAP_LEGEND_LABEL_PADDING:5,AXIS_LABEL_PADDING:7,DEGREE_CANDIDATES:[25,45,65,85],YAXIS_ALIGN_CENTER:"center",XAXIS_LABEL_COMPARE_MARGIN:20,XAXIS_LABEL_GUTTER:2,AXIS_STANDARD_MULTIPLE_NUMS:[1,2,5,10,20,50,100],AXIS_LAST_STANDARD_MULTIPLE_NUM:100,LABEL_PADDING_TOP:2,LINE_MARGIN_TOP:5,TOOLTIP_GAP:5,TOOLTIP_DIRECTION_FORWARD:"forword",TOOLTIP_DIRECTION_CENTER:"center",TOOLTIP_DIRECTION_BACKWARD:"backword",TOOLTIP_DEFAULT_ALIGN_OPTION:"center top",TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION:"center bottom",HIDE_DELAY:200,OLD_BROWSER_OPACITY_100:100,SERIES_LABEL_OPACITY:.3,WHEEL_TICK:120,MAX_ZOOM_MAGN:32,FF_WHEELDELTA_ADJUSTING_VALUE:-40};e.exports=n},{}],20:[function(t,e,i){"use strict";var n=t("./customEventBase"),s=t("./areaTypeDataModel"),a=t("../const"),r=tui.util.defineClass(n,{init:function(t){n.call(this,t),this.prevFoundData=null},initCustomEventData:function(t){var e=t[0];this.dataModel=new s(e),n.prototype.initCustomEventData.call(this,t)},_onMousemove:function(t){var e=t.target||t.srcElement,i=e.getBoundingClientRect(),n=t.clientX-a.SERIES_EXPAND_SIZE-i.left,s=t.clientY-i.top,r=this.tickBaseDataModel.findIndex(n),o=this.dataModel.findData(r,s);this._isChanged(this.prevFoundData,o)&&(o?this.fire("showTooltip",o):this.prevFoundData&&this.fire("hideTooltip",this.prevFoundData),this.prevFoundData=o)},_onMouseout:function(){this.prevFoundData&&(this.fire("hideTooltip",this.prevFoundData),this.prevFoundData=null)}});e.exports=r},{"../const":19,"./areaTypeDataModel":21,"./customEventBase":22}],21:[function(t,e,i){"use strict";var n=tui.util.defineClass({init:function(t){this.data=this._makeData(t.data.groupPositions,t.chartType)},_makeData:function(t,e){return t=tui.util.pivot(t),tui.util.map(t,function(t,i){return tui.util.map(t,function(t,n){return{chartType:e,indexes:{groupIndex:i,index:n},bound:t}})})},findData:function(t,e){var i=null,n=1e4;return tui.util.forEach(this.data[t],function(t){var s=Math.abs(e-t.bound.top);n>s&&(n=s,i=t)}),i}});e.exports=n},{}],22:[function(t,e,i){"use strict";var n=t("../helpers/eventListener"),s=t("./tickBaseDataModel"),a=t("./pointTypeDataModel"),r=t("../const"),o=t("../helpers/domHandler"),u=t("../helpers/renderUtil"),h=tui.util.defineClass({init:function(t){this.chartType=t.chartType,this.isVertical=t.isVertical,this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker},_renderCustomEventArea:function(t,e){var i;this.dimension=this.boundsMaker.getDimension("customEvent"),this.tickBaseDataModel=new s(this.dimension,e.tickCount,this.chartType,this.isVertical),i=u.expandBound(this.boundsMaker.getBound("customEvent")),u.renderDimension(t,i.dimension),u.renderPosition(t,i.position)},render:function(t){var e=o.create("DIV","tui-chart-series-custom-event-area");return this._renderCustomEventArea(e,t),this.attachEvent(e),this.customEventContainer=e,e},initCustomEventData:function(t){this.pointTypeDataModel=new a(t)},rerender:function(t){this._renderCustomEventArea(this.customEventContainer,t)},resize:function(t){this.rerender(t)},_isChanged:function(t,e){return!t||!e||t.chartType!==e.chartType||t.indexes.groupIndex!==e.indexes.groupIndex||t.indexes.index!==e.indexes.index},_findPointTypeData:function(t,e,i){var n=t.getBoundingClientRect(),s=e-n.left,a=i-n.top,o=this.tickBaseDataModel.findIndex(this.isVertical?s:a);return this.pointTypeDataModel.findData(o,s+r.SERIES_EXPAND_SIZE,a)},_unselectSelectedData:function(){var t=u.makeCustomEventName("unselect",this.selectedData.chartType,"series");this.fire(t,this.selectedData),delete this.selectedData},_onMouseEvent:function(t,e){var i=u.makeCustomEventName(t,this.chartType,"series");o.addClass(this.customEventContainer,"hide"),this.fire(i,{left:e.clientX,top:e.clientY}),o.removeClass(this.customEventContainer,"hide")},_onClick:function(t){var e=t.target||t.srcElement,i=t.clientX-r.SERIES_EXPAND_SIZE,n=this._findPointTypeData(e,i,t.clientY);this._isChanged(this.selectedData,n)?n&&(this.selectedData&&this._unselectSelectedData(),this.fire(u.makeCustomEventName("select",n.chartType,"series"),n),this.selectedData=n):this._unselectSelectedData()},_onMousedown:function(){},_onMouseup:function(){},_onMousemove:function(){},_onMouseout:function(){},attachEvent:function(t){n.bindEvent("click",t,tui.util.bind(this._onClick,this)),n.bindEvent("mousedown",t,tui.util.bind(this._onMousedown,this)),n.bindEvent("mouseup",t,tui.util.bind(this._onMouseup,this)),n.bindEvent("mousemove",t,tui.util.bind(this._onMousemove,this)),n.bindEvent("mouseout",t,tui.util.bind(this._onMouseout,this))}});tui.util.CustomEvents.mixin(h),e.exports=h},{"../const":19,"../helpers/domHandler":43,"../helpers/eventListener":44,"../helpers/renderUtil":47,"./pointTypeDataModel":27,"./tickBaseDataModel":28}],23:[function(t,e,i){"use strict";var n=t("./customEventBase"),s=t("../const"),a=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_isOutPosition:function(t,e){var i=this.dimension;return 0>t||t>i.width||0>e||e>i.height},_onMousemove:function(t){var e,i,n=t.target||t.srcElement,a=n.getBoundingClientRect(),r=t.clientX-s.SERIES_EXPAND_SIZE-a.left,o=t.clientY-s.SERIES_EXPAND_SIZE-a.top,u=-1;this.isVertical?(e=r,i="height"):(e=o,i="width"),this._isOutPosition(r,o)||(u=this.tickBaseDataModel.findIndex(e)),-1===u?this._onMouseout():this.prevIndex!==u&&(this.prevIndex=u,this.fire("showGroupTooltip",{index:u,range:this.tickBaseDataModel.makeRange(u,this.chartType),size:this.dimension[i],isVertical:this.isVertical}))},_onMouseout:function(){tui.util.isUndefined(this.prevIndex)||(this.fire("hideGroupTooltip",this.prevIndex),delete this.prevIndex)}});e.exports=a},{"../const":19,"./customEventBase":22}],24:[function(t,e,i){"use strict";var n=t("./customEventBase"),s=t("../const"),a=t("../helpers/eventListener"),r=t("../helpers/domHandler"),o=t("../helpers/renderUtil"),u=tui.util.defineClass(n,{init:function(t){this.boundsMaker=t.boundsMaker,this.chartType=t.chartType,this.isDown=!1},_renderCustomEventArea:function(t){var e=this.boundsMaker.getBound("customEvent");o.renderDimension(t,e.dimension),o.renderPosition(t,e.position)},initCustomEventData:function(){},_onClick:function(){},_onMousedown:function(t){this.isDown=!0,this.fire("dragStartMapSeries",{left:t.clientX,top:t.clientY})},_dragEnd:function(){this.isDrag=!1,r.removeClass(this.customEventContainer,"drag"),this.fire("dragEndMapSeries")},_onMouseup:function(t){this.isDown=!1,this.isDrag?this._dragEnd():this.isMove||this._onMouseEvent("click",t),this.isMove=!1},_onMousemove:function(t){this.isDown?(this.isDrag||r.addClass(this.customEventContainer,"drag"),this.isDrag=!0,this.fire("dragMapSeries",{left:t.clientX,top:t.clientY})):(this.isMove=!0,this._onMouseEvent("move",t))},_onMouseout:function(t){this.isDrag?this._dragEnd():this._onMouseEvent("move",t),this.isDown=!1},_onMousewheel:function(t){var e=t.wheelDelta||t.detail*s.FF_WHEELDELTA_ADJUSTING_VALUE;return this.fire("wheel",e,{left:t.clientX,top:t.clientY}),t.preventDefault&&t.preventDefault(),!1},attachEvent:function(t){n.prototype.attachEvent.call(this,t),tui.util.browser.firefox?a.bindEvent("DOMMouseScroll",t,tui.util.bind(this._onMousewheel,this)):a.bindEvent("mousewheel",t,tui.util.bind(this._onMousewheel,this))}});tui.util.CustomEvents.mixin(u),e.exports=u},{"../const":19,"../helpers/domHandler":43,"../helpers/eventListener":44,"../helpers/renderUtil":47,"./customEventBase":22}],25:[function(t,e,i){"use strict";var n=t("./customEventBase"),s=t("../helpers/renderUtil"),a=tui.util.defineClass(n,{init:function(t){this.boundsMaker=t.boundsMaker,this.chartType=t.chartType},_renderCustomEventArea:function(t){var e=this.boundsMaker.getBound("customEvent");s.renderDimension(t,e.dimension),s.renderPosition(t,e.position)},initCustomEventData:function(){},_onClick:function(t){this._onMouseEvent("click",t)},_onMousemove:function(t){this._onMouseEvent("move",t)}});tui.util.CustomEvents.mixin(a),e.exports=a},{"../helpers/renderUtil":47,"./customEventBase":22}],26:[function(t,e,i){"use strict";var n=t("../const"),s=t("./customEventBase"),a=tui.util.defineClass(s,{init:function(){s.apply(this,arguments),this.prevFoundData=null},_onMousemove:function(t){var e=t.target||t.srcElement,i=t.clientX-n.SERIES_EXPAND_SIZE,s=this._findPointTypeData(e,i,t.clientY);this._isChanged(this.prevFoundData,s)&&(this.prevFoundData&&this.fire("hideTooltip",this.prevFoundData),s&&this.fire("showTooltip",s),this.prevFoundData=s)},_onMouseout:function(){this.prevFoundData&&(this.fire("hideTooltip",this.prevFoundData),this.prevFoundData=null)}});e.exports=a},{"../const":19,"./customEventBase":22}],27:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),a=tui.util.defineClass({init:function(t){this.data=this._makeData(t)},_makeRectTypeCoordinateData:function(t,e){return tui.util.map(t,function(t,i){return tui.util.map(t,function(t,n){var s;return t?(s=t.end,{sendData:{chartType:e,indexes:{groupIndex:i,index:n},allowNegativeTooltip:!0,bound:s},bound:{left:s.left,top:s.top,right:s.left+s.width,bottom:s.top+s.height}}):null})})},_makeDotTypeCoordinateData:function(t,e){return t?tui.util.map(tui.util.pivot(t),function(t,i){return tui.util.map(t,function(t,s){return{sendData:{chartType:e,indexes:{groupIndex:i,index:s},bound:t},bound:{left:t.left-n.DOT_RADIUS,top:t.top-n.DOT_RADIUS,right:t.left+n.DOT_RADIUS,bottom:t.top+n.DOT_RADIUS}}})}):[]},_joinData:function(t){var e=[];return tui.util.forEachArray(t,function(t){tui.util.forEachArray(t,function(t,i){e[i]||(e[i]=[]),e[i]=e[i].concat(t)})}),e},_makeData:function(t){var e,i=this;return t.reverse(),e=tui.util.map(t,function(t){var e;return e=s.isLineTypeChart(t.chartType)?i._makeDotTypeCoordinateData(t.data.groupPositions,t.chartType):i._makeRectTypeCoordinateData(t.data.groupBounds,t.chartType)}),this._joinData(e)},_findCandidates:function(t,e,i){return tui.util.filter(t,function(t){var n,s,a=t&&t.bound,r=!1;return a&&(n=a.left<=e&&a.right>=e,s=a.top<=i&&a.bottom>=i,r=n&&s),r})},findData:function(t,e,i){var n,s=1e4,a=null;return t>-1&&(n=this._findCandidates(this.data[t],e,i),tui.util.forEachArray(n,function(t){var e=Math.abs(i-t.sendData.bound.top);s>e&&(s=e,a=t.sendData)})),a}});e.exports=a},{"../const":19,"../helpers/predicate":45}],28:[function(t,e,i){"use strict";var n=t("../helpers/predicate"),s=tui.util.defineClass({init:function(t,e,i,n){this.data=this._makeData(t,e,i,n)},_makeLineTypeData:function(t,e){var i=(t+1)/(e-1),n=i/2,s=tui.util.map(tui.util.range(0,e),function(t){return{min:t*i-n,max:t*i+n}});return s[e-1].max-=1,s},_makeNormalData:function(t,e){var i=e-1,n=t/i,s=0;return tui.util.map(tui.util.range(0,i),function(e){var i=tui.util.min([t,(e+1)*n]),a={min:s,max:i};return s=i,a})},_makeData:function(t,e,i,s){var a,r=s?"width":"height";return a=n.isLineTypeChart(i)?this._makeLineTypeData(t[r],e):this._makeNormalData(t[r],e)},findIndex:function(t){var e=-1;return tui.util.forEachArray(this.data,function(i,n){return i.min<t&&i.max>=t?(e=n,!1):!0}),e},getLength:function(){return this.data.length},makeRange:function(t,e){var i,s,a=this.data[t];return n.isLineTypeChart(e)?(s=parseInt(a.max-(a.max-a.min)/2,10),i={start:s,end:s}):i={start:a.min,end:a.max},i}});e.exports=s},{"../helpers/predicate":45}],29:[function(t,e,i){"use strict";var n=t("../dataModels/itemGroup"),s=t("../helpers/predicate"),a=t("../helpers/rawDataHandler"),r=t("../helpers/renderUtil"),o=Array.prototype.concat,u=tui.util.defineClass({init:function(t,e,i){var n=e.series||{};this.orgRawData=t,this.options=e,this.seriesChartTypes=i,this.divergingOption=s.isBarTypeChart(e.chartType)&&n.diverging,this.updateRawData(t)},getRawData:function(){return this.orgRawData},updateRawData:function(t){this.rawData=t,this.categories=null,this.stacks=null,this.itemGroup=null,this.legendLabels=null,this.wholeLegendData=null,this.formatFunctions=null,this.multilineCategories=null},_processCategories:function(t){return tui.util.map(t,tui.util.encodeHTMLEntity)},getCategories:function(){return this.categories||(this.categories=this._processCategories(this.rawData.categories)),this.categories},getCategory:function(t){return this.getCategories()[t]},getStacks:function(){return this.stacks||(this.stacks=a.pickStacks(this.rawData.series)),this.stacks},getStackCount:function(){return this.getStacks().length},findStackIndex:function(t){return tui.util.inArray(t,this.getStacks())},getItemGroup:function(){return this.itemGroup||(this.itemGroup=new n(this.rawData.series,this.options,this.seriesChartTypes,this.getFormatFunctions())),this.itemGroup},getGroupCount:function(t){return this.getItemGroup().getGroupCount(t)},isValidAllGroup:function(){return this.getItemGroup().isValidAllGroup()},getWholeGroups:function(){return this.getItemGroup().getWholeGroups()},getValue:function(t,e,i){return this.getItemGroup().getValue(t,e,i)},getWholeValues:function(){return this.getItemGroup().getWholeValues()},getValues:function(t){return this.getItemGroup().getValues(t)},getLegendLabels:function(t){return this.legendLabels||(this.legendLabels=this._pickLegendLabels()),this.legendLabels[t]||this.legendLabels},getWholeLegendData:function(){return this.wholeLegendData||(this.wholeLegendData=this._makeWholeLegendData()),this.wholeLegendData},setWholeLegendData:function(t){this.wholeLegendData=t},getLegendData:function(t){return this.getWholeLegendData()[t]},getFormatFunctions:function(){return this.formatFunctions||(this.formatFunctions=this._findFormatFunctions()),this.formatFunctions},getFirstFormattedValue:function(t){return this.getItemGroup().getFirstItem(t).formattedValue},_pickLegendLabel:function(t){return tui.util.encodeHTMLEntity(t.name)},_pickLegendLabels:function(){var t,e=this,i=this.rawData.series;return tui.util.isArray(i)?t=tui.util.map(i,this._pickLegendLabel):(t={},tui.util.forEach(i,function(i,n){t[n]=tui.util.map(i,e._pickLegendLabel)})),t},_makeWholeLegendData:function(){var t,e=this,i=this.getLegendLabels(),n=this.seriesChartTypes;return n&&n.length?(t=[],tui.util.forEachArray(n,function(e){var n=tui.util.map(i[e],function(t){return{chartType:e,label:t}});t=t.concat(n)})):t=tui.util.map(i,function(t){return{chartType:e.options.chartType,label:t}}),t},_pickMaxLenUnderPoint:function(t){var e=0;return tui.util.forEachArray(t,function(t){var i=tui.util.lengthAfterPoint(t);i>e&&(e=i)}),e},_isZeroFill:function(t){return t.length>2&&"0"===t.charAt(0)},_isDecimal:function(t){var e=t.indexOf(".");return e>-1&&e<t.length-1},_isComma:function(t){return t.indexOf(",")>-1},_formatZeroFill:function(t,e){var i="0",n=0>e;if(e=String(Math.abs(e)),e.length>=t)return e;for(;e.length<t;)e=i+e;return(n?"-":"")+e},_formatDecimal:function(t,e){var i;return 0===t?Math.round(e):(i=Math.pow(10,t),e=Math.round(e*i)/i,e=parseFloat(e).toFixed(t))},_formatComma:function(t){var e,i,n,s=",",a="",r=3,u=t;return t=String(t),t.indexOf(".")>-1&&(e=t.split("."),t=e[0],a="."+e[1]),t.length<=r?n=u:(e=t.split("").reverse(),i=e.length-1,e=tui.util.map(e,function(t,e){var n=[t];return i>e&&(e+1)%r===0&&n.push(s),n}),n=o.apply([],e).reverse().join("")+a),n},_findFormatFunctions:function(){var t,e=tui.util.pick(this.options,"chart","format")||"",i=[];if(!e)return[];if(this._isDecimal(e))t=this._pickMaxLenUnderPoint([e]),i=[tui.util.bind(this._formatDecimal,this,t)];else if(this._isZeroFill(e))return t=e.length,i=[tui.util.bind(this._formatZeroFill,this,t)];return this._isComma(e)&&i.push(this._formatComma),i},_makeMultilineCategory:function(t,e,i){var n=t.split(/\s+/),s=n[0],a=[];return tui.util.forEachArray(n.slice(1),function(t){var n=r.getRenderedLabelWidth(s+" "+t,i);n>e?(a.push(s),s=t):s+=" "+t}),s&&a.push(s),a.join("<br>")},getMultilineCategories:function(t,e){var i=this;return this.multilineCategories||(this.multilineCategories=tui.util.map(this.getCategories(),function(n){return i._makeMultilineCategory(n,t,e)})),this.multilineCategories},_makeSumMapPerStack:function(t){var e={};return tui.util.forEachArray(t,function(t){e[t.stack]||(e[t.stack]=0),e[t.stack]+=Math.abs(t.value)}),e},addDataRatiosOfPieChart:function(){this.getItemGroup().addDataRatiosOfPieChart()},_updateItemStart:function(t,e){var i=t.min>=0||s.isMinusLimit(t),n=0;i&&(n=t.min),this.getItemGroup().updateItemStart(n,e)},addDataRatios:function(t,e,i){var n=this.getItemGroup();this._updateItemStart(t,i),n.addDataRatios(t,e,i)}});e.exports=u},{"../dataModels/itemGroup":31,"../helpers/predicate":45,"../helpers/rawDataHandler":46,"../helpers/renderUtil":47}],30:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/renderUtil"),a=tui.util.defineClass({init:function(t,e,i){this.stack=e||n.DEFAULT_STACK,this.formatFunctions=i,this.isRange=!1,this.value=null,this.formattedValue=null,this.ratio=null,this.end=null,this.formattedEnd=null,this.endRatio=null,this.start=null,this.formattedStart=null,this.startRatio=null,this.ratioDistance=null,this._initValues(t)},_initValues:function(t){var e=this._createValues(t),i=e.length>1;this.value=this.end=e[0],this.formattedValue=this.formattedEnd=s.formatValue(this.value,this.formatFunctions),i&&(this.addStart(e[1],!0),this._updateFormattedValueforRange(),this.isRange=!0)},_createValues:function(t){var e=tui.util.map([].concat(t),parseFloat);return e=e.sort(function(t,e){return 0>t&&0>e?t-e:e-t})},addStart:function(t){tui.util.isNull(this.start)&&(this.start=t,this.formattedStart=s.formatValue(t,this.formatFunctions))},_updateFormattedValueforRange:function(){this.formattedValue=this.formattedStart+" ~ "+this.formattedEnd},_calculateRatio:function(t,e,i,n){return(t-i)/e*n},addRatio:function(t,e,i){t=t||1,i=i||1,e=e||0,this.ratio=this.endRatio=this._calculateRatio(this.value,t,e,i),tui.util.isNull(this.start)||(this.startRatio=this._calculateRatio(this.start,t,e,i),this.ratioDistance=Math.abs(this.endRatio-this.startRatio))}});e.exports=a},{"../const":19,"../helpers/renderUtil":47}],31:[function(t,e,i){"use strict";var n=t("./items"),s=t("./item"),a=t("../const"),r=t("../helpers/predicate"),o=t("../helpers/calculator"),u=Array.prototype.concat,h=tui.util.defineClass({
init:function(t,e,i,n){this.options=e||{},this.seriesChartTypes=i,this.formatFunctions=n,this.rawSeriesData=t,this.baseGroups={},this.groups=null,this.values={},this._updateRawSeriesData()},_removeRangeValue:function(t){tui.util.forEachArray(t,function(t){tui.util.isArray(t.data)&&tui.util.forEachArray(t.data,function(e,i){t.data[i]=u.apply(e)[0]})})},_updateRawSeriesData:function(){var t=this,e=this.rawSeriesData;tui.util.pick(this.options,"series","stacked")&&(tui.util.isArray(e)?this._removeRangeValue(e):tui.util.forEach(e,function(e){t._removeRangeValue(e)}))},_createBaseGroups:function(t){var e=this;return tui.util.map(t,function(t){return tui.util.map(u.apply(t.data),function(i){return new s(i,t.stack,e.formatFunctions)})})},getBaseGroups:function(t,e){return this.baseGroups[e]||(this.baseGroups[e]=this._createBaseGroups(t)),this.baseGroups[e]},createArrayTypeGroupsFromRawData:function(t,e,i){var s=this.getBaseGroups(t,e);return i&&(s=tui.util.pivot(s)),tui.util.map(s,function(t){return new n(t)})},_createGroupsFromRawData:function(t){var e,i=this,n=this.rawSeriesData;return tui.util.isArray(n)?e=this.createArrayTypeGroupsFromRawData(n,a.DUMMY_KEY,t):(e={},tui.util.forEach(n,function(n,s){e[s]=i.createArrayTypeGroupsFromRawData(n,s,t)})),e},getGroups:function(t){return this.groups||(this.groups=this._createGroupsFromRawData(!0)),this.groups[t]||this.groups},getGroupCount:function(t){return this.getGroups(t).length},isValidAllGroup:function(){var t=this.getGroups(),e=!0;return tui.util.forEach(t,function(t){return t.length||(e=!1),e}),e},getPivotGroups:function(t){return this.pivotGroups||(this.pivotGroups=this._createGroupsFromRawData()),this.pivotGroups[t]||this.pivotGroups},getItems:function(t,e){return this.getGroups(e)[t]},getFirstItems:function(t){return this.getItems(0,t)},getItem:function(t,e,i){return this.getItems(t,i).getItem(e)},getFirstItem:function(t){return this.getItem(0,0,t)},getValue:function(t,e,i){return this.getItem(t,e,i).value},_makeValues:function(t){var e=this.map(function(t){return t.getValues()},t);return u.apply([],e)},getValues:function(t){return this.values[t]||(this.values[t]=this._makeValues(t)),this.values[t]},_makeWholeGroups:function(){var t=[];return this.each(function(e,i){t[i]||(t[i]=[]),t[i]=t[i].concat(e.items)}),t=tui.util.map(t,function(t){return new n(t)})},getWholeGroups:function(){return this.wholeGroups||(this.wholeGroups=this._makeWholeGroups()),this.wholeGroups},_makeWholeItems:function(){var t=[];return this.each(function(e){t=t.concat(e.items)}),new n(t)},getWholeItems:function(){return this.wholeItems||(this.wholeItems=this._makeWholeItems()),this.wholeItems},getWholeValues:function(){return this.wholeValues||(this.wholeValues=this.getWholeItems().pluck("value")),this.wholeValues},_addRatiosWhenNormalStacked:function(t,e){var i=Math.abs(e.max-e.min);this.each(function(t){t.addRatios(i)},t)},_calculateBaseRatio:function(t){var e=this.getValues(t),i=o.sumPlusValues(e),n=Math.abs(o.sumMinusValues(e)),s=i>0&&n>0?.5:1;return s},_addRatiosWhenPercentStacked:function(t){var e=this._calculateBaseRatio(t);this.each(function(t){t.addRatiosWhenPercentStacked(e)},t)},_addRatiosWhenDivergingStacked:function(t){this.each(function(t){var e=t.pluck("value"),i=o.sumPlusValues(e),n=Math.abs(o.sumMinusValues(e));t.addRatiosWhenDivergingStacked(i,n)},t)},_makeSubtractionValue:function(t,e){var i=r.isLineTypeChart(t),n=0;return!i&&r.isMinusLimit(e)?n=e.max:(i||e.min>=0)&&(n=e.min),n},_addRatios:function(t,e){var i=Math.abs(e.max-e.min),n=this._makeSubtractionValue(t,e);this.each(function(t){t.addRatios(i,n)},t)},addDataRatios:function(t,e,i){var n=r.isAllowedStackedOption(i);n&&r.isNormalStacked(e)?this._addRatiosWhenNormalStacked(i,t):n&&r.isPercentStacked(e)?this.divergingOption?this._addRatiosWhenDivergingStacked(i):this._addRatiosWhenPercentStacked(i):this._addRatios(i,t)},addDataRatiosOfPieChart:function(){var t=a.CHART_TYPE_PIE;this.each(function(t){var e=tui.util.sum(t.pluck("value"));t.addRatios(e)},t)},updateItemStart:function(t,e){this.each(function(e){e.addStartToAllItem(t)},e)},each:function(t,e,i){var n=i?this.getPivotGroups(e):this.getGroups(e),s={};tui.util.isArray(n)?s[a.DUMMY_KEY]=n:s=n,tui.util.forEach(s,function(e,i){i=i===a.DUMMY_KEY?null:i,tui.util.forEachArray(e,function(e,n){t(e,n,i)})})},map:function(t,e,i){var n=[];return this.each(function(e,i,s){n.push(t(e,i,s))},e,i),n}});e.exports=h},{"../const":19,"../helpers/calculator":41,"../helpers/predicate":45,"./item":30,"./items":32}],32:[function(t,e,i){"use strict";var n=tui.util.defineClass({init:function(t){this.items=t,this.values=null},getItemCount:function(){return this.items.length},getItem:function(t){return this.items[t]},_makeValues:function(){var t=[];return this.each(function(e){t.push(e.value),tui.util.isNull(e.start)||t.push(e.start)}),t},getValues:function(){return this.values||(this.values=this._makeValues()),this.values},_makeValuesMapPerStack:function(){var t={};return this.each(function(e){t[e.stack]||(t[e.stack]=[]),t[e.stack].push(e.value)}),t},_makeSumMapPerStack:function(){var t=this.getValuesMapPerStack(),e={};return tui.util.forEach(t,function(t,i){e[i]=tui.util.sum(tui.util.map(t,function(t){return Math.abs(t)}))}),e},getValuesMapPerStack:function(){return this.valuesMap||(this.valuesMap=this._makeValuesMapPerStack()),this.valuesMap},addStartToAllItem:function(t){this.each(function(e){e.addStart(t)})},addRatiosWhenPercentStacked:function(t){var e=this._makeSumMapPerStack();this.each(function(i){var n=e[i.stack];i.addRatio(n,0,t)})},addRatiosWhenDivergingStacked:function(t,e){this.each(function(i){var n=i.value>=0?t:e;i.addRatio(n,0,.5)})},addRatios:function(t,e){this.each(function(i){i.addRatio(t,e)})},each:function(t){tui.util.forEachArray(this.items,t)},map:function(t){return tui.util.map(this.items,t)},pluck:function(t){return tui.util.pluck(this.items,t)}});e.exports=n},{}],33:[function(t,e,i){"use strict";var n=t("./dataProcessor"),s=t("../helpers/renderUtil"),a=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},updateRawData:function(t){this.rawData=t,this.valueMap=null},_makeValueMap:function(){var t=this.rawData.series,e={},i=this._findFormatFunctions();return tui.util.forEachArray(t,function(t){var n={value:t.data,formattedValue:s.formatValue(t.data,i)};t.name&&(n.name=t.name),t.labelCoordinate&&(n.labelCoordinate=t.labelCoordinate),e[t.code]=n}),e},getValueMap:function(){return this.valueMap||(this.valueMap=this._makeValueMap()),this.valueMap},getValues:function(){return tui.util.pluck(this.getValueMap(),"value")},getValueMapDatum:function(t){return this.getValueMap()[t]},addDataRatios:function(t){var e=t.min,i=t.max-e;tui.util.forEach(this.getValueMap(),function(t){t.ratio=(t.value-e)/i})}});e.exports=a},{"../helpers/renderUtil":47,"./dataProcessor":29}],34:[function(t,e,i){"use strict";var n={},s={get:function(t,e,i,s){var a,r=n[t];if(!r)throw new Error("Not exist "+t+" chart.");return a=new r(e,i,s)},register:function(t,e){n[t]=e}};e.exports=s},{}],35:[function(t,e,i){"use strict";var n={};e.exports={get:function(t){var e=n[t];if(!e)throw new Error("Not exist "+t+" map.");return e},register:function(t,e){n[t]=e}}},{}],36:[function(t,e,i){"use strict";var n={},s={get:function(t,e){var i,s,a=n[t];if(!a)throw new Error("Not exist "+t+" plugin.");if(i=a[e],!i)throw new Error("Not exist "+e+" chart renderer.");return s=new i},register:function(t,e){n[t]=e}};e.exports=s},{}],37:[function(t,e,i){"use strict";var n=t("../const"),s=t("../themes/defaultTheme"),a={};e.exports={get:function(t){var e=a[t];if(!e)throw new Error("Not exist "+t+" theme.");return e},register:function(t,e){var i;e=JSON.parse(JSON.stringify(e)),t!==n.DEFAULT_THEME_NAME&&(e=this._initTheme(e)),i=this._getInheritTargetThemeItems(e),this._inheritThemeFont(e,i),this._copyColorInfo(e),a[t]=e},_initTheme:function(t){var e,i=JSON.parse(JSON.stringify(s));return this._concatDefaultColors(t,i.series.colors),e=this._overwriteTheme(t,i),e=this._copyProperty({propName:"yAxis",fromTheme:t,toTheme:e,rejectionProps:n.YAXIS_PROPS}),e=this._copyProperty({propName:"series",fromTheme:t,toTheme:e,rejectionProps:n.SERIES_PROPS})},_filterChartTypes:function(t,e){var i;return t?i=tui.util.filter(t,function(t,i){return-1===tui.util.inArray(i,e)}):[]},_concatColors:function(t,e){t.colors&&(t.colors=t.colors.concat(e)),t.singleColors&&(t.singleColors=t.singleColors.concat(e))},_concatDefaultColors:function(t,e){var i,s=this;t.series&&(i=this._filterChartTypes(t.series,n.SERIES_PROPS),tui.util.keys(i).length?tui.util.forEach(i,function(t){s._concatColors(t,e)}):this._concatColors(t.series,e))},_overwriteTheme:function(t,e){var i=this;return tui.util.forEach(e,function(n,s){var a=t[s];a&&(tui.util.isArray(a)?e[s]=a.slice():tui.util.isObject(a)?i._overwriteTheme(a,n):e[s]=a)}),e},_copyProperty:function(t){var e,i=this;return t.toTheme[t.propName]?(e=this._filterChartTypes(t.fromTheme[t.propName],t.rejectionProps),tui.util.keys(e).length&&(tui.util.forEach(e,function(e,n){var a=JSON.parse(JSON.stringify(s[t.propName]));t.fromTheme[t.propName][n]=i._overwriteTheme(e,a)}),t.toTheme[t.propName]=t.fromTheme[t.propName]),t.toTheme):t.toTheme},_copyColorInfoToOther:function(t,e,i){e.colors=i||t.colors,t.singleColors&&(e.singleColors=t.singleColors),t.borderColor&&(e.borderColor=t.borderColor),t.selectionColor&&(e.selectionColor=t.selectionColor)},_getInheritTargetThemeItems:function(t){var e=[t.title,t.xAxis.title,t.xAxis.label,t.legend.label],i=this._filterChartTypes(t.yAxis,n.YAXIS_PROPS),s=this._filterChartTypes(t.series,n.SERIES_PROPS);return tui.util.keys(i).length?tui.util.forEach(i,function(t){e.push(t.title),e.push(t.label)}):(e.push(t.yAxis.title),e.push(t.yAxis.label)),tui.util.keys(s).length?tui.util.forEach(s,function(t){e.push(t.label)}):e.push(t.series.label),e},_inheritThemeFont:function(t,e){var i=t.chart.fontFamily;tui.util.forEachArray(e,function(t){t.fontFamily||(t.fontFamily=i)})},_copyColorInfo:function(t){var e=this,i=this._filterChartTypes(t.series,n.SERIES_PROPS);tui.util.keys(i).length?tui.util.forEach(i,function(i,n){t.legend[n]={},t.tooltip[n]={},e._copyColorInfoToOther(i,t.legend[n],i.colors||t.legend.colors),e._copyColorInfoToOther(i,t.tooltip[n],i.colors||t.tooltip.colors),delete t.legend.colors,delete t.tooltip.colors}):(this._copyColorInfoToOther(t.series,t.legend),this._copyColorInfoToOther(t.series,t.tooltip))}}},{"../const":19,"../themes/defaultTheme":80}],38:[function(t,e,i){"use strict";var n=t("../const"),s={_makeLabels:function(t,e){var i;return e?(i=t.length-1,tui.util.map(t,function(t,s){return s>0&&i>s&&s%e>0&&(t=n.EMPTY_AXIS_LABEL),t})):t},makeLabelAxisData:function(t){var e=t.labels.length,i=t.options||{},n=this._makeLabels(t.labels,i.labelInterval);return t.aligned||(e+=1),{labels:n,tickCount:e,validTickCount:0,isLabelAxis:!0,isVertical:!!t.isVertical,aligned:!!t.aligned}},makeValueAxisData:function(t){var e=t.axisScaleMaker,i=e.getFormattedScaleValues(),n=i.length;return{labels:i,tickCount:n,validTickCount:n,limit:e.getLimit(),step:e.getStep(),isVertical:!!t.isVertical,isPositionRight:!!t.isPositionRight,aligned:!!t.aligned}}};e.exports=s},{"../const":19}],39:[function(t,e,i){"use strict";var n=t("../const"),s=t("./predicate"),a=t("./calculator"),r=t("./renderUtil"),o=Math.abs,u=tui.util.defineClass({init:function(t){this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.options=t.options||{},this.chartType=t.chartType,this.isVertical=!!t.isVertical,this.isSingleYAxis=!!t.isSingleYAxis,this.valueCounts=t.valueCount?[t.valueCount]:null,this.scale=null,this.formattedValues=null},_getScale:function(){return this.scale||(this.scale=this._makeScale()),this.scale},getLimit:function(){return this._getScale().limit},getStep:function(){return this._getScale().step},_isPercentStackedChart:function(){var t=s.isAllowedStackedOption(this.chartType),e=s.isPercentStacked(this.options.stacked);return t&&e},_isNormalStackedChart:function(){var t=s.isAllowedStackedOption(this.chartType),e=s.isNormalStacked(this.options.stacked);return t&&e},_isDivergingChart:function(){return this.options.diverging&&s.isBarTypeChart(this.chartType)},_getFormatFunctions:function(){var t;return t=this._isPercentStackedChart()?[function(t){return t+"%"}]:this.dataProcessor.getFormatFunctions()},_getScaleValues:function(){var t=this._getScale(),e=a.makeLabelsFromLimit(t.limit,t.step);return this._isDivergingChart()?tui.util.map(e,o):e},getFormattedScaleValues:function(){var t,e;return this.formattedValues||(t=this._getScaleValues(),e=this._getFormatFunctions(),this.formattedValues=r.formatValues(t,e)),this.formattedValues},_makeBaseValuesForNormalStackedChart:function(){var t=this.dataProcessor.getItemGroup(),e=[];return t.each(function(t){var i=t._makeValuesMapPerStack();tui.util.forEach(i,function(t){var i=a.sumPlusValues(t),n=a.sumMinusValues(t);e=e.concat([i,n])})},this.chartType),e},_makeBaseValues:function(){var t;return t=s.isMapChart(this.chartType)?this.dataProcessor.getValues():this.isSingleYAxis?this.dataProcessor.getWholeValues():this._isNormalStackedChart()?this._makeBaseValuesForNormalStackedChart():this.dataProcessor.getValues(this.chartType)},_getBaseSize:function(){var t;return t=this.isVertical?this.boundsMaker.makeSeriesHeight():this.boundsMaker.makeSeriesWidth()},_getCandidateValueCounts:function(){var t,e,i,s,a=3;return e=this._getBaseSize(),i=tui.util.max([a,parseInt(e/n.MAX_PIXEL_TYPE_STEP_SIZE,10)]),s=tui.util.max([i,parseInt(e/n.MIN_PIXEL_TYPE_STEP_SIZE,10)])+1,t=tui.util.range(i,s)},_makeLimitForDivergingOption:function(t){var e=Math.max(o(t.min),o(t.max));return{min:-e,max:e}},_makeIntegerTypeScale:function(t){var e,i,n=this.options.limit||{},s=t.min,a=t.max;return o(s)>=1||o(a)>=1?{limit:t,options:n,divideNum:1}:(e=tui.util.findMultipleNum(s,a),i={},tui.util.isUndefined(n.min)||(i.min=n.min*e),tui.util.isUndefined(n.max)||(i.max=n.max*e),{limit:{min:s*e,max:a*e},options:i,divideNum:e})},_makeLimitIfEqualMinMax:function(t){var e=t.min,i=t.max;return e>0?e=0:0>e&&(i=0),{min:e,max:i}},_makeBaseLimit:function(t,e){var i,n,r=s.isMinusLimit(t),o=t.min,u=t.max;return o===u?i=this._makeLimitIfEqualMinMax(t):(r&&(n=o,o=-u,u=-n),i=a.calculateLimit(o,u),r&&(n=i.min,i.min=-i.max,i.max=-n),i.min=tui.util.isUndefined(e.min)?i.min:e.min,i.max=tui.util.isUndefined(e.max)?i.max:e.max),i},_normalizeMin:function(t,e){var i,n=tui.util.mod(t,e);return i=0===n?t:tui.util.subtraction(t,t>=0?n:e+n)},_makeNormalizedMax:function(t,e,i){var n,s,a=tui.util.multiplication(e,i-1),r=tui.util.addition(t.min,a),o=t.max-r;return o>0&&(n=o%e,s=Math.floor(o/e),r+=e*(n>0?s+1:s)),r},_normalizeLimit:function(t,e,i){return t.min=this._normalizeMin(t.min,e),t.max=this._makeNormalizedMax(t,e,i),t},_decreaseMinByStep:function(t,e,i,n){var a=s.isLineChart(this.chartType),r=0>e,o=tui.util.isUndefined(n),u=t===e;return(a||r)&&o&&u&&(t-=i),t},_increaseMaxByStep:function(t,e,i,n){var a=s.isLineChart(this.chartType),r=e>0,o=tui.util.isUndefined(n),u=t===e;return(a||r)&&o&&u&&(t+=i),t},_divideScaleStep:function(t,e,i){var n=e%2===0,s=a.makeLabelsFromLimit(t,e).length,r=2*s-1,u=o(i-s),h=o(i-r);return n&&u>=h&&(e/=2),e},_minimizeScaleLimit:function(t,e,i,n,s){var a=t.max,r=t.min,o=tui.util.isUndefined(s.min)?e.min-1:s.min,u=tui.util.isUndefined(s.max)?e.max+1:s.max;return tui.util.forEachArray(tui.util.range(1,n),function(n){var s=i*n,h=r+s,l=a-s;return e.min<=h&&e.max>=l?!1:(o>=h&&(t.min=h),l>=u&&(t.max=l),!0)}),t},_makeCandidateScale:function(t,e,i,n){var s,r=tui.util.extend({},t);return s=a.calculateStepFromLimit(r,i),s=a.normalizeAxisNumber(s),r=this._normalizeLimit(r,s,i),r.min=this._decreaseMinByStep(r.min,e.min,s,n.min),r.max=this._increaseMaxByStep(r.max,e.max,s,n.max),r=this._minimizeScaleLimit(r,e,s,i,n),s=this._divideScaleStep(r,s,i),{limit:r,step:s}},_makeCandidateScales:function(t,e){var i=this,n=t.limit,s=t.options,a=this._makeBaseLimit(n,s);return tui.util.map(e,function(t){return i._makeCandidateScale(a,n,t,s)})},_getComparingValue:function(t,e){var i=o(e.limit.max-t.max),n=o(t.min-e.limit.min),s=Math.pow(10,tui.util.lengthAfterPoint(e.step));return(i+n)*s},_selectAxisScale:function(t,e){var i=tui.util.bind(this._getComparingValue,this,t),n=tui.util.min(e,i);return n},_restoreNumberState:function(t,e){return 1===e?t:(t.step=tui.util.division(t.step,e),t.limit.min=tui.util.division(t.limit.min,e),t.limit.max=tui.util.division(t.limit.max,e),t)},_calculateScale:function(){var t,e,i,n,s=this._makeBaseValues(),a={min:tui.util.min(s),max:tui.util.max(s)};return 0===a.min&&0===a.max&&(a.max=5),this._isDivergingChart()&&(a=this._makeLimitForDivergingOption(a)),t=this._makeIntegerTypeScale(a),e=this.valueCounts||this._getCandidateValueCounts(),i=this._makeCandidateScales(t,e),n=this._selectAxisScale(t.limit,i),n=this._restoreNumberState(n,t.divideNum)},_calculateMinusSum:function(){var t;return t=this.isSingleYAxis?this.dataProcessor.getWholeValues():this.dataProcessor.getValues(this.chartType),a.sumMinusValues(t)},_getPercentStackedScale:function(){var t,e=this._calculateMinusSum();return t=0===e?n.PERCENT_STACKED_AXIS_SCALE:this._isDivergingChart()?n.DIVERGING_PERCENT_STACKED_AXIS_SCALE:n.NEGATIVE_PERCENT_STACKED_AXIS_SCALE},_makeScale:function(){var t;return t=this._isPercentStackedChart()?this._getPercentStackedScale():this._calculateScale()}});e.exports=u},{"../const":19,"./calculator":41,"./predicate":45,"./renderUtil":47}],40:[function(t,e,i){"use strict";var n=t("../const"),s=t("./calculator"),a=t("./predicate"),r=t("./renderUtil"),o=tui.util.defineClass({init:function(t){this.options=t.options||{},this.options.legend=this.options.legend||{},this.options.yAxis=this.options.yAxis||{},this.theme=t.theme||{},this.hasAxes=t.hasAxes,this.chartType=t.chartType,this.dataProcessor=t.dataProcessor,this.initBoundsData()},initBoundsData:function(t){this.dimensions={legend:{width:0},yAxis:{width:0},rightYAxis:{width:0},xAxis:{height:0}},this.positions={},this.axesData={},this.xAxisDegree=0,this.chartLeftPadding=n.CHART_PADDING,t&&(this.options.chart=t),this._registerChartDimension(),this._registerTitleDimension()},_registerDimension:function(t,e){this.dimensions[t]=tui.util.extend(this.dimensions[t]||{},e)},registerBaseDimension:function(t,e){this._registerDimension(t,e)},registerAxesData:function(t){this.axesData=t},getBound:function(t){return{dimension:this.dimensions[t]||{},position:this.positions[t]||{}}},_setBound:function(t,e){this.dimensions[t]=e.dimension,this.positions[t]=e.position},getDimension:function(t){return this.dimensions[t]},getPosition:function(t){return this.positions[t]},_registerChartDimension:function(){var t=this.options.chart||{},e={width:t.width||n.CHART_DEFAULT_WIDTH,height:t.height||n.CHART_DEFAULT_HEIGHT};this._registerDimension("chart",e)},_registerTitleDimension:function(){var t=this.options.chart||{},e=r.getRenderedLabelHeight(t.title,this.theme.title),i={height:e+n.TITLE_PADDING};this._registerDimension("title",i)},_calculateXAxisLabelLimitWidth:function(){var t=this.getDimension("series").width,e=this.axesData.xAxis.labels.length,i=a.isLineTypeChart(this.chartType);return t/(i?e-1:e)},_findRotationDegree:function(t,e,i){var a,r=e/2,o=i/2;return tui.util.forEachArray(n.DEGREE_CANDIDATES,function(e){var i=2*(s.calculateAdjacent(e,r)+s.calculateAdjacent(n.ANGLE_90-e,o));return a=e,!(i<=t+n.XAXIS_LABEL_COMPARE_MARGIN)}),a},_makeHorizontalLabelRotationInfo:function(t){var e,i,n=this.axesData.xAxis.labels,s=this.theme.xAxis.label,a=r.getRenderedLabelsMaxWidth(n,s);return t>=a?null:(i=r.getRenderedLabelsMaxHeight(n,s),e=this._findRotationDegree(t,a,i),{maxLabelWidth:a,labelHeight:i,degree:e})},_calculateOverflowLeft:function(t,e){var i=t.degree,a=t.labelHeight,o=r.getRenderedLabelWidth(e,this.theme.xAxis.label),u=2*(s.calculateAdjacent(i,o/2)+s.calculateAdjacent(n.ANGLE_90-i,a/2)),h=this.options.yAxis.isCenter?0:this.getDimension("yAxis").width,l=u-h;return l},_updateDimensionsWidth:function(t){t>0&&(this.chartLeftPadding+=t,this.dimensions.plot.width-=t,this.dimensions.series.width-=t,this.dimensions.customEvent.width-=t,this.dimensions.xAxis.width-=t,this.positions.series.left+=t)},_updateDegree:function(t,e,i){var s,a;i>0&&(s=this.getDimension("series").width/e+n.XAXIS_LABEL_GUTTER,a=this._findRotationDegree(s,t.maxLabelWidth,t.labelHeight),t.degree=a)},_calculateXAxisRotatedHeight:function(t){var e=t.degree,i=t.maxLabelWidth,a=t.labelHeight,r=2*(s.calculateOpposite(e,i/2)+s.calculateOpposite(n.ANGLE_90-e,a/2));return r},_calculateDiffWithRotatedHeight:function(t){var e=this._calculateXAxisRotatedHeight(t);return e-t.labelHeight},_calculateDiffWithMultilineHeight:function(t,e){var i=this.theme.xAxis.label,n=this.dataProcessor.getMultilineCategories(e,i),s=r.getRenderedLabelsMaxHeight(t,i),a=r.getRenderedLabelsMaxHeight(n,tui.util.extend({cssText:"line-height:1.2;width:"+e+"px"},i));return a-s},_updateDimensionsHeight:function(t){this.dimensions.plot.height-=t,this.dimensions.series.height-=t,this.dimensions.yAxis.height-=t,this.dimensions.rightYAxis.height-=t,this.dimensions.xAxis.height+=t},_updateDimensionsAndDegree:function(){var t,e,i,n=this.options.xAxis||{},s=this._calculateXAxisLabelLimitWidth(),a=this.axesData.xAxis.labels;n.rotation!==!1&&(t=this._makeHorizontalLabelRotationInfo(s)),t?(e=this._calculateOverflowLeft(t,a[0]),this.xAxisDegree=t.degree,this._updateDimensionsWidth(e),this._updateDegree(t,a.length,e),i=this._calculateDiffWithRotatedHeight(t)):i=this._calculateDiffWithMultilineHeight(a,s),this._updateDimensionsHeight(i)},_makePlotDimension:function(){var t=this.getDimension("series");return{width:t.width,height:t.height+n.OVERLAPPING_WIDTH}},_registerAxisComponentsDimension:function(){var t=this._makePlotDimension();this._registerDimension("plot",t),this._registerDimension("xAxis",{width:t.width}),this._registerDimension("yAxis",{height:t.height}),this._registerDimension("rightYAxis",{height:t.height})},makeSeriesWidth:function(){var t,e,i=this.getDimension("chart").width,s=this.getDimension("yAxis").width;return t=a.isHorizontalLegend(this.options.legend.align)?0:this.getDimension("legend").width,e=t+this.getDimension("rightYAxis").width,i-2*n.CHART_PADDING-s-e},makeSeriesHeight:function(){var t,e,i=this.getDimension("chart").height,s=this.getDimension("title").height;return t=a.isHorizontalLegend(this.options.legend.align)?this.getDimension("legend").height:0,e=t+this.dimensions.xAxis.height,i-2*n.CHART_PADDING-s-e},_makeSeriesDimension:function(){return{width:this.makeSeriesWidth(),height:this.makeSeriesHeight()}},_registerCenterComponentsDimension:function(){var t=this._makeSeriesDimension();this._registerDimension("series",t),this._registerDimension("tooltip",t),this._registerDimension("customEvent",t)},_registerAxisComponentsPosition:function(t){var e=this.getPosition("series"),i=this.getDimension("series"),s=this.getDimension("yAxis").width,a=s+i.width+t;this.positions.plot={top:e.top,left:e.left},this.positions.yAxis={top:e.top,left:this.chartLeftPadding+t},this.positions.xAxis={top:e.top+i.height,left:e.left},this.positions.rightYAxis={top:e.top,left:this.chartLeftPadding+a-n.OVERLAPPING_WIDTH}},_makeLegendPosition:function(){var t,e,i=this.dimensions,s=this.getDimension("series"),r=this.options.legend,o=i.title.height;return a.isLegendAlignBottom(r.align)&&(o+=s.height+this.getDimension("xAxis").height+n.LEGEND_AREA_PADDING),a.isHorizontalLegend(r.align)?e=(this.getDimension("chart").width-this.getDimension("legend").width)/2-n.LEGEND_AREA_PADDING:a.isLegendAlignLeft(r.align)?e=0:(t=this.getDimension("yAxis").width+this.getDimension("rightYAxis").width,e=s.width+t+this.chartLeftPadding),{top:o,left:e}},_registerEssentialComponentsPositions:function(){var t,e=this.getPosition("series");this.positions.customEvent=tui.util.extend({},e),this.positions.legend=this._makeLegendPosition(),t=this.hasAxes?{top:e.top-n.SERIES_EXPAND_SIZE,left:e.left-n.SERIES_EXPAND_SIZE}:e,this.positions.tooltip=t},_registerPositions:function(){var t=this.options.legend.align,e=this.getDimension("legend"),i=a.isLegendAlignTop(t)?e.height:0,s=a.isLegendAlignLeft(t)?e.width:0,r={top:this.getDimension("title").height+n.CHART_PADDING+i,left:this.chartLeftPadding+s+this.getDimension("yAxis").width};this.positions.series=r,this.hasAxes&&(this._updateDimensionsAndDegree(),this._registerAxisComponentsPosition(s)),this._registerEssentialComponentsPositions()},_registerExtendedSeriesBound:function(){var t=this.getBound("series"),e=this.hasAxes?r.expandBound(t):t;this._setBound("extendedSeries",e)},_updateBoundsForYAxisCenterOption:function(){var t=this.getDimension("yAxis").width,e=Math.floor(this.getDimension("series").width/2)+n.OVERLAPPING_WIDTH,i=t-n.OVERLAPPING_WIDTH;this.dimensions.extendedSeries.width+=t,this.dimensions.xAxis.width+=n.OVERLAPPING_WIDTH,this.dimensions.plot.width+=t+n.OVERLAPPING_WIDTH,this.dimensions.customEvent.width+=t,this.dimensions.tooltip.width+=t,this.positions.series.left-=t,this.positions.extendedSeries.left-=i,this.positions.plot.left-=i,this.positions.yAxis.left+=e,this.positions.xAxis.left-=i,this.positions.customEvent.left-=i,this.positions.tooltip.left-=i},registerBoundsData:function(){this._registerCenterComponentsDimension(),this.hasAxes&&this._registerAxisComponentsDimension(),this._registerPositions(),this._registerExtendedSeriesBound(),this.options.yAxis.isCenter&&this._updateBoundsForYAxisCenterOption()}});e.exports=o},{"../const":19,"./calculator":41,"./predicate":45,"./renderUtil":47}],41:[function(t,e,i){"use strict";var n=t("../const"),s={calculateLimit:function(t,e){var i,n=0,s={};return 0>t&&(n=t,e-=t,t=0),i=(e-t)/20,s.max=e+i+n,e/6>t?s.min=0+n:s.min=t-i+n,s},normalizeAxisNumber:function(t){var e,i,s=0,a=1;return 0===t?t:(0>t&&(a=-1),t*=a,tui.util.forEachArray(n.AXIS_STANDARD_MULTIPLE_NUMS,function(e){return e>t?(e>1&&(s=e),!1):(e===n.AXIS_LAST_STANDARD_MULTIPLE_NUM&&(s=e),!0)}),1>s?e=.1*this.normalizeAxisNumber(10*t):(i=tui.util.mod(t,s),e=tui.util.addition(t,i>0?s-i:0)),e*=a)},makeTickPixelPositions:function(t,e){var i,n,s=[];return e>0&&(i={min:0,max:t-1},n=this.calculateStepFromLimit(i,e),s=tui.util.map(tui.util.range(0,t,n),function(t){return Math.round(t)}),s[s.length-1]=t-1),s},makeLabelsFromLimit:function(t,e){var i=tui.util.findMultipleNum(e),n=t.min*i,s=t.max*i,a=tui.util.range(n,s+1,e*i);return a=tui.util.map(a,function(t){return t/i})},calculateStepFromLimit:function(t,e){return(t.max-t.min)/(e-1)},calculateAdjacent:function(t,e){return Math.cos(t*n.RAD)*e},calculateOpposite:function(t,e){return Math.sin(t*n.RAD)*e},sumPlusValues:function(t){var e=tui.util.filter(t,function(t){return t>0});return tui.util.sum(e)},sumMinusValues:function(t){var e=tui.util.filter(t,function(t){return 0>t});return tui.util.sum(e)}};e.exports=s},{"../const":19}],42:[function(t,e,i){"use strict";var n=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,s={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},a={leadingZero:function(t,e){var i="",n=0;if(String(t).length>e)return String(t);for(;e-1>n;n+=1)i+="0";return(i+t).slice(-1*e)},isValidRGB:function(t){return n.test(t)},hexToRGB:function(t){var e,i,n;return a.isValidRGB(t)?(t=t.substring(1),e=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),n=parseInt(t.substr(4,2),16),[e,i,n]):!1},rgbToHEX:function(t,e,i){var n="#"+a.leadingZero(t.toString(16),2)+a.leadingZero(e.toString(16),2)+a.leadingZero(i.toString(16),2);return a.isValidRGB(n)?n:!1},colorNameToHex:function(t){return s[t.toLowerCase()]||t}};tui.util.defineNamespace("tui.chart"),tui.chart.colorutil=a,e.exports=a},{}],43:[function(t,e,i){"use strict";var n=Array.prototype.slice,s={create:function(t,e){var i=document.createElement(t);return e&&this.addClass(i,e),i},_getClassNames:function(t){var e,i;return t.classList?i=n.call(t.classList):(e=t.className||"",i=e&&tui.util.isString(e)?e.split(" "):[]),i},addClass:function(t,e){var i,n;t&&e&&(i=this._getClassNames(t),n=tui.util.inArray(e,i),n>-1||(i.push(e),t.className=i.join(" ")))},removeClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);-1!==n&&(i.splice(n,1),t.className=i.join(" "))},hasClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);return n>-1},findParentByClass:function(t,e,i){var n,s=t.parentNode;return n=s?this.hasClass(s,e)?s:"BODY"===s.nodeName||this.hasClass(s,i)?null:this.findParentByClass(s,e,i):null},append:function(t,e){t&&e&&(e=tui.util.isArray(e)?e:[e],tui.util.forEachArray(e,function(e){e&&t.appendChild(e)}))}};e.exports=s},{}],44:[function(t,e,i){"use strict";var n={_attachEvent:function(t,e,i){e.attachEvent("on"+t,i)},_addEventListener:function(t,e,i){try{e.addEventListener(t,i)}catch(n){throw n}},bindEvent:function(t,e,i){var n;"addEventListener"in e?n=this._addEventListener:"attachEvent"in e&&(n=this._attachEvent),this.bindEvent=n,n(t,e,i)}};e.exports=n},{}],45:[function(t,e,i){"use strict";var n=t("../const"),s={isBarChart:function(t){return t===n.CHART_TYPE_BAR},isColumnChart:function(t){return t===n.CHART_TYPE_COLUMN},isBarTypeChart:function(t){return this.isBarChart(t)||this.isColumnChart(t)},isComboChart:function(t){return t===n.CHART_TYPE_COMBO},isLineChart:function(t){return t===n.CHART_TYPE_LINE},isAreaChart:function(t){return t===n.CHART_TYPE_AREA;
},isLineTypeChart:function(t){return this.isLineChart(t)||this.isAreaChart(t)},isPieChart:function(t){return t===n.CHART_TYPE_PIE},isMapChart:function(t){return t===n.CHART_TYPE_MAP},isMousePositionChart:function(t){return this.isPieChart(t)||this.isMapChart(t)},isLegendAlignOuter:function(t){return t===n.LEGEND_ALIGN_OUTER},isLegendAlignCenter:function(t){return t===n.LEGEND_ALIGN_CENTER},isLegendAlignLeft:function(t){return t===n.LEGEND_ALIGN_LEFT},isLegendAlignTop:function(t){return t===n.LEGEND_ALIGN_TOP},isLegendAlignBottom:function(t){return t===n.LEGEND_ALIGN_BOTTOM},isHorizontalLegend:function(t){return this.isLegendAlignTop(t)||this.isLegendAlignBottom(t)},isPieLegendAlign:function(t){var e=!1;return t&&(e=this.isLegendAlignOuter(t)||this.isLegendAlignCenter(t)),e},isAllowedStackedOption:function(t){return this.isBarChart(t)||this.isColumnChart(t)||this.isAreaChart(t)},isNormalStacked:function(t){return t===n.STACKED_NORMAL_TYPE},isPercentStacked:function(t){return t===n.STACKED_PERCENT_TYPE},isValidStackedOption:function(t){return t&&(this.isNormalStacked(t)||this.isPercentStacked(t))},isYAxisAlignCenter:function(t,e){return!t&&e===n.YAXIS_ALIGN_CENTER},isMinusLimit:function(t){return t.min<=0&&t.max<=0}};e.exports=s},{"../const":19}],46:[function(t,e,i){"use strict";var n=t("../const"),s={pickStacks:function(t){var e;return e=tui.util.map(t,function(t){return t.stack}),e=tui.util.filter(e,function(t){return!!t}),e=tui.util.unique(e).slice(0,2),e.push(n.DEFAULT_STACK),e},sortSeriesData:function(t,e){var i=[];return tui.util.forEachArray(e,function(e){var s=tui.util.filter(t,function(t){return(t.stack||n.DEFAULT_STACK)===e});i=i.concat(s)}),i},removeSeriesStack:function(t){tui.util.forEachArray(t,function(t){delete t.stack})}};e.exports=s},{"../const":19}],47:[function(t,e,i){"use strict";var n=t("./domHandler"),s=t("./../const"),a=tui.util.browser,r=a.msie&&7===a.version,o=a.msie&&a.version<=8,u={concatStr:function(){return String.prototype.concat.apply("",arguments)},makeFontCssText:function(t){var e=[];return t?(t.fontSize&&e.push(this.concatStr("font-size:",t.fontSize,"px")),t.fontFamily&&e.push(this.concatStr("font-family:",t.fontFamily)),t.color&&e.push(this.concatStr("color:",t.color)),e.join(";")):""},checkEl:null,_createSizeCheckEl:function(){var t,e;return this.checkEl?this.checkEl.style.cssText="":(t=n.create("DIV","tui-chart-size-check-element"),e=n.create("SPAN"),t.appendChild(e),this.checkEl=t),this.checkEl},_makeCachingKey:function(t,e,i){var n=[t,i];return tui.util.forEach(e,function(t,e){n.push(t+e)}),n.join("-")},sizeCache:{},_addCssStyle:function(t,e){t.style.fontSize=(e.fontSize||s.DEFAULT_LABEL_FONT_SIZE)+"px",e.fontFamily&&(t.style.fontFamily=e.fontFamily),e.cssText&&(t.style.cssText+=e.cssText)},_getRenderedLabelSize:function(t,e,i){var n,s,a,r;return e=e||{},(t=String(t))?(n=this._makeCachingKey(t,e,i),r=this.sizeCache[n],r||(s=this._createSizeCheckEl(),a=s.firstChild,a.innerHTML=t,this._addCssStyle(s,e),document.body.appendChild(s),r=a[i],document.body.removeChild(s),this.sizeCache[n]=r),r):0},getRenderedLabelWidth:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetWidth");return i},getRenderedLabelHeight:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetHeight");return i},_getRenderedLabelsMaxSize:function(t,e,i){var n=tui.util.map(t,function(t){return i(t,e)}),s=tui.util.max(n);return s},getRenderedLabelsMaxWidth:function(t,e){var i=tui.util.bind(this.getRenderedLabelWidth,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},getRenderedLabelsMaxHeight:function(t,e){var i=tui.util.bind(this.getRenderedLabelHeight,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},renderDimension:function(t,e){t.style.cssText=[this.concatStr("width:",e.width,"px"),this.concatStr("height:",e.height,"px")].join(";")},renderPosition:function(t,e){tui.util.isUndefined(e)||(tui.util.isUndefined(e.top)||(t.style.top=e.top+"px"),tui.util.isUndefined(e.left)||(t.style.left=e.left+"px"),tui.util.isUndefined(e.right)||(t.style.right=e.right+"px"))},renderBackground:function(t,e){e&&(t.style.background=e)},renderFontFamily:function(t,e){e&&(t.style.fontFamily=e)},renderTitle:function(t,e,i){var s,a;return t?(s=n.create("DIV",i),s.innerHTML=t,a=u.makeFontCssText(e),e.background&&(a+=";"+this.concatStr("background:",e.background)),s.style.cssText=a,s):null},expandBound:function(t){var e=t.dimension,i=t.position;return{dimension:{width:e.width+2*s.SERIES_EXPAND_SIZE,height:e.height+2*s.SERIES_EXPAND_SIZE},position:{left:i.left-s.SERIES_EXPAND_SIZE,top:i.top-s.SERIES_EXPAND_SIZE}}},makeCustomEventName:function(t,e,i){return t+tui.util.properCase(e)+tui.util.properCase(i)},formatValue:function(t,e){var i=[t].concat(e||[]);return tui.util.reduce(i,function(t,e){return e(t)})},formatValues:function(t,e){var i;return e&&e.length?i=tui.util.map(t,function(t){return u.formatValue(t,e)}):t},cancelAnimation:function(t){t&&t.id&&(cancelAnimationFrame(t.id),delete t.id)},startAnimation:function(t,e){function i(){var a=(new Date).getTime()-n,r=Math.min(a/t,1);e(r),1===r?delete s.id:s.id=requestAnimationFrame(i)}var n,s={};return n=(new Date).getTime(),s.id=requestAnimationFrame(i),s},isIE7:function(){return r},isOldBrowser:function(){return o}};tui.util.defineNamespace("tui.chart"),tui.chart.renderUtil=u,e.exports=u},{"./../const":19,"./domHandler":43}],48:[function(t,e,i){"use strict";e.exports={template:function(t){return function(e){var i=t;return tui.util.forEach(e,function(t,e){var n=new RegExp("{{\\s*"+e+"\\s*}}","g");i=i.replace(n,t)}),i}}}},{}],49:[function(t,e,i){"use strict";var n=tui.util.defineClass({register:function(t,e){this.on(t,e)}});tui.util.CustomEvents.mixin(n),e.exports=n},{}],50:[function(t,e,i){"use strict";var n=t("./legendModel"),s=t("./legendDimensionModel"),a=t("../const"),r=t("../helpers/domHandler"),o=t("../helpers/predicate"),u=t("../helpers/eventListener"),h=t("../helpers/renderUtil"),l=t("./../legends/legendTemplate"),c=tui.util.defineClass({init:function(t){var e;this.theme=t.theme,this.options=t.options||{},this.chartTypes=t.chartTypes,this.chartType=t.chartType,this.userEvent=t.userEvent,this.className="tui-chart-legend-area",this.checkedIndexes=[],this.boundsMaker=t.boundsMaker,e=t.dataProcessor.getWholeLegendData(),this.legendModel=new n({theme:this.theme,labels:t.dataProcessor.getLegendLabels(),legendData:e,chartTypes:this.chartTypes,chartType:this.chartType}),this.dimensionModel=new s({legendLabels:tui.util.pluck(e,"label"),chartType:this.chartType,options:this.options,theme:this.theme})},registerDimension:function(){var t=this.boundsMaker.getDimension("chart").width;this.boundsMaker.registerBaseDimension("legend",this.dimensionModel.makeDimension(t))},_renderLegendArea:function(t){t.innerHTML=this._makeLegendHtml(this.legendModel.getData()),h.renderPosition(t,this.boundsMaker.getPosition("legend")),t.style.cssText+=";"+h.makeFontCssText(this.theme.label)},render:function(){var t=r.create("DIV",this.className);return this.legendContainer=t,o.isHorizontalLegend(this.options.align)&&r.addClass(t,"horizontal"),this._renderLegendArea(t),this._attachEvent(t),t},resize:function(){this._renderLegendArea(this.legendContainer)},_makeLegendRectCssText:function(t,e){var i,n,s=t.theme,r=s.borderColor?h.concatStr(";border:1px solid ",s.borderColor):"";return n="line"===t.chartType?e+a.LINE_MARGIN_TOP:e,i=h.concatStr(";margin-top:",n,"px"),h.concatStr("background-color:",s.singleColor||s.color,r,i)},_makeLabelsWidth:function(t){var e=this;return tui.util.map(t,function(t){var i=h.getRenderedLabelWidth(t.label,e.theme.label);return i+a.LEGEND_AREA_PADDING})},_makeLegendHtml:function(t){var e=this,i=l.tplLegend,n=l.tplCheckbox,s=this._makeLabelsWidth(t),r=h.getRenderedLabelHeight(t[0].label,t[0].theme),u=o.isHorizontalLegend(this.options.align),c=r+2*a.LABEL_PADDING_TOP,d=parseInt((c-a.LEGEND_RECT_WIDTH)/2,10)-1,p=tui.util.map(t,function(t,a){var o,h=e._makeLegendRectCssText(t,d),l=e.options.hasCheckbox===!1?"":n({index:a,checked:e.legendModel.isCheckedIndex(a)?" checked":""});return o={rectCssText:h,height:c,labelHeight:r,unselected:e.legendModel.isUnselectedIndex(a)?" unselected":"",labelWidth:u?";width:"+s[a]+"px":"",iconType:t.chartType||"rect",label:t.label,checkbox:l,index:a},i(o)}).join("");return p},_findLegendLabelElement:function(t){var e;return e=r.hasClass(t,a.CLASS_NAME_LEGEND_LABEL)?t:r.findParentByClass(t,a.CLASS_NAME_LEGEND_LABEL)},_fireLegendCheckboxEvent:function(){this.fire("changeCheckedLegends",this.legendModel.getCheckedIndexes())},_fireLegendSelectionEvent:function(t){var e=this,i=this.chartTypes||[t.chartType],n=this.legendModel.getSelectedIndex(),s=tui.util.isNull(n)?n:t.seriesIndex;tui.util.forEachArray(i,function(i){e.fire(h.makeCustomEventName("select",i,"legend"),t.chartType,s)})},_fireUserEvent:function(t){this.userEvent.fire("selectLegend",{legend:t.label,chartType:t.chartType,index:t.index})},_selectLegend:function(t){var e=this.legendModel.getDatum(t);this.legendModel.toggleSelectedIndex(t),tui.util.isNull(this.legendModel.getSelectedIndex())||this.legendModel.isCheckedSelectedIndex()||(this.legendModel.checkSelectedIndex(),this._fireLegendCheckboxEvent()),this._renderLegendArea(this.legendContainer),this._fireLegendSelectionEvent(e),this._fireUserEvent(e)},_getCheckedIndexes:function(){var t=[];return tui.util.forEachArray(this.legendContainer.getElementsByTagName("input"),function(e,i){e.checked&&t.push(i)}),t},_checkLegend:function(){var t,e=this._getCheckedIndexes(),i=e.length;o.isPieChart(this.chartType)&&1===i||0===i?this._renderLegendArea(this.legendContainer):(this.legendModel.updateCheckedData(e),t=this.legendModel.getSelectedDatum(),this.legendModel.isCheckedSelectedIndex()||this.legendModel.updateSelectedIndex(null),this._renderLegendArea(this.legendContainer),this._fireLegendCheckboxEvent(),t&&this._fireLegendSelectionEvent(t,!0))},_onClick:function(t){var e,i,n=t.target||t.srcElement;return r.hasClass(n,a.CLASS_NAME_LEGEND_CHECKBOX)?void this._checkLegend():(e=this._findLegendLabelElement(n),void(e&&(i=parseInt(e.getAttribute("data-index"),10),this._selectLegend(i))))},_attachEvent:function(t){u.bindEvent("click",t,tui.util.bind(this._onClick,this))}});tui.util.CustomEvents.mixin(c),e.exports=c},{"../const":19,"../helpers/domHandler":43,"../helpers/eventListener":44,"../helpers/predicate":45,"../helpers/renderUtil":47,"./../legends/legendTemplate":53,"./legendDimensionModel":51,"./legendModel":52}],51:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),a=t("../helpers/renderUtil"),r=tui.util.defineClass({init:function(t){this.chartType=t.chartType,this.options=t.options,this.theme=t.theme,this.legendLabels=t.legendLabels,this.legendCheckboxWidth=this.options.hasCheckbox===!1?0:n.LEGEND_CHECKBOX_WIDTH},_makeLegendWidth:function(t){return t+this.legendCheckboxWidth+n.LEGEND_RECT_WIDTH+n.LEGEND_LABEL_LEFT_PADDING+n.LEGEND_AREA_PADDING},_calculateLegendsWidthSum:function(t,e){var i=this;return tui.util.sum(tui.util.map(t,function(t){return i._makeLegendWidth(a.getRenderedLabelWidth(t,e))}))},_divideLegendLabels:function(t,e){var i=Math.round(t.length/e),n=[],s=[];return tui.util.forEachArray(t,function(t){s.length<i?s.push(t):(n.push(s),s=[t])}),s.length&&n.push(s),n},_getMaxLineWidth:function(t,e){var i=this,n=tui.util.map(t,function(t){return i._calculateLegendsWidthSum(t,e)});return Math.max.apply(null,n)},_makeDividedLabelsAndMaxLineWidth:function(t,e,i){var n,s,a=1,r=0,o=0;do{if(n=this._divideLegendLabels(t,a),r=this._getMaxLineWidth(n,i),o===r){n=s;break}o=r,s=n,a+=1}while(r>=e);return{dividedLabels:n,maxLineWidth:r}},_calculateHorizontalLegendHeight:function(t,e){return tui.util.sum(tui.util.map(t,function(t){return a.getRenderedLabelsMaxHeight(t,e)}))},_makeHorizontalDimension:function(t){var e=this.theme.label,i=this._makeDividedLabelsAndMaxLineWidth(this.legendLabels,t,e),s=this._calculateHorizontalLegendHeight(i.dividedLabels,e),a=s+2*n.LEGEND_AREA_PADDING;return{width:i.maxLineWidth,height:a}},_makeVerticalDimension:function(){var t=a.getRenderedLabelsMaxWidth(this.legendLabels,this.theme.label),e=this._makeLegendWidth(t);return{width:e,height:0}},_isSkipLegend:function(){var t=s.isPieChart(this.chartType),e=s.isPieChart(this.chartType)&&s.isPieLegendAlign(this.options.align);return t&&e||this.options.hidden},makeDimension:function(t){var e={};return this._isSkipLegend()?e.width=0:e=s.isHorizontalLegend(this.options.align)?this._makeHorizontalDimension(t):this._makeVerticalDimension(),e}});e.exports=r},{"../const":19,"../helpers/predicate":45,"../helpers/renderUtil":47}],52:[function(t,e,i){"use strict";var n=t("../themes/defaultTheme"),s=Array.prototype.concat,a=tui.util.defineClass({init:function(t){this.theme=t.theme,this.labels=t.labels,this.legendData=t.legendData,this.chartTypes=t.chartTypes,this.chartType=t.chartType,this.data=null,this.selectedIndex=null,this.checkedIndexesMap={},this.checkedWholeIndexes=[],this._initCheckedIndexes(),this._setData()},_initCheckedIndexes:function(){var t=[];tui.util.forEachArray(this.legendData,function(e,i){t[i]=!0}),this.checkedWholeIndexes=t},_makeLabelInfoAppliedTheme:function(t,e,i){var n=0;return tui.util.map(t,function(t,s){var a={color:e.colors[s]};return e.singleColors&&(a.singleColor=e.singleColors[s]),e.borderColor&&(a.borderColor=e.borderColor),t.theme=a,t.index=s,i&&tui.util.isUndefined(i[s])?t.seriesIndex=-1:(t.seriesIndex=n,n+=1),t})},_setData:function(){var t,e,i,a,r=this,o=this.legendData;this.chartTypes?(i=0,a=0,e={colors:n.series.colors},t=s.apply([],tui.util.map(this.chartTypes,function(t){var n,s,u,h,l=r.theme[t],c=r.labels[t].length,d=i+c;return l||(u=a+c,l=JSON.parse(JSON.stringify(e)),l.colors=l.colors.slice(a,u),a=u),n=o.slice(i,d),s=r.checkedIndexesMap[t],h=r._makeLabelInfoAppliedTheme(n,l,s),i=d,h}))):t=this._makeLabelInfoAppliedTheme(o,this.theme,this.checkedIndexesMap[this.chartType]),this.data=t},getData:function(){return this.data},getDatum:function(t){return this.data[t]},getSelectedDatum:function(){return this.getDatum(this.selectedIndex)},updateSelectedIndex:function(t){this.selectedIndex=t},toggleSelectedIndex:function(t){var e;e=this.selectedIndex===t?null:t,this.updateSelectedIndex(e)},getSelectedIndex:function(){return this.selectedIndex},isUnselectedIndex:function(t){return!tui.util.isNull(this.selectedIndex)&&this.selectedIndex!==t},isCheckedSelectedIndex:function(){return this.isCheckedIndex(this.selectedIndex)},_updateCheckedIndex:function(t){this.checkedWholeIndexes[t]=!0},isCheckedIndex:function(t){return!!this.checkedWholeIndexes[t]},_addSendingDatum:function(t){var e=this.getDatum(t);this.checkedIndexesMap[e.chartType]||(this.checkedIndexesMap[e.chartType]=[]),this.checkedIndexesMap[e.chartType][e.index]=!0},checkSelectedIndex:function(){this._updateCheckedIndex(this.selectedIndex),this._addSendingDatum(this.selectedIndex),this._setData()},getCheckedIndexes:function(){return this.checkedIndexesMap[this.chartType]||this.checkedIndexesMap},_resetCheckedData:function(){this.checkedWholeIndexes=[],this.checkedIndexesMap={}},updateCheckedData:function(t){var e=this;this._resetCheckedData(),tui.util.forEachArray(t,function(t){e._updateCheckedIndex(t),e._addSendingDatum(t)}),this._setData()}});e.exports=a},{"../themes/defaultTheme":80}],53:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_CHECKBOX:'<div class="tui-chart-legend-checkbox-area"><input class="tui-chart-legend-checkbox" type="checkbox" value="{{ index }}"{{ checked }} /></div>',HTML_LEGEND:'<div class="tui-chart-legend{{ unselected }}" style="height:{{ height }}px">{{ checkbox }}<div class="tui-chart-legend-rect {{ iconType }}" style="{{ rectCssText }}"></div><div class="tui-chart-legend-label" style="height:{{ labelHeight }}px{{ labelWidth }}" data-index="{{ index }}">{{ label }}</div></div>',HTML_TICK:'<div class="tui-chart-map-legend-tick" style="{{ position }}"></div><div class="tui-chart-map-legend-tick-label" style="{{ labelPosition }}">{{ label }}</div>'};e.exports={tplCheckbox:n.template(s.HTML_CHECKBOX),tplLegend:n.template(s.HTML_LEGEND),tplTick:n.template(s.HTML_TICK)}},{"../helpers/templateMaker":48}],54:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),a=t("../helpers/domHandler"),r=t("../helpers/renderUtil"),o=t("../factories/pluginFactory"),u=t("./../legends/legendTemplate"),h=tui.util.defineClass({init:function(t){var e=t.libType||n.DEFAULT_PLUGIN;this.className="tui-chart-legend-area",this.theme=t.theme,this.options=t.options||{},this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.graphRenderer=o.get(e,"mapLegend"),this.isHorizontal=s.isHorizontalLegend(this.options.align)},_makeVerticalDimension:function(){var t=Math.max.apply(null,this.dataProcessor.getValues()),e=this.dataProcessor.getFormatFunctions(),i=r.formatValue(t,e),s=r.getRenderedLabelWidth(i,this.theme.label),a=n.LEGEND_AREA_PADDING+n.MAP_LEGEND_LABEL_PADDING;return{width:n.MAP_LEGEND_GRAPH_SIZE+s+a,height:n.MAP_LEGEND_SIZE}},_makeHorizontalDimension:function(){var t=Math.max.apply(null,this.dataProcessor.getValues()),e=r.getRenderedLabelHeight(t,this.theme.label),i=n.LEGEND_AREA_PADDING+n.MAP_LEGEND_LABEL_PADDING;return{width:n.MAP_LEGEND_SIZE,height:n.MAP_LEGEND_GRAPH_SIZE+e+i}},registerDimension:function(){var t;t=this.isHorizontal?this._makeHorizontalDimension():this._makeVerticalDimension(),this.boundsMaker.registerBaseDimension("legend",t)},_makeBaseDataToMakeTickHtml:function(){var t,e=this.boundsMaker.getDimension("legend"),i=this.axesData.tickCount-1,n={};return this.isHorizontal?(n.startPositionValue=5,n.step=e.width/i,n.positionType="left:"):(n.startPositionValue=0,n.step=e.height/i,n.positionType="top:",t=this.axesData.labels[0],n.labelSize=parseInt(r.getRenderedLabelHeight(t,this.theme.label)/2,10)-1),n},_makeTickHtml:function(){var t,e=this,i=this._makeBaseDataToMakeTickHtml(),n=i.startPositionValue;return t=tui.util.map(this.axesData.labels,function(t){var s,a;return s=e.isHorizontal?parseInt(r.getRenderedLabelWidth(t,e.theme.label)/2,10):i.labelSize,a=u.tplTick({position:i.positionType+n+"px",labelPosition:i.positionType+(n-s)+"px",label:t}),n+=i.step,a}),t.join("")},_renderTickArea:function(){var t=a.create("div","tui-chart-legend-tick-area");return t.innerHTML=this._makeTickHtml(),this.isHorizontal&&a.addClass(t,"horizontal"),t},_makeVerticalGraphDimension:function(){return{width:n.MAP_LEGEND_GRAPH_SIZE,height:this.boundsMaker.getDimension("legend").height}},_makeHorizontalGraphDimension:function(){return{width:this.boundsMaker.getDimension("legend").width+10,height:n.MAP_LEGEND_GRAPH_SIZE}},_renderGraph:function(t){var e;e=this.isHorizontal?this._makeHorizontalGraphDimension():this._makeVerticalGraphDimension(),this.graphRenderer.render(t,e,this.colorModel,this.isHorizontal)},_renderLegendArea:function(t){var e;t.innerHTML="",r.renderPosition(t,this.boundsMaker.getPosition("legend")),this._renderGraph(t),e=this._renderTickArea(),t.appendChild(e),t.style.cssText+=";"+r.makeFontCssText(this.theme.label)},render:function(t){var e=a.create("DIV",this.className);return this.legendContainer=e,this.colorModel=t.colorModel,this.axesData=t.axesData,this._renderLegendArea(e),e},resize:function(){this._renderLegendArea(this.legendContainer)},onShowWedge:function(t){this.graphRenderer.showWedge(n.MAP_LEGEND_SIZE*t)},onHideWedge:function(){this.graphRenderer.hideWedge()}});tui.util.CustomEvents.mixin(h),e.exports=h},{"../const":19,"../factories/pluginFactory":36,"../helpers/domHandler":43,"../helpers/predicate":45,"../helpers/renderUtil":47,"./../legends/legendTemplate":53}],55:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),s=t("../helpers/calculator"),a=t("../helpers/renderUtil"),r=t("./plotTemplate"),o=tui.util.defineClass({init:function(t){this.className="tui-chart-plot-area",this.boundsMaker=t.boundsMaker,this.options=t.options||{},this.theme=t.theme||{},this.data={}},_renderPlotArea:function(t,e){var i=this.boundsMaker.getDimension("plot");this.data=e,a.renderDimension(t,i),a.renderPosition(t,this.boundsMaker.getPosition("plot")),this._renderLines(t,i)},render:function(t){var e=n.create("DIV",this.className);return this._renderPlotArea(e,t),this.plotContainer=e,e},rerender:function(t){this.plotContainer.innerHTML="",this._renderPlotArea(this.plotContainer,t)},resize:function(t){this.rerender(t)},_renderLines:function(t,e){var i=this._makeHorizontalPixelPositions(e.width),n=this._makeVerticalPixelPositions(e.height),s=this.theme,r="";r+=this._makeLineHtml({positions:i,size:e.height,className:"vertical",positionType:"left",sizeType:"height",lineColor:s.lineColor}),r+=this._makeLineHtml({positions:n,size:e.width,className:"horizontal",positionType:"bottom",sizeType:"width",lineColor:s.lineColor}),t.innerHTML=r,a.renderBackground(t,s.background)},_makeLineHtml:function(t){var e=r.tplPlotLine,i=tui.util.map(t.positions,function(i){var n,s=[a.concatStr(t.positionType,":",i,"px"),a.concatStr(t.sizeType,":",t.size,"px")];return t.lineColor&&s.push(a.concatStr("background-color:",t.lineColor)),n={className:t.className,cssText:s.join(";")},e(n)}).join("");return i},_makeVerticalPixelPositions:function(t){var e=s.makeTickPixelPositions(t,this.data.vTickCount);return e.shift(),e},_makeDividedPlotPositions:function(t){var e,i,n=parseInt(this.data.hTickCount/2,10)+1,a=this.boundsMaker.getDimension("yAxis").width;return t=(t-a)/2,e=s.makeTickPixelPositions(t,n),i=tui.util.map(e,function(e){return e+t+a}),e.pop(),i.shift(),e.concat(i)},_makeHorizontalPixelPositions:function(t){var e;return this.options.divided?e=this._makeDividedPlotPositions(t):(e=s.makeTickPixelPositions(t,this.data.hTickCount),e.shift()),e}});e.exports=o},{"../helpers/calculator":41,"../helpers/domHandler":43,"../helpers/renderUtil":47,"./plotTemplate":56}],56:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_PLOT_LINE:'<div class="tui-chart-plot-line {{ className }}" style="{{ cssText }}"></div>'};e.exports={tplPlotLine:n.template(s.HTML_PLOT_LINE)}},{"../helpers/templateMaker":48}],57:[function(t,e,i){"use strict";var n,s=t("./raphaelBarChart"),a=t("./raphaelLineChart"),r=t("./raphaelAreaChart"),o=t("./raphaelPieChart"),u=t("./raphaelMapChart"),h=t("./raphaelMapLegend"),l="raphael";n={bar:s,column:s,line:a,area:r,pie:o,map:u,mapLegend:h},tui.chart.registerPlugin(l,n)},{"./raphaelAreaChart":58,"./raphaelBarChart":59,"./raphaelLineChart":60,"./raphaelMapChart":62,"./raphaelMapLegend":63,"./raphaelPieChart":64}],58:[function(t,e,i){"use strict";var n=t("./raphaelLineTypeBase"),s=t("./raphaelRenderUtil"),a=window.Raphael,r=1,o=.3,u=Array.prototype.concat,h=tui.util.defineClass(n,{init:function(){this.selectedLegendIndex=null},render:function(t,e){var i,n=e.dimension,s=e.groupPositions,r=e.theme,o=r.colors,u=e.options.hasDot?1:0,h=this.makeBorderStyle(r.borderColor,u),l=this.makeOutDotStyle(u,h);return this.paper=i=a(t,1,n.height),this.stackedOption=e.options.stacked,this.isSpline=e.options.spline,this.dimension=n,this.zeroTop=e.zeroTop,this.groupPaths=this.isSpline?this._getSplineAreasPath(s):this._getAreasPath(s),this.groupAreas=this._renderAreas(i,this.groupPaths,o),this.tooltipLine=this._renderTooltipLine(i,n.height),this.groupDots=this._renderDots(i,s,o,u),e.options.hasSelection&&(this.selectionDot=this._makeSelectionDot(i),this.selectionColor=r.selectionColor),this.outDotStyle=l,this.groupPositions=s,this.dotOpacity=u,delete this.pivotGroupDots,i},_renderAreas:function(t,e,i){var n;return i=i.slice(0,e.length),i.reverse(),e.reverse(),n=tui.util.map(e,function(e,n){var a=i[n]||"transparent",r=a;return{area:s.renderArea(t,e.area.join(" "),{fill:a,opacity:.5,stroke:a}),line:s.renderLine(t,e.line.join(" "),r)}}),n.reverse()},_makeHeight:function(t,e){return Math.abs(t-e)},_makeAreasPath:function(t){var e=2*t.length,i=[];return tui.util.forEachArray(t,function(t,n){i[n]=["L",t.left,t.top],i[e-n-1]=["L",t.left,t.startTop]}),i=u.apply([],i),i[0]="M",i},_getAreasPath:function(t){var e=this;return tui.util.map(t,function(t){return t[0].left-=1,{area:e._makeAreasPath(t),line:e._makeLinesPath(t)}})},_makeSplineAreaBottomPath:function(t){var e=this;return tui.util.map(t,function(t){return["L",t.left,e.zeroTop]}).reverse()},_getSplineAreasPath:function(t){var e=this;return tui.util.map(t,function(t){var i,n;return t[0].left-=1,i=e._makeSplineLinesPath(t),n=e._makeSplineAreaBottomPath(t),{area:i.concat(n),line:i}})},resize:function(t){var e=this,i=t.dimension,n=t.groupPositions;this.groupPositions=n,this.groupPaths=this.isSpline?this._getSplineAreasPath(n):this._getAreasPath(n),this.paper.setSize(i.width,i.height),this.tooltipLine.attr({top:i.height}),tui.util.forEachArray(this.groupPaths,function(t,i){var s=e.groupAreas[i];s.area.attr({path:t.area.join(" ")}),s.line.attr({path:t.line.join(" ")}),tui.util.forEachArray(e.groupDots[i],function(t,s){e._moveDot(t.dot,n[i][s])})})},selectLegend:function(t){var e=this,i=tui.util.isNull(t);this.selectedLegendIndex=t,tui.util.forEachArray(this.groupPaths,function(n,s){var a=e.groupAreas[s],u=i||t===s?r:o;a.area.attr({"fill-opacity":u}),a.line.attr({"stroke-opacity":u}),tui.util.forEachArray(e.groupDots[s],function(t){e.dotOpacity&&t.dot.attr({"fill-opacity":u})})})}});e.exports=h},{"./raphaelLineTypeBase":61,"./raphaelRenderUtil":65}],59:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=window.Raphael,a=700,r=1,o=.3,u=.2,h=tui.util.defineClass({render:function(t,e){var i,n=e.groupBounds,a=e.dimension;return n?(this.paper=i=s(t,a.width,a.height),this.theme=e.theme,this.itemGroup=e.itemGroup,this.chartType=e.chartType,this.groupBars=this._renderBars(n),this.groupBorders=this._renderBarBorders(n),this.overlay=this._renderOverlay(),this.theme=e.theme,this.groupBounds=n,this.chartType=e.chartType,i):null},_renderOverlay:function(){var t=this._renderBar({bound:{width:1,height:1,left:0,top:0},color:"#fff"}).attr({"fill-opacity":0});return t},_renderBar:function(t,e){var i;return t.width<0||t.height<0?null:(i=this.paper.rect(t.left,t.top,t.width,t.height),i.attr({fill:e,stroke:"none"}),i)},_renderBars:function(t){var e,i=this,n=[],s=this.theme.colors;return 1===t[0].length&&this.theme.singleColors&&(n=this.theme.singleColors),e=tui.util.map(t,function(t,e){var a=n[e];return tui.util.map(t,function(t,n){var r,o,u;return t?(u=i.itemGroup.getItem(e,n,i.chartType),r=a||s[n],o=i._renderBar(t.start,r),{rect:o,color:r,bound:t.end,item:u,groupIndex:e,index:n,isRange:u.isRange}):null})})},_makeRectPoints:function(t){return{leftTop:{left:Math.ceil(t.left),top:Math.ceil(t.top)},rightTop:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top)},rightBottom:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top+t.height)},leftBottom:{left:Math.ceil(t.left),top:Math.ceil(t.top+t.height)}}},_makeTopLinePath:function(t,e,i){var s,a=null,r=i.value;return("bar"===e||r>=0||i.isRange)&&(s=tui.util.extend({},t.leftTop),s.left-="column"===e||0>r?1:0,a=n.makeLinePath(s,t.rightTop).join(" ")),a},_makeRightLinePath:function(t,e,i){var s=null;return("column"===e||i.value>=0||i.isRange)&&(s=n.makeLinePath(t.rightTop,t.rightBottom).join(" ")),s},_makeBottomLinePath:function(t,e,i){var s=null;return("bar"===e||i.value<0||i.isRange)&&(s=n.makeLinePath(t.leftBottom,t.rightBottom).join(" ")),s},_makeLeftLinePath:function(t,e,i){var s=null;return("column"===e||i.value<0||i.isRange)&&(s=n.makeLinePath(t.leftTop,t.leftBottom).join(" ")),s},_makeBorderLinesPaths:function(t,e,i){var n=this._makeRectPoints(t),s={top:this._makeTopLinePath(n,e,i),right:this._makeRightLinePath(n,e,i),bottom:this._makeBottomLinePath(n,e,i),left:this._makeLeftLinePath(n,e,i)};return tui.util.filter(s,function(t){return t})},_renderBorderLines:function(t,e,i,s){var a=this,r=this._makeBorderLinesPaths(t,i,s),o={};return tui.util.forEach(r,function(t,i){o[i]=n.renderLine(a.paper,t,e,1)}),o},_renderBarBorders:function(t){var e,i=this,n=this.theme.borderColor;return n?e=tui.util.map(t,function(t,e){return tui.util.map(t,function(t,s){var a;return t?(a=i.itemGroup.getItem(e,s,i.chartType),i._renderBorderLines(t.start,n,i.chartType,a)):null})}):null},_animateRect:function(t,e){t.animate({x:e.left,y:e.top,width:e.width,height:e.height},a)},_animateBorders:function(t,e,i,n){var s=this._makeBorderLinesPaths(e,i,n);tui.util.forEach(t,function(t,e){t.animate({path:s[e]},a)})},animate:function(t){var e=this,i=this.groupBorders||[];this.callbackTimeout&&(clearTimeout(this.callbackTimeout),delete this.callbackTimeout),n.forEach2dArray(this.groupBars,function(t,n,s){var a=i[n]&&i[n][s];t&&(e._animateRect(t.rect,t.bound),a&&e._animateBorders(a,t.bound,e.chartType,t.item))}),t&&(this.callbackTimeout=setTimeout(function(){t(),delete e.callbackTimeout},a))},showAnimation:function(t){var e=this.groupBars[t.groupIndex][t.index],i=e.bound;this.overlay.attr({width:i.width,height:i.height,x:i.left,y:i.top,"fill-opacity":.3})},hideAnimation:function(){this.overlay.attr({width:1,height:1,x:0,y:0,"fill-opacity":0})},_updateRectBound:function(t,e){t.attr({x:e.left,y:e.top,width:e.width,height:e.height})},_updateBordersPath:function(t,e,i,n){var s=this._makeBorderLinesPaths(e,i,n);tui.util.forEach(t,function(t,e){t.attr({path:s[e]})})},resize:function(t){var e=this,i=this.groupBorders||[],s=t.dimension,a=t.groupBounds;this.groupBounds=a,this.paper.setSize(s.width,s.height),n.forEach2dArray(this.groupBars,function(t,n,s){var r,o;t&&(r=i[n]&&i[n][s],o=a[n][s].end,t.bound=o,e._updateRectBound(t.rect,o),r&&e._updateBordersPath(r,o,e.chartType,t.item))})},_changeBordersColor:function(t,e){tui.util.forEach(t,function(t){t.attr({stroke:e})})},_changeBarColor:function(t,e,i){var n,s=this.groupBars[t.groupIndex][t.index];s.rect.attr({fill:e}),i&&(n=this.groupBorders[t.groupIndex][t.index],this._changeBordersColor(n,i))},selectSeries:function(t){var e,i=this.groupBars[t.groupIndex][t.index],a=s.color(i.color),r=this.theme.selectionColor,o=r||n.makeChangedLuminanceColor(a.hex,u),h=this.theme.borderColor;h&&(e=s.color(h),h=n.makeChangedLuminanceColor(e.hex,u)),this._changeBarColor(t,o,h)},unselectSeries:function(t){var e=this.groupBars[t.groupIndex][t.index],i=this.theme.borderColor;this._changeBarColor(t,e.color,i)},selectLegend:function(t){var e=this.groupBorders||[],i=tui.util.isNull(t);n.forEach2dArray(this.groupBars,function(n,s,a){var u,h;n&&(u=e[s]&&e[s][a],h=i||t===a?r:o,n.rect.attr({"fill-opacity":h}),u&&tui.util.forEach(u,function(t){t.attr({"stroke-opacity":h})}))})}});e.exports=h},{"./raphaelRenderUtil":65}],60:[function(t,e,i){"use strict";var n=t("./raphaelLineTypeBase"),s=t("./raphaelRenderUtil"),a=window.Raphael,r=1,o=.3,u=tui.util.defineClass(n,{init:function(){this.selectedLegendIndex=null},render:function(t,e){var i,n=e.dimension,s=e.groupPositions,r=e.theme,o=r.colors,u=e.options.hasDot?1:0,h=e.options.spline,l=h?this._getSplineLinesPath(s):this._getLinesPath(s),c=this.makeBorderStyle(r.borderColor,u),d=this.makeOutDotStyle(u,c);return this.paper=i=a(t,1,n.height),this.isSpline=h,this.dimension=n,this.groupLines=this._renderLines(i,l,o),this.tooltipLine=this._renderTooltipLine(i,n.height),this.groupDots=this._renderDots(i,s,o,u),e.options.hasSelection&&(this.selectionDot=this._makeSelectionDot(i),this.selectionColor=r.selectionColor),this.colors=o,this.borderStyle=c,this.outDotStyle=d,this.groupPositions=s,this.groupPaths=l,this.dotOpacity=u,delete this.pivotGroupDots,i},_getLinesPath:function(t){var e=this;return tui.util.map(t,function(t){return t[0].left-=1,e._makeLinesPath(t)})},_getSplineLinesPath:function(t){return tui.util.map(t,this._makeSplineLinesPath,this)},_renderLines:function(t,e,i,n){return tui.util.map(e,function(e,a){var r=i[a]||"transparent";return s.renderLine(t,e.join(" "),r,n)})},resize:function(t){var e=this,i=t.dimension,n=t.groupPositions;this.groupPositions=n,this.groupPaths=this.isSpline?this._getSplineLinesPath(n):this._getLinesPath(n),this.paper.setSize(i.width,i.height),this.tooltipLine.attr({top:i.height
}),tui.util.forEachArray(this.groupPaths,function(t,i){e.groupLines[i].attr({path:t.join(" ")}),tui.util.forEachArray(e.groupDots[i],function(t,s){e._moveDot(t.dot,n[i][s])})})},selectLegend:function(t){var e=this,i=tui.util.isNull(t);this.selectedLegendIndex=t,tui.util.forEachArray(this.groupPaths,function(n,s){var a=i||t===s?r:o;e.groupLines[s].attr({"stroke-opacity":a}),tui.util.forEachArray(e.groupDots[s],function(t){t.opacity=a,e.dotOpacity&&t.dot.attr({"fill-opacity":a})})})}});e.exports=u},{"./raphaelLineTypeBase":61,"./raphaelRenderUtil":65}],61:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=700,a=3,r=4,o=7,u=.3,h=Array.prototype.concat,l=tui.util.defineClass({_makeLinesPath:function(t){var e=tui.util.map(t,function(t){return["L",t.left,t.top]});return e=h.apply([],e),e[0]="M",e},_getAnchor:function(t,e,i){var n,s,a,r,o,u=(e.left-t.left)/2,h=(i.left-e.left)/2,l=Math.atan((e.left-t.left)/Math.abs(e.top-t.top)),c=Math.atan((i.left-e.left)/Math.abs(e.top-i.top));return l=t.top<e.top?Math.PI-l:l,c=i.top<e.top?Math.PI-c:c,n=Math.PI/2-(l+c)%(2*Math.PI)/2,s=u*Math.sin(n+l),a=u*Math.cos(n+l),r=h*Math.sin(n+c),o=h*Math.cos(n+c),{x1:e.left-s,y1:e.top+a,x2:e.left+r,y2:e.top+o}},_makeSplineLinesPath:function(t){var e=this,i=t[0],n=t.length,s=i,a=t[n-1],r=t.slice(1).slice(0,n-2),o=tui.util.map(r,function(i,n){var a=t[n+2],r=e._getAnchor(s,i,a);return s=i,[r.x1,r.y1,i.left,i.top,r.x2,r.y2]});return i.left-=1,o.push([a.left,a.top,a.left,a.top]),o.unshift(["M",i.left,i.top,"C",i.left,i.top]),o},_renderTooltipLine:function(t,e){var i=n.makeLinePath({left:10,top:e},{left:10,top:0});return n.renderLine(t,i,"transparent",1)},makeBorderStyle:function(t,e){var i;return t&&(i={stroke:t,"stroke-width":1,"stroke-opacity":e}),i},makeOutDotStyle:function(t,e){var i={"fill-opacity":t,"stroke-opacity":0,r:a};return e&&tui.util.extend(i,e),i},renderDot:function(t,e,i,n){var s=t.circle(e.left,e.top,a),r={fill:i,"fill-opacity":n,"stroke-opacity":0};return s.attr(r),{dot:s,color:i}},_renderDots:function(t,e,i,n){var s=this,a=tui.util.map(e,function(e,a){var r=i[a];return tui.util.map(e,function(e){var i=s.renderDot(t,e,r,n);return i})});return a},_getCenter:function(t,e){return{left:(t.left+e.left)/2,top:(t.top+e.top)/2}},_showDot:function(t){t.attr({"fill-opacity":1,"stroke-opacity":.3,"stroke-width":2,r:r})},_updateLineStrokeWidth:function(t,e){t.attr({"stroke-width":e})},showAnimation:function(t){var e=t.groupIndex,i=t.index,n=this.groupLines?this.groupLines[i]:this.groupAreas[i].line,s=this.groupDots[i][e],a=3;this._updateLineStrokeWidth(n,a),this._showDot(s.dot)},_getPivotGroupDots:function(){return this.pivotGroupDots||(this.pivotGroupDots=tui.util.pivot(this.groupDots)),this.pivotGroupDots},_showGroupDots:function(t){var e=this,i=this._getPivotGroupDots();tui.util.forEachArray(i[t],function(t){e._showDot(t.dot)})},showGroupTooltipLine:function(t){var e=n.makeLinePath({left:t.position.left,top:t.position.top+t.dimension.height},{left:t.position.left,top:t.position.top});this.tooltipLine.attr({path:e,stroke:"#999","stroke-opacity":1})},showGroupAnimation:function(t){this._showGroupDots(t)},_hideDot:function(t,e){var i=this.outDotStyle;tui.util.isUndefined(e)||(i=tui.util.extend({},this.outDotStyle,{"fill-opacity":e})),t.attr(i)},hideAnimation:function(t){var e=t.groupIndex,i=t.index,n=this.groupLines?this.groupLines[i]:this.groupAreas[i].line,s=this.groupDots[i][e],a=this.dotOpacity,r=2;a&&!tui.util.isNull(this.selectedLegendIndex)&&this.selectedLegendIndex!==i&&(a=u),n&&this._updateLineStrokeWidth(n,r),s&&this._hideDot(s.dot,a)},_hideGroupDots:function(t){var e=this,i=this._getPivotGroupDots(),n=!tui.util.isNull(this.selectedLegendIndex),s=this.dotOpacity;tui.util.forEachArray(i[t],function(t,i){var a=s;a&&n&&e.selectedLegendIndex!==i&&(a=u),e._hideDot(t.dot,a)})},hideGroupTooltipLine:function(){this.tooltipLine.attr({"stroke-opacity":0})},hideGroupAnimation:function(t){this._hideGroupDots(t)},_moveDot:function(t,e){var i={cx:e.left,cy:e.top};this.dotOpacity&&(i=tui.util.extend({"fill-opacity":this.dotOpacity},i,this.borderStyle)),t.attr(i)},animate:function(t){var e=this,i=this.dimension.width,n=this.dimension.height;tui.chart.renderUtil.cancelAnimation(this.animation),this.animation=tui.chart.renderUtil.startAnimation(s,function(s){var a=Math.min(i*s,i);e.paper.setSize(a,n),1===s&&t()})},_makeSelectionDot:function(t){var e=t.circle(0,0,o);return e.attr({fill:"#ffffff","fill-opacity":0,"stroke-opacity":0,"stroke-width":2}),e},selectSeries:function(t){var e=this.groupDots[t.index][t.groupIndex],i=this.groupPositions[t.index][t.groupIndex];this.selectedItem=e,this.selectionDot.attr({cx:i.left,cy:i.top,"fill-opacity":.5,"stroke-opacity":1,stroke:this.selectionColor||e.color})},unselectSeries:function(t){var e=this.groupDots[t.index][t.groupIndex];this.selectedItem===e&&this.selectionDot.attr({"fill-opacity":0,"stroke-opacity":0})}});e.exports=l},{"./raphaelRenderUtil":65}],62:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=window.Raphael,a="gray",r=100,o=tui.util.defineClass({render:function(t,e){var i,n=e.dimension,a=e.mapModel.getMapDimension();return this.paper=i=s(t,n.width,n.height),this.sectors=this._renderMap(e),this.overColor=e.theme.overColor,i.setViewBox(0,0,a.width,a.height,!1),i},_renderMap:function(t){var e=this.paper,i=t.colorModel;return tui.util.map(t.mapModel.getMapData(),function(t,s){var r=t.ratio||0,o=i.getColor(r),u=n.renderArea(e,t.path,{fill:o,opacity:1,stroke:a,"stroke-opacity":1});return u.data("index",s),{sector:u,color:o,ratio:t.ratio}})},findSectorIndex:function(t){var e=this.paper.getElementByPoint(t.left,t.top),i=e&&e.data("index"),n=!tui.util.isUndefined(i)&&this.sectors[i];return n&&!tui.util.isUndefined(n.ratio)?i:null},changeColor:function(t){var e=this.sectors[t];e.sector.animate({fill:this.overColor},r)},restoreColor:function(t){var e=this.sectors[t];e.sector.animate({fill:e.color},r)},setSize:function(t){this.paper.setSize(t.width,t.height)}});e.exports=o},{"./raphaelRenderUtil":65}],63:[function(t,e,i){"use strict";var n=window.Raphael,s=10,a=tui.util.defineClass({render:function(t,e,i,s){var a=n(t,e.width,e.height);return this._renderGradientBar(a,e,i,s),this.wedge=this._renderWedge(a),a},_renderGradientBar:function(t,e,i,n){var a,r=e.width-s,o=e.height,u=0;n?(o-=s,u=s/2,a=360,this._makeWedghPath=this._makeHorizontalWedgePath):(a=270,this._makeWedghPath=this._makeVerticalWedgePath),t.rect(u,0,r,o).attr({fill:a+"-"+i.start+"-"+i.end,stroke:"none"})},_renderWedge:function(t){var e=t.path(this.verticalBasePath).attr({fill:"gray",stroke:"none",opacity:0});return e},verticalBasePath:["M",16,6,"L",24,3,"L",24,9],_makeVerticalWedgePath:function(t){var e=this.verticalBasePath;return e[2]=t,e[5]=t-3,e[8]=t+3,e},horizontalBasePath:["M",5,16,"L",8,24,"L",2,24],_makeHorizontalWedgePath:function(t){var e=this.horizontalBasePath;return t+=s/2,e[1]=t,e[4]=t+3,e[7]=t-3,e},showWedge:function(t){var e=this._makeWedghPath(t);this.wedge.attr({path:e,opacity:1})},hideWedge:function(){this.wedge.attr({opacity:0})}});e.exports=a},{}],64:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=window.Raphael,a=180,r=360,o=.01,u=Math.PI/a,h=500,l=700,c=1,d=.3,p=.2,m=tui.util.defineClass({render:function(t,e,i){var n,a=e.dimension;return this.paper=n=s(t,a.width,a.height),n.customAttributes.sector||(n.customAttributes.sector=tui.util.bind(this._makeSectorPath,this)),this.container=t,this.callbacks=i,this.selectionColor=e.theme.selectionColor,this.circleBound=e.circleBound,this._renderPie(n,e),n},clear:function(){this.paper.clear()},_makeSectorPath:function(t,e,i,n,s){var r=t+i*Math.sin(n*u),o=e-i*Math.cos(n*u),h=t+i*Math.sin(s*u),l=e-i*Math.cos(s*u),c=s-n>a?1:0,d=["M",t,e,"L",r,o,"A",i,i,0,c,1,h,l,"Z"];return{path:d}},_renderSector:function(t){var e=t.circleBound,i=t.angles;return t.paper.path().attr({sector:[e.cx,e.cy,e.r,i.startAngle,i.endAngle]}).attr(t.attrs)},_renderPie:function(t,e){var i=this,n=e.circleBound,s=e.theme.colors,a=e.chartBackground,r=[];tui.util.forEachArray(e.sectorData,function(e,o){var u=e.percentValue,h=s[o],l=i._renderSector({paper:t,circleBound:n,angles:e.angles.start,attrs:{fill:h,stroke:a,"stroke-width":1}});l.data("index",o),r.push({sector:l,color:h,angles:e.angles.end,percentValue:u})}),this.sectors=r},renderLegendLines:function(t){var e,i=this.paper;this.legendLines||(e=this._makeLinePaths(t),this.legendLines=tui.util.map(e,function(t){return n.renderLine(i,t,"transparent",1)}))},_makeLinePaths:function(t){var e=tui.util.map(t,function(t){return[n.makeLinePath(t.start,t.middle),n.makeLinePath(t.middle,t.end),"Z"].join("")});return e},_expandSector:function(t){var e=this.circleBound.cx,i=this.circleBound.cy;t.animate({transform:"s1.1 1.1 "+e+" "+i},h,"elastic")},_restoreSector:function(t){t.animate({transform:""},h,"elastic")},_animateExpanding:function(t){var e=this.sectors[t].sector;this.prevMovedSector&&this._animateRestoring(this.prevMovedSector.data("index")),this._expandSector(e)},_animateRestoring:function(t){var e=this.sectors[t].sector;this._restoreSector(e)},animate:function(t){var e=0,i=this.circleBound;tui.util.forEachArray(this.sectors,function(t){var n,a,u=t.angles;0===u.startAngle&&u.endAngle===r&&(u.endAngle=r-o),n=l*t.percentValue,a=s.animation({sector:[i.cx,i.cy,i.r,u.startAngle,u.endAngle]},n),t.sector.animate(a.delay(e)),e+=n}),t&&setTimeout(t,e)},animateLegendLines:function(){this.legendLines&&tui.util.forEachArray(this.legendLines,function(t){t.animate({stroke:"black","stroke-opacity":1})})},resize:function(t){var e=t.dimension,i=t.circleBound;this.circleBound=i,this.paper.setSize(e.width,e.height),delete this.containerBound,tui.util.forEachArray(this.sectors,function(t){var e=t.angles;t.sector.attr({sector:[i.cx,i.cy,i.r,e.startAngle,e.endAngle]})})},moveLegendLines:function(t){var e;this.legendLines&&(e=this._makeLinePaths(t),tui.util.forEachArray(this.legendLines,function(t,i){return t.attr({path:e[i]}),t}))},clickSeries:function(t){var e=this.paper.getElementByPoint(t.left,t.top);e&&this.prevSelectedSector&&this._unselectSeries(this.prevSelectedSector.data("index")),this.prevSelectedSector===e?(e=null,delete this.prevSelectedSector):e&&(this._selectSeries(e.data("index")),this.prevSelectedSector=e)},_getContainerBound:function(){return this.containerBound||(this.containerBound=this.container.getBoundingClientRect()),this.containerBound},_isChangedPosition:function(t,e){return!t||t.left!==e.left||t.top!==e.top},moveMouseOnSeries:function(t){var e,i,n,s=this.paper.getElementByPoint(t.left,t.top);s&&this.sectors[s.data("index")]?(e=this._getContainerBound(),n=this.prevMovedSector!==s,i=[{},0,s.data("index"),{left:t.left-e.left,top:t.top-e.top}],n&&this._animateExpanding(s.data("index")),this._isChangedPosition(this.prevPosition,t)&&(this.callbacks.funcShowTooltip.apply(null,i),this.prevMovedSector=s)):this.prevMovedSector&&(this._animateRestoring(this.prevMovedSector.data("index")),this.callbacks.funcHideTooltip(),this.prevMovedSector=null),this.prevPosition=t},_selectSeries:function(t){var e=this.sectors[t],i=s.color(e.color),a=this.selectionColor||n.makeChangedLuminanceColor(i.hex,p);e.sector.attr({fill:a})},_unselectSeries:function(t){var e=this.sectors[t];e.sector.attr({fill:e.color})},selectLegend:function(t){var e=tui.util.isNull(t);tui.util.forEachArray(this.sectors,function(i,n){var s;s=e||t===n?c:d,i.sector.attr({"fill-opacity":s})})}});e.exports=m},{"./raphaelRenderUtil":65}],65:[function(t,e,i){"use strict";var n={makeLinePath:function(t,e,i){var n=[t.left,t.top],s=[e.left,e.top];return i=i||1,tui.util.forEachArray(n,function(t,e){t===s[e]&&(n[e]=s[e]=Math.round(t)-i%2/2)}),["M"].concat(n).concat("L").concat(s)},renderLine:function(t,e,i,n){var s=t.path([e]),a={stroke:i,"stroke-width":n||2};return"transparent"===i&&(a.stroke="#fff",a["stroke-opacity"]=0),s.attr(a),s},renderArea:function(t,e,i){var n=t.path(e);return i=tui.util.extend({"stroke-opacity":0},i),n.attr(i),n},forEach2dArray:function(t,e){tui.util.forEachArray(t,function(t,i){tui.util.forEachArray(t,function(t,n){e(t,i,n)})})},makeChangedLuminanceColor:function(t,e){return t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0,"#"+tui.util.map(tui.util.range(3),function(i){var n=parseInt(t.substr(2*i,2),16);return n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),("00"+n).substr(n.length)}).join("")}};e.exports=n},{}],66:[function(require,module,exports){window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(){var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)},i={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},n=function(t){return i[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},s=/[\\"\u0000-\u001F\u2028\u2029]/g;return function a(i){if(null==i)return"null";if("number"==typeof i)return isFinite(i)?i.toString():"null";if("boolean"==typeof i)return i.toString();if("object"==typeof i){if("function"==typeof i.toJSON)return a(i.toJSON());if(e(i)){for(var r="[",o=0;o<i.length;o++)r+=(o?", ":"")+a(i[o]);return r+"]"}if("[object Object]"===t.call(i)){var u=[];for(var h in i)i.hasOwnProperty(h)&&u.push(a(h)+": "+a(i[h]));return"{"+u.join(", ")+"}"}}return'"'+i.toString().replace(s,n)+'"'}}()}),function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),s=window.setTimeout(function(){e(i+n)},n);return t=i+n,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},{}],67:[function(t,e,i){"use strict";var n=t("./const"),s=t("./factories/chartFactory"),a=t("./charts/barChart"),r=t("./charts/columnChart"),o=t("./charts/lineChart"),u=t("./charts/areaChart"),h=t("./charts/comboChart"),l=t("./charts/pieChart"),c=t("./charts/mapChart");s.register(n.CHART_TYPE_BAR,a),s.register(n.CHART_TYPE_COLUMN,r),s.register(n.CHART_TYPE_LINE,o),s.register(n.CHART_TYPE_AREA,u),s.register(n.CHART_TYPE_COMBO,h),s.register(n.CHART_TYPE_PIE,l),s.register(n.CHART_TYPE_MAP,c)},{"./charts/areaChart":4,"./charts/barChart":6,"./charts/columnChart":9,"./charts/comboChart":10,"./charts/lineChart":12,"./charts/mapChart":14,"./charts/pieChart":17,"./const":19,"./factories/chartFactory":34}],68:[function(t,e,i){"use strict";var n=t("./const"),s=t("./factories/themeFactory"),a=t("./themes/defaultTheme");s.register(n.DEFAULT_THEME_NAME,a)},{"./const":19,"./factories/themeFactory":37,"./themes/defaultTheme":80}],69:[function(t,e,i){"use strict";var n=t("./series"),s=t("./lineTypeSeriesBase"),a=t("../const"),r=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makePositionTopOfZeroPoint:function(){var t=this.boundsMaker.getDimension("series"),e=this.data.limit,i=this._getLimitDistanceFromZeroPoint(t.height,e),n=i.toMax;return e.min>=0&&!n&&(n=t.height),n+a.SERIES_EXPAND_SIZE},_makeStackedPositions:function(t){var e=this.boundsMaker.getDimension("series").height+a.SERIES_EXPAND_SIZE,i=this._makePositionTopOfZeroPoint(),n=[];return tui.util.map(t,function(t){return tui.util.map(t,function(t,s){var a=n[s]||i,r=e-t.top,o=a-r;return t.startTop=a,t.top=o,n[s]=o,t})})},_makeNormalPositions:function(t){var e=this._makePositionTopOfZeroPoint();return tui.util.map(t,function(t){return tui.util.map(t,function(t){return t.startTop=e,t})})},_makePositions:function(){var t=this._makeBasicPositions();return t=this.options.stacked?this._makeStackedPositions(t):this._makeNormalPositions(t)},_makeSeriesData:function(){var t=this.boundsMaker.getDimension("series"),e=this._getLimitDistanceFromZeroPoint(t.height,this.data.limit).toMax;return{groupPositions:this._makePositions(),zeroTop:e+a.SERIES_EXPAND_SIZE}}});s.mixin(r),e.exports=r},{"../const":19,"./lineTypeSeriesBase":74,"./series":77}],70:[function(t,e,i){"use strict";var n=t("./series"),s=t("./barTypeSeriesBase"),a=t("../const"),r=t("../helpers/predicate"),o=t("../helpers/renderUtil"),u=t("../helpers/calculator"),h=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeBound:function(t,e,i,n,s){return{start:{top:i,left:n,width:0,height:e},end:{top:i,left:s,width:t,height:e}}},_calculateAdditionalLeft:function(t){var e=0;return this.options.divided&&t>0&&(e=this.boundsMaker.getDimension("yAxis").width+a.OVERLAPPING_WIDTH),e},_makeBarChartBound:function(t,e,i,n,s){var r,o,u,h=t.baseBarSize*n.ratioDistance,l=this._calculateAdditionalLeft(n.value),c=t.baseBarSize*n.startRatio,d=t.basePosition+c+l+a.SERIES_EXPAND_SIZE,p=n.stack!==e.prevStack;return(!i||!this.options.diverging&&p)&&(r=i?this.dataProcessor.findStackIndex(n.stack):s,e.top=r*t.step+e.baseTop+t.additionalPosition,e.plusLeft=0,e.minusLeft=0),n.value>=0?(o=d+e.plusLeft,e.plusLeft+=h):(e.minusLeft-=h,o=d+e.minusLeft),e.prevStack=n.stack,u=this._makeBound(h,t.barSize,e.top,d,o)},_makeBounds:function(){var t=this,e=this.dataProcessor.getItemGroup(),i=r.isValidStackedOption(this.options.stacked),n=this.boundsMaker.getDimension("series"),s=this._makeBaseDataForMakingBound(n.height,n.width);return e.map(function(e,n){var r=n*s.groupSize+s.groupPosition+s.additionalPosition+a.SERIES_EXPAND_SIZE,o={baseTop:r,top:r,plusLeft:0,minusLeft:0,prevStack:null},u=tui.util.bind(t._makeBarChartBound,t,s,o,i);return e.map(u)})},makeSeriesRenderingPosition:function(t,e,i,n,s){var r=o.getRenderedLabelWidth(n,this.theme.label),u=t.left,h=t.top+(t.height-e+a.TEXT_PADDING)/2;return i>=0&&!s||0>i&&s?u+=t.width+a.SERIES_LABEL_PADDING:u-=r+a.SERIES_LABEL_PADDING,{left:u,top:h}},_calculateTopPositionOfSumLabel:function(t,e){return t.top+(t.height-e+a.TEXT_PADDING)/2},_makePlusSumLabelHtml:function(t,e,i){var n,s,r="";return e&&(n=u.sumPlusValues(t),s=o.formatValue(n,this.dataProcessor.getFormatFunctions()),r=this._makeSeriesLabelHtml({left:e.left+e.width+a.SERIES_LABEL_PADDING,top:this._calculateTopPositionOfSumLabel(e,i)},s,-1)),r},_makeMinusSumLabelHtml:function(t,e,i){var n,s,r,h="";return e&&(n=u.sumMinusValues(t),this.options.diverging&&(n=Math.abs(n)),s=o.formatValue(n,this.dataProcessor.getFormatFunctions()),r=o.getRenderedLabelWidth(s,this.theme.label),h=this._makeSeriesLabelHtml({left:e.left-r-a.SERIES_LABEL_PADDING,top:this._calculateTopPositionOfSumLabel(e,i)},s,-1)),h}});s.mixin(h),e.exports=h},{"../const":19,"../helpers/calculator":41,"../helpers/predicate":45,"../helpers/renderUtil":47,"./barTypeSeriesBase":71,"./series":77}],71:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),a=t("../helpers/renderUtil"),r=tui.util.defineClass({_makeSeriesData:function(){return this.groupBounds=this._makeBounds(this.boundsMaker.getDimension("series")),{groupBounds:this.groupBounds,itemGroup:this.dataProcessor.getItemGroup()}},_makeBarGutter:function(t,e){var i,n=t/(e+1)/2,s=6;return i=2>=n?0:s>=n?2:4},_makeBarSize:function(t,e,i){return(t-e*(i-1))/(i+1)},_makeOptionSize:function(t,e){var i=0;return e&&(i=tui.util.min([t,e])),i},_calculateAdditionalPosition:function(t,e,i){var n=0;return e&&t>e&&(n=t/2+(t-e)*i/2),n},_makeBaseDataForMakingBound:function(t,e){var i,n,a,r,o,u,h=s.isValidStackedOption(this.options.stacked),l=this.dataProcessor.getItemGroup(),c=t/l.getGroupCount(this.chartType);return i=h?this.options.diverging?1:this.dataProcessor.getStackCount():l.getFirstItems(this.chartType).getItemCount(),n=this._makeBarGutter(c,i),a=this._makeBarSize(c,n,i),r=this._makeOptionSize(a,this.options.barWidth),o=this._calculateAdditionalPosition(a,r,i),a=r||a,u=this._getLimitDistanceFromZeroPoint(e,this.data.limit).toMin,s.isColumnChart(this.chartType)&&(u=e-u),{baseBarSize:e,groupSize:c,barSize:a,step:n+a,groupPosition:a/2,additionalPosition:o,basePosition:u}},_makeSeriesLabelsHtml:function(t,e,i,n){var s=this.seriesData.groupBounds[t][n].end,a=this.makeSeriesRenderingPosition(s,e,i.value,i.formattedEnd),r=this._makeSeriesLabelHtml(a,i.formattedEnd,n);return i.isRange&&(a=this.makeSeriesRenderingPosition(s,e,i.value,i.formattedStart,!0),r+=this._makeSeriesLabelHtml(a,i.formattedStart,n)),r},_renderNormalSeriesLabel:function(t){var e,i=this,n=this.dataProcessor.getFirstFormattedValue(this.chartType),s=a.getRenderedLabelHeight(n,this.theme.label),r=this.dataProcessor.getItemGroup();e=r.map(function(t,e){var n=tui.util.bind(i._makeSeriesLabelsHtml,i,e,s);return t.map(n).join("")},this.chartType).join(""),t.innerHTML=e},_makeSumValues:function(t){var e=tui.util.sum(t);return a.formatValue(e,this.dataProcessor.getFormatFunctions())},_makeStackedLabelPosition:function(t,e,i){var s=a.getRenderedLabelWidth(e,this.theme.label),r=t.left+(t.width-s+n.TEXT_PADDING)/2,o=t.top+(t.height-i+n.TEXT_PADDING)/2;return{left:r,top:o}},_makeStackedLabelsHtml:function(t){var e,i,n,s,a=this,r=t.items,o=t.labelHeight;return e=r.map(function(e,s){var r,o,u=t.bounds[s],h="";return u&&e&&(r=u.end,o=a._makeStackedLabelPosition(r,e.formattedValue,t.labelHeight),h=a._makeSeriesLabelHtml(o,e.formattedValue,s)),e.value>0?i=r:e.value<0&&(n=r),h}),"normal"===this.options.stacked&&(s=r.pluck("value"),e.push(this._makePlusSumLabelHtml(s,i,o)),e.push(this._makeMinusSumLabelHtml(s,n,o))),e.join("")},_renderStackedSeriesLabel:function(t){var e,i=this,n=this.seriesData.groupBounds,s=this.dataProcessor.getItemGroup(),r=this.dataProcessor.getFirstFormattedValue(this.chartType),o=a.getRenderedLabelHeight(r,this.theme.label);e=s.map(function(t,e){var s=i._makeStackedLabelsHtml({groupIndex:e,items:t,bounds:n[e],labelHeight:o});return s},this.chartType).join(""),t.innerHTML=e},_renderSeriesLabel:function(t){this.options.stacked?this._renderStackedSeriesLabel(t):this._renderNormalSeriesLabel(t)}});r.mixin=function(t){tui.util.extend(t.prototype,r.prototype)},e.exports=r},{"../const":19,"../helpers/predicate":45,"../helpers/renderUtil":47}],72:[function(t,e,i){"use strict";var n=t("./series"),s=t("./barTypeSeriesBase"),a=t("../const"),r=t("../helpers/predicate"),o=t("../helpers/renderUtil"),u=t("../helpers/calculator"),h=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeBound:function(t,e,i,n,s){return{start:{top:n,left:i,width:t,height:0},end:{top:s,left:i,width:t,height:e}}},_makeColumnChartBound:function(t,e,i,n,s){var r,o,u,h=Math.abs(t.baseBarSize*n.ratioDistance),l=t.baseBarSize*n.startRatio,c=t.basePosition-l+a.SERIES_EXPAND_SIZE,d=n.stack!==e.prevStack;return(!i||!this.options.diverging&&d)&&(r=i?this.dataProcessor.findStackIndex(n.stack):s,e.left=r*t.step+e.baseLeft+t.additionalPosition,e.plusTop=0,e.minusTop=0),n.value>=0?(e.plusTop-=h,o=c+e.plusTop):(o=c+e.minusTop,e.minusTop+=h),e.prevStack=n.stack,u=this._makeBound(t.barSize,h,e.left,c,o)},_makeBounds:function(){var t=this,e=this.dataProcessor.getItemGroup(),i=r.isValidStackedOption(this.options.stacked),n=this.boundsMaker.getDimension("series"),s=this._makeBaseDataForMakingBound(n.width,n.height);return e.map(function(e,n){var r=n*s.groupSize+s.groupPosition+s.additionalPosition+a.SERIES_EXPAND_SIZE,o={baseLeft:r,left:r,plusTop:0,minusTop:0,prevStack:null},u=tui.util.bind(t._makeColumnChartBound,t,s,o,i);return e.map(u)},this.chartType)},makeSeriesRenderingPosition:function(t,e,i,n,s){var r=o.getRenderedLabelWidth(n,this.theme.label),u=t.top,h=t.left+(t.width-r)/2;return i>=0&&!s||0>i&&s?u-=e+a.SERIES_LABEL_PADDING:u+=t.height+a.SERIES_LABEL_PADDING,{left:h,top:u}},_calculateLeftPositionOfSumLabel:function(t,e){var i=o.getRenderedLabelWidth(e,this.theme.label);return t.left+(t.width-i+a.TEXT_PADDING)/2},_makePlusSumLabelHtml:function(t,e,i){var n,s,r="";return e&&(n=u.sumPlusValues(t),s=o.formatValue(n,this.dataProcessor.getFormatFunctions()),r=this._makeSeriesLabelHtml({left:this._calculateLeftPositionOfSumLabel(e,s),top:e.top-i-a.SERIES_LABEL_PADDING},s,-1)),r},_makeMinusSumLabelHtml:function(t,e){var i,n,s="";return e&&(i=u.sumMinusValues(t),this.options.diverging&&(i=Math.abs(i)),n=o.formatValue(i,this.dataProcessor.getFormatFunctions()),s=this._makeSeriesLabelHtml({left:this._calculateLeftPositionOfSumLabel(e,n),top:e.top+e.height+a.SERIES_LABEL_PADDING},n,-1)),s}});s.mixin(h),e.exports=h},{"../const":19,"../helpers/calculator":41,"../helpers/predicate":45,"../helpers/renderUtil":47,"./barTypeSeriesBase":71,"./series":77}],73:[function(t,e,i){"use strict";var n=t("./series"),s=t("./lineTypeSeriesBase"),a=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makePositions:function(){return this._makeBasicPositions()},_makeSeriesData:function(){return{groupPositions:this._makePositions()}}});s.mixin(a),e.exports=a},{"./lineTypeSeriesBase":74,"./series":77}],74:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/renderUtil"),a=tui.util.defineClass({_makeBasicPositions:function(){var t,e=this.boundsMaker.getDimension("series"),i=this.dataProcessor.getItemGroup(),s=e.width,a=e.height,r=i.getGroupCount(this.chartType),o=n.SERIES_EXPAND_SIZE;return this.data.aligned?t=s/(r-1):(t=s/r,o+=t/2),i.map(function(e){return e.map(function(e,i){return{left:o+t*i,top:a-e.ratio*a+n.SERIES_EXPAND_SIZE}})},this.chartType,!0)},_makeLabelPositionTop:function(t,e,i){var s;return s=this.options.stacked&&t.startTop?(t.startTop+t.top-i)/2+1:0>e&&!tui.util.isUndefined(t.startTop)?t.top+n.SERIES_LABEL_PADDING:t.top-i-n.SERIES_LABEL_PADDING},_renderSeriesLabel:function(t){var e,i=this,n=this.seriesData.groupPositions,a=this.dataProcessor.getItemGroup(),r=this.dataProcessor.getFirstFormattedValue(this.chartType),o=s.getRenderedLabelHeight(r,this.theme.label);e=a.map(function(t,e){return t.map(function(t,a){var r,u=n[e][a],h="";return u.top!==u.startTop&&(r=s.getRenderedLabelWidth(t.formattedValue,i.theme.label),h=i._makeSeriesLabelHtml({left:u.left-r/2,top:i._makeLabelPositionTop(u,t.formattedValue,o)},t.formattedValue,e)),h}).join("")},this.chartType,!0),t.innerHTML=e.join("")},_isChanged:function(t,e){var i=this.prevIndexes;return this.prevIndexes={groupIndex:t,index:e},!i||i.groupIndex!==t||i.index!==e},onShowGroupTooltipLine:function(t){this.graphRenderer.showGroupTooltipLine&&this.graphRenderer.showGroupTooltipLine(t)},onHideGroupTooltipLine:function(){this.graphRenderer.hideGroupTooltipLine&&this.graphRenderer.hideGroupTooltipLine()}});a.mixin=function(t){tui.util.extend(t.prototype,a.prototype)},e.exports=a},{"../const":19,"../helpers/renderUtil":47}],75:[function(t,e,i){"use strict";var n=t("./series"),s=t("../helpers/domHandler"),a=t("../helpers/renderUtil"),r=tui.util.defineClass(n,{init:function(t){this.basePosition={left:0,top:0},this.zoomMagn=1,this.mapRatio=1,this.graphDimension={},this.limitPosition={},this.mapModel=null,this.prevPosition=null,this.prevMovedIndex=null,this.isDrag=!1,this.startPosition=null,n.call(this,t)},_setMapRatio:function(){var t=this.boundsMaker.getDimension("series"),e=this.mapModel.getMapDimension(),i=t.width/e.width,n=t.height/e.height;this.mapRatio=Math.min(i,n)},_setGraphDimension:function(){var t=this.boundsMaker.getDimension("series");this.graphDimension={width:t.width*this.zoomMagn,height:t.height*this.zoomMagn}},render:function(t){var e;return this.mapModel=t.mapModel,this._setMapRatio(),e=n.prototype.render.call(this,t)},_setLimitPositionToMoveMap:function(){var t=this.boundsMaker.getDimension("series"),e=this.graphDimension;this.limitPosition={left:t.width-e.width,top:t.height-e.height}},_renderGraph:function(){this.graphContainer||(this.graphContainer=s.create("DIV","tui-chart-series-graph-area"),this.seriesContainer.appendChild(this.graphContainer)),this._setGraphDimension(),a.renderDimension(this.graphContainer,this.graphDimension),this._setLimitPositionToMoveMap(),this.graphRenderer.render(this.graphContainer,{colorModel:this.data.colorModel,mapModel:this.mapModel,dimension:this.graphDimension,theme:this.theme})},_renderSeriesLabel:function(t){var e=this,i=tui.util.map(this.mapModel.getLabelData(this.zoomMagn*this.mapRatio),function(t,i){var n=t.name||t.code,s=t.labelPosition.left-a.getRenderedLabelWidth(n,e.theme.label)/2,r=t.labelPosition.top-a.getRenderedLabelHeight(n,e.theme.label)/2;return e._makeSeriesLabelHtml({left:s,top:r},t.name,i)});t.innerHTML=i.join("")},_renderSeriesArea:function(t,e,i){n.prototype._renderSeriesArea.call(this,t,e,i),this.graphContainer.appendChild(this.seriesLabelContainer)},_adjustMapPosition:function(t){return{left:Math.max(Math.min(t.left,0),this.limitPosition.left),top:Math.max(Math.min(t.top,0),this.limitPosition.top)}},_updateBasePositionForZoom:function(t,e,i){var n=this.basePosition,s=n.left-e.left/2,a=n.top-e.top/2,r={left:s*i+this.limitPosition.left/2,top:a*i+this.limitPosition.top/2};this.basePosition=this._adjustMapPosition(r)},_zoom:function(t){var e=this.graphDimension,i=this.limitPosition;this._setGraphDimension(),a.renderDimension(this.graphContainer,this.graphDimension),this.graphRenderer.setSize(this.graphDimension),this._setLimitPositionToMoveMap(),this._updateBasePositionForZoom(e,i,t),a.renderPosition(this.graphContainer,this.basePosition),this._renderSeriesLabel(this.seriesLabelContainer)},_updatePositionsToResize:function(t){var e=this.mapRatio/t;this.basePosition.left*=e,this.basePosition.top*=e,this.limitPosition.left*=e,this.limitPosition.top*=e},_resizeGraph:function(){var t=this.mapRatio;this._setMapRatio(),this._setGraphDimension(),a.renderDimension(this.graphContainer,this.graphDimension),this.graphRenderer.setSize(this.graphDimension),this._updatePositionsForResizing(t),a.renderPosition(this.graphContainer,this.basePosition),this._renderSeriesLabel(this.seriesLabelContainer)},onClickSeries:function(){},_isChangedPosition:function(t,e){return!t||t.left!==e.left||t.top!==e.top},_showWedge:function(t){var e=this.mapModel.getDatum(t);tui.util.isUndefined(e.ratio)||this.fire("showWedge",e.ratio)},_showTooltip:function(t,e){this.fire("showTooltip",{chartType:this.chartType,indexes:{index:t},mousePosition:e})},_getContainerBound:function(){return this.containerBound||(this.containerBound=this.seriesContainer.getBoundingClientRect()),this.containerBound},onMoveSeries:function(t){var e,i=this._executeGraphRenderer(t,"findSectorIndex");tui.util.isNull(i)?tui.util.isNull(this.prevMovedIndex)||(this.graphRenderer.restoreColor(this.prevMovedIndex),this.fire("hideWedge"),this.fire("hideTooltip"),this.prevMovedIndex=null):(this.prevMovedIndex!==i&&(tui.util.isNull(this.prevMovedIndex)||(this.graphRenderer.restoreColor(this.prevMovedIndex),this.fire("hideWedge"),this.fire("hideTooltip")),this.graphRenderer.changeColor(i)),this._isChangedPosition(this.prevPosition,t)&&(e=this._getContainerBound(),this._showTooltip(i,{left:t.left-e.left,top:t.top-e.top}),this.prevMovedIndex=i),this._showWedge(i)),this.prevPosition=t},onDragStartSeries:function(t){this.startPosition={left:t.left,top:t.top}},_movePosition:function(t,e){var i=this._adjustMapPosition({left:this.basePosition.left+(e.left-t.left),top:this.basePosition.top+(e.top-t.top)});a.renderPosition(this.graphContainer,i),this.basePosition=i},onDragSeries:function(t){this._movePosition(this.startPosition,t),this.startPosition=t,this.isDrag||(this.isDrag=!0,this.fire("hideTooltip"))},onDragEndSeries:function(){this.isDrag=!1},_movePositionForZoom:function(t,e){var i,n=this.boundsMaker.getDimension("series"),s=this._getContainerBound(),a={left:n.width/2+s.left,top:n.height/2+s.top},r={left:t.left-a.left,top:t.top-a.top};e=e>1?-(e/2):e,i={left:a.left+r.left*e,top:a.top+r.top*e},this._movePosition(a,i)},onZoom:function(t,e){var i=t/this.zoomMagn;this.zoomMagn=t,this._zoom(i),e&&this._movePositionForZoom(e,i),this.userEvent.fire("zoom",t)},animateComponent:function(){this.animateShowingAboutSeriesLabelArea()}});tui.util.CustomEvents.mixin(r),e.exports=r},{"../helpers/domHandler":43,"../helpers/renderUtil":47,"./series":77}],76:[function(t,e,i){"use strict";
var n=t("./series"),s=t("../const"),a=t("../helpers/predicate"),r=t("../helpers/renderUtil"),o=tui.util.defineClass(n,{init:function(t){this.legendAlign=t.legendAlign,this.chartBackground=t.chartBackground,n.call(this,t)},_makeSectorData:function(t){var e,i=this,n=this.dataProcessor.getItemGroup().getFirstItems(),a=t.cx,r=t.cy,o=t.r,u=0,h=10;return e=n.map(function(t){var e=s.ANGLE_360*t.ratio,n=u+e,l=u+e/2,c={start:{startAngle:u,endAngle:u},end:{startAngle:u,endAngle:n}},d={cx:a,cy:r,angle:l};return u=n,{percentValue:t.ratio,angles:c,centerPosition:i._getArcPosition(tui.util.extend({r:o/2+h},d)),outerPosition:{start:i._getArcPosition(tui.util.extend({r:o},d)),middle:i._getArcPosition(tui.util.extend({r:o+h},d))}}})},_makeSeriesData:function(){var t=this._makeCircleBound(this.boundsMaker.getDimension("series"),{showLabel:this.options.showLabel,legendAlign:this.legendAlign}),e=this._makeSectorData(t);return{chartBackground:this.chartBackground,circleBound:t,sectorData:e}},_makeCircleBound:function(t,e){var i=t.width,n=t.height,r=a.isLegendAlignOuter(e.legendAlign)&&e.showLabel,o=r?s.PIE_GRAPH_SMALL_RATE:s.PIE_GRAPH_DEFAULT_RATE,u=tui.util.multiplication(tui.util.min([i,n]),o);return{cx:tui.util.division(i,2),cy:tui.util.division(n,2),r:tui.util.division(u,2)}},_getArcPosition:function(t){return{left:t.cx+t.r*Math.sin(t.angle*s.RAD),top:t.cy-t.r*Math.cos(t.angle*s.RAD)}},_renderGraph:function(t,e){var i=tui.util.bind(this.showTooltip,this,{allowNegativeTooltip:!!this.allowNegativeTooltip,chartType:this.chartType}),n={funcShowTooltip:i,funcHideTooltip:tui.util.bind(this.hideTooltip,this),funcSelectSeries:tui.util.bind(this.selectSeries,this)},s=this._makeParamsForGraphRendering(t,e);this.graphRenderer.render(this.seriesContainer,s,n)},resize:function(){n.prototype.resize.apply(this,arguments),this._moveLegendLines()},showTooltip:function(t,e,i,n,s){this.fire("showTooltip",tui.util.extend({indexes:{groupIndex:i,index:n},mousePosition:s},t))},hideTooltip:function(){this.fire("hideTooltip")},_makeSeriesDataBySelection:function(t){return{indexes:{index:t,groupIndex:t}}},selectSeries:function(t){var e=this._makeSeriesDataBySelection(t);this.selectedIndex===t?(this.onUnselectSeries(e),delete this.selectedIndex):(tui.util.isUndefined(this.selectedIndex)||this.onUnselectSeries(this._makeSeriesDataBySelection(this.selectedIndex)),this.onSelectSeries(e),this.selectedIndex=t)},_getSeriesLabel:function(t){var e="";return this.legendAlign&&(e='<span class="tui-chart-series-legend">'+t.legend+"</span>"),this.options.showLabel&&(e+=(e?t.separator:"")+t.label),e},_renderLegendLabel:function(t,e){var i,n=this,s=t.positions;i=tui.util.map(this.dataProcessor.getLegendLabels(),function(e,i){var a,r,o="";return s[i]&&(a=n._getSeriesLabel({legend:e,label:n.dataProcessor.getFirstFormattedValue(n.chartType),separator:t.separator}),r=t.funcMoveToPosition(s[i],a),o=n._makeSeriesLabelHtml(r,a,i)),o}),e.innerHTML=i.join("")},_moveToCenterPosition:function(t,e){var i=t.left-r.getRenderedLabelWidth(e,this.theme.label)/2,n=t.top-r.getRenderedLabelHeight(e,this.theme.label)/2;return{left:i,top:n}},_pickPositionsFromSectorData:function(t){return tui.util.map(this.seriesData.sectorData,function(e){return e.percentValue?e[t]:null})},_renderCenterLegend:function(t){this._renderLegendLabel({positions:this._pickPositionsFromSectorData("centerPosition"),funcMoveToPosition:tui.util.bind(this._moveToCenterPosition,this),separator:"<br>"},t)},_addEndPosition:function(t,e){tui.util.forEachArray(e,function(e){var i;e&&(i=tui.util.extend({},e.middle),i.left<t?i.left-=s.SERIES_OUTER_LABEL_PADDING:i.left+=s.SERIES_OUTER_LABEL_PADDING,e.end=i)})},_moveToOuterPosition:function(t,e,i){var n=e.end,a=n.left,o=n.top-r.getRenderedLabelHeight(i,this.theme.label)/2;return t>a?a-=r.getRenderedLabelWidth(i,this.theme.label)+s.SERIES_LABEL_PADDING:a+=s.SERIES_LABEL_PADDING,{left:a,top:o}},_renderOuterLegend:function(t){var e=this.boundsMaker.getDimension("chart").width/2,i=this._pickPositionsFromSectorData("outerPosition"),n=tui.util.filter(i,function(t){return t});this._addEndPosition(e,n),this._renderLegendLabel({positions:i,funcMoveToPosition:tui.util.bind(this._moveToOuterPosition,this,e),separator:":&nbsp;"},t),this.graphRenderer.renderLegendLines(n)},_renderSeriesLabel:function(t){var e=this.legendAlign;a.isLegendAlignOuter(e)?this._renderOuterLegend(t):this._renderCenterLegend(t)},animateShowingAboutSeriesLabelArea:function(){this.graphRenderer.animateLegendLines(),n.prototype.animateShowingAboutSeriesLabelArea.call(this)},_moveLegendLines:function(){var t=this.boundsMaker.getDimension("chart").width/2,e=this._pickPositionsFromSectorData("outerPosition"),i=tui.util.filter(e,function(t){return t});this._addEndPosition(t,i),this.graphRenderer.moveLegendLines(i)},onClickSeries:function(t){this._executeGraphRenderer(t,"clickSeries")},onMoveSeries:function(t){this._executeGraphRenderer(t,"moveMouseOnSeries")}});tui.util.CustomEvents.mixin(o),e.exports=o},{"../const":19,"../helpers/predicate":45,"../helpers/renderUtil":47,"./series":77}],77:[function(t,e,i){"use strict";var n=t("./seriesTemplate"),s=t("../const"),a=t("../helpers/domHandler"),r=t("../helpers/renderUtil"),o=t("../factories/pluginFactory"),u=tui.util.defineClass({init:function(t){var e=t.libType||s.DEFAULT_PLUGIN;this.chartType=t.chartType,this.componentType=t.componentType,this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.userEvent=t.userEvent,this.options=t.options||{},this.orgTheme=this.theme=t.theme,this.hasAxes=!!t.hasAxes,this.graphRenderer=o.get(e,t.chartType),this.className="tui-chart-series-area",this.seriesContainer=null,this.seriesLabelContainer=null,this.seriesData=[],this.selectedLegendIndex=null},_makeSeriesData:function(){},getSeriesData:function(){return this.seriesData},_renderSeriesLabel:function(){},_renderSeriesLabelArea:function(t){return t||(t=a.create("div","tui-chart-series-label-area")),this._renderSeriesLabel(t),t},_renderSeriesArea:function(t,e,i){var n,s,o=this.boundsMaker.getBound("extendedSeries");this.data=e,this.seriesData=n=this._makeSeriesData(),r.renderDimension(t,o.dimension),this._renderPosition(t,o.position),i&&i(o.dimension,n),s=this._renderSeriesLabelArea(this.seriesLabelContainer),this.seriesLabelContainer||(this.seriesLabelContainer=s,a.append(t,s))},_makeParamsForGraphRendering:function(t,e){return tui.util.extend({dimension:t,chartType:this.chartType,theme:this.theme,options:this.options},e)},_renderGraph:function(t,e){var i=this._makeParamsForGraphRendering(t,e);this.graphRenderer.render(this.seriesContainer,i)},render:function(t){var e=a.create("DIV",this.className);return this.seriesContainer=e,this._renderSeriesArea(e,t,tui.util.bind(this._renderGraph,this)),e},_updateTheme:function(t,e){var i;return e.length?(i=JSON.parse(JSON.stringify(t)),i.colors=tui.util.filter(i.colors,function(t,i){return e[i]}),i):t},rerender:function(t){this.graphRenderer.clear&&this.graphRenderer.clear(),this.seriesContainer.innerHTML="",this.seriesLabelContainer=null,this.selectedLegendIndex=null,this.seriesData=[],this.dataProcessor.getGroupCount(this.chartType)&&(this.theme=this._updateTheme(this.orgTheme,t.checkedLegends),this._renderSeriesArea(this.seriesContainer,t,tui.util.bind(this._renderGraph,this)),this.labelShower&&clearInterval(this.labelShower.timerId),this.animateComponent())},_resizeGraph:function(t,e){this.graphRenderer.resize(tui.util.extend({dimension:t},e))},resize:function(t){this._renderSeriesArea(this.seriesContainer,t,tui.util.bind(this._resizeGraph,this))},_renderPosition:function(t,e){var i=r.isOldBrowser()?s.OVERLAPPING_WIDTH:0;r.renderPosition(t,{top:e.top-2*i,left:e.left-i})},_getLimitDistanceFromZeroPoint:function(t,e){var i=e.min,n=e.max,s=n-i,a=0,r=0;return 0>=i&&n>=0&&(a=(s+i)/s*t,r=(s-n)/s*t),{toMax:a,toMin:r}},_findLabelElement:function(t){var e=null;return e=a.hasClass(t,s.CLASS_NAME_SERIES_LABEL)?t:a.findParentByClass(t,s.CLASS_NAME_SERIES_LABEL)},onShowAnimation:function(t){this.graphRenderer.showAnimation&&this.graphRenderer.showAnimation(t)},onHideAnimation:function(t){this.graphRenderer.hideAnimation&&this.graphRenderer.hideAnimation(t)},onShowGroupAnimation:function(t){this.graphRenderer.showGroupAnimation&&this.graphRenderer.showGroupAnimation(t)},onHideGroupAnimation:function(t){this.graphRenderer.hideGroupAnimation&&this.graphRenderer.hideGroupAnimation(t)},animateComponent:function(){this.graphRenderer.animate&&this.graphRenderer.animate(tui.util.bind(this.animateShowingAboutSeriesLabelArea,this))},_makeOpacityCssText:function(){var t;return t=r.isOldBrowser()?function(t){return";filter: alpha(opacity="+t*s.OLD_BROWSER_OPACITY_100+")"}:function(t){return";opacity: "+t}}(),_makeSeriesLabelHtml:function(t,e,i){var a=tui.util.extend(t,this.theme.label);return tui.util.isNull(this.selectedLegendIndex)||this.selectedLegendIndex===i?a.opacity="":a.opacity=this._makeOpacityCssText(s.SERIES_LABEL_OPACITY),n.tplSeriesLabel({cssText:n.tplCssText(a),value:e,index:i})},animateShowingAboutSeriesLabelArea:function(){var t=this;(this.options.showLabel||this.legendAlign)&&this.seriesLabelContainer&&(a.addClass(this.seriesLabelContainer,"show"),r.isIE7()?this.seriesLabelContainer.style.filter="":(this.labelShower=new tui.component.Effects.Fade({element:this.seriesLabelContainer,duration:300}),this.labelShower.action({start:0,end:1,complete:function(){clearInterval(t.labelShower.timerId),delete t.labelShower}})))},_makeExportationSeriesData:function(t){var e=t.indexes.index,i=this.dataProcessor.getLegendData(e);return{chartType:i.chartType,legend:i.label,legendIndex:e,index:t.indexes.groupIndex}},_executeGraphRenderer:function(t,e){var i;return this.fire("hideTooltipContainer"),this.options.showLabel&&a.removeClass(this.seriesLabelContainer,"show"),i=this.graphRenderer[e](t),this.options.showLabel&&a.addClass(this.seriesLabelContainer,"show"),this.fire("showTooltipContainer"),i},onSelectSeries:function(t){this.userEvent.fire("selectSeries",this._makeExportationSeriesData(t)),this.options.hasSelection&&this.graphRenderer.selectSeries(t.indexes)},onUnselectSeries:function(t){this.userEvent.fire("unselectSeries",this._makeExportationSeriesData(t)),this.options.hasSelection&&this.graphRenderer.unselectSeries(t.indexes)},onSelectLegend:function(t,e){this.chartType===t||tui.util.isNull(e)||(e=-1),this.selectedLegendIndex=e,this.dataProcessor.getItemGroup().getGroupCount(this.chartType)&&(this._renderSeriesArea(this.seriesContainer,this.data),this.graphRenderer.selectLegend(e))},showLabel:function(){this.options.showLabel=!0,a.addClass(this.seriesLabelContainer,"show opacity")},hideLabel:function(){this.options.showLabel=!1,a.removeClass(this.seriesLabelContainer,"show")}});e.exports=u},{"../const":19,"../factories/pluginFactory":36,"../helpers/domHandler":43,"../helpers/renderUtil":47,"./seriesTemplate":78}],78:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_SERIES_LABEL:'<div class="tui-chart-series-label" style="{{ cssText }}">{{ value }}</div>',TEXT_CSS_TEXT:"left:{{ left }}px;top:{{ top }}px;font-family:{{ fontFamily }};font-size:{{ fontSize }}px{{opacity}}",HTML_ZOOM_BUTTONS:'<a class="tui-chart-zoom-btn" href="#" data-magn="2"><div class="horizontal-line"></div><div class="vertical-line"></div></a><a class="tui-chart-zoom-btn" href="#" data-magn="0.5"><div class="horizontal-line"></div></a>'};e.exports={tplSeriesLabel:n.template(s.HTML_SERIES_LABEL),tplCssText:n.template(s.TEXT_CSS_TEXT),ZOOM_BUTTONS:s.HTML_ZOOM_BUTTONS}},{"../helpers/templateMaker":48}],79:[function(t,e,i){"use strict";var n=t("./seriesTemplate"),s=t("../const"),a=t("../helpers/domHandler"),r=t("../helpers/renderUtil"),o=t("../helpers/eventListener"),u=tui.util.defineClass({init:function(t){this.className="tui-chart-zoom-area",this.boundsMaker=t.boundsMaker,this.magn=1,this.stackedWheelDelta=0},render:function(){var t=a.create("DIV",this.className);return t.innerHTML+=n.ZOOM_BUTTONS,r.renderPosition(t,this.boundsMaker.getPosition("series")),this._attachEvent(t),t},_findBtnElement:function(t){var e="tui-chart-zoom-btn",i=t;return a.hasClass(t,e)||(i=a.findParentByClass(t,e)),i},_zoom:function(t,e){var i=Math.min(Math.max(1,this.magn*t),s.MAX_ZOOM_MAGN);i!==this.magn&&(this.magn=i,this.fire("zoom",this.magn,e))},_onClick:function(t){var e,i=t.target||t.srcElement,n=this._findBtnElement(i);return n&&(e=parseFloat(n.getAttribute("data-magn")),this._zoom(e)),t.preventDefault&&t.preventDefault(),!1},_attachEvent:function(t){o.bindEvent("click",t,tui.util.bind(this._onClick,this))},_calculateMagn:function(t){var e,i=parseInt(t/s.WHEEL_TICK,10);return e=i>0?Math.pow(2,i):Math.pow(.5,Math.abs(i))},onWheel:function(t,e){var i;Math.abs(t)<s.WHEEL_TICK?this.stackedWheelDelta+=t:this.stackedWheelDelta=t,Math.abs(this.stackedWheelDelta)<s.WHEEL_TICK||(i=this._calculateMagn(this.stackedWheelDelta),this._zoom(i,e),this.stackedWheelDelta=this.stackedWheelDelta%s.WHEEL_TICK)}});tui.util.CustomEvents.mixin(u),e.exports=u},{"../const":19,"../helpers/domHandler":43,"../helpers/eventListener":44,"../helpers/renderUtil":47,"./seriesTemplate":78}],80:[function(t,e,i){"use strict";var n="#000000",s="#ffffff",a="",r={tickColor:n,title:{fontSize:12,fontFamily:a,color:n},label:{fontSize:12,fontFamily:a,color:n}},o={chart:{background:s,fontFamily:"Verdana"},title:{fontSize:18,fontFamily:a,color:n},yAxis:r,xAxis:r,plot:{lineColor:"#dddddd",background:"#ffffff"},series:{label:{fontSize:11,fontFamily:a,color:n},colors:["#ac4142","#d28445","#f4bf75","#90a959","#75b5aa","#6a9fb5","#aa759f","#8f5536"],borderColor:a,selectionColor:a,startColor:"#F4F4F4",endColor:"#345391",overColor:"#F0C952"},legend:{label:{fontSize:12,fontFamily:a,color:n}},tooltip:{}};e.exports=o},{}],81:[function(t,e,i){"use strict";var n=t("./tooltipBase"),s=t("./groupTooltipPositionModel"),a=t("../const"),r=t("../helpers/domHandler"),o=t("../helpers/renderUtil"),u=t("../themes/defaultTheme"),h=t("./tooltipTemplate"),l=tui.util.defineClass(n,{init:function(t){n.call(this,t)},_makeTooltipHtml:function(t,e){var i=h.tplGroupItem,n=h.tplGroupCssText,s=this._makeColors(this.theme),a=tui.util.map(e,function(t,e){return i(tui.util.extend({cssText:n({color:s[e]})},t))}).join("");return h.tplGroup({category:t,items:a})},_setDefaultTooltipPositionOption:function(){this.options.align||(this.isVertical?this.options.align=a.TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION:this.options.align=a.TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION)},render:function(){var t=n.prototype.render.call(this),e=this.boundsMaker.getDimension("chart"),i=this.boundsMaker.getBound("tooltip");return this.positionModel=new s(e,i,this.isVertical,this.options),this.orgWholeLegendData=this.dataProcessor.getWholeLegendData(),t},rerender:function(t){n.prototype.rerender.call(this,t),this.theme=this._updateLegendTheme(t.checkedLegends)},_updateLegendTheme:function(t){var e=[];return tui.util.forEachArray(this.orgWholeLegendData,function(i){var n=t[i.chartType]||t;n[i.index]&&e.push(i.theme.color)}),{colors:e}},_makeTooltipData:function(){var t=this;return tui.util.map(this.dataProcessor.getWholeGroups(),function(e,i){return{category:t.dataProcessor.getCategory(i),values:e.pluck("formattedValue")}})},_makeColors:function(t){var e,i,n,s=0,a=this.dataProcessor.getWholeLegendData();return t.colors?t.colors:(e=u.series.colors.slice(0,a.length),tui.util.map(tui.util.pluck(a,"chartType"),function(a){var r;return n!==a&&(i=t[a]?t[a].colors:e,s=0),n=a,r=i[s],s+=1,r}))},_makeItemRenderingData:function(t){var e=this.dataProcessor,i=this.suffix;return tui.util.map(t,function(t,n){var s=e.getLegendData(n);return{value:t,legend:s.label,chartType:s.chartType,suffix:i}})},_makeGroupTooltipHtml:function(t){var e=this.data[t],i=this._makeItemRenderingData(e.values);return this.templateFunc(e.category,i)},_getTooltipSectorElement:function(){var t;return this.groupTooltipSector||(this.groupTooltipSector=t=r.create("DIV","tui-chart-group-tooltip-sector"),r.append(this.tooltipContainer,t)),this.groupTooltipSector},_makeVerticalTooltipSectorBound:function(t,e,i){var n;return i?(n=1,t+=6):n=e.end-e.start,{dimension:{width:n,height:t},position:{left:e.start+a.SERIES_EXPAND_SIZE,top:a.SERIES_EXPAND_SIZE}}},_makeHorizontalTooltipSectorBound:function(t,e){return{dimension:{width:t,height:e.end-e.start},position:{left:a.SERIES_EXPAND_SIZE,top:e.start+a.SERIES_EXPAND_SIZE}}},_makeTooltipSectorBound:function(t,e,i,n){var s;return s=i?this._makeVerticalTooltipSectorBound(t,e,n):this._makeHorizontalTooltipSectorBound(t,e)},_showTooltipSector:function(t,e,i,n){var s=this._getTooltipSectorElement(),a=e.start===e.end,u=this._makeTooltipSectorBound(t,e,i,a);a?this.fire("showGroupTooltipLine",u):(o.renderDimension(s,u.dimension),o.renderPosition(s,u.position),r.addClass(s,"show")),this.fire("showGroupAnimation",n)},_hideTooltipSector:function(t){var e=this._getTooltipSectorElement();r.removeClass(e,"show"),this.fire("hideGroupAnimation",t),this.fire("hideGroupTooltipLine")},showTooltip:function(t,e,i){var n,s;tui.util.isUndefined(this.prevIndex)||this.fire("hideGroupAnimation",this.prevIndex),t.innerHTML=this._makeGroupTooltipHtml(e.index),this._fireBeforeShowTooltip(e.index,e.range),r.addClass(t,"show"),this._showTooltipSector(e.size,e.range,e.isVertical,e.index),n=this.getTooltipDimension(t),s=this.positionModel.calculatePosition(n,e.range),this.moveToPosition(t,s,i),this._fireAfterShowTooltip(e.index,e.range,{element:t,position:s}),this.prevIndex=e.index},_fireBeforeShowTooltip:function(t,e){this.userEvent.fire("beforeShowTooltip",{index:t,range:e})},_fireAfterShowTooltip:function(t,e,i){this.userEvent.fire("afterShowTooltip",tui.util.extend({index:t,range:e},i))},hideTooltip:function(t,e){delete this.prevIndex,this._hideTooltipSector(e),r.removeClass(t,"show"),t.style.cssText=""}});e.exports=l},{"../const":19,"../helpers/domHandler":43,"../helpers/renderUtil":47,"../themes/defaultTheme":80,"./groupTooltipPositionModel":82,"./tooltipBase":86,"./tooltipTemplate":87}],82:[function(t,e,i){"use strict";var n=t("../const"),s=tui.util.defineClass({init:function(t,e,i,n){this.chartDimension=t,this.areaBound=e,this.isVertical=i,this.options=n,this.positions={},this._setData(t,e,i,n)},_getHorizontalDirection:function(t){var e;return t=t||"",e=t.indexOf("left")>-1?n.TOOLTIP_DIRECTION_BACKWARD:t.indexOf("center")>-1?n.TOOLTIP_DIRECTION_CENTER:n.TOOLTIP_DIRECTION_FORWARD},_makeVerticalData:function(t,e,i){var s=this._getHorizontalDirection(i);return{positionType:"left",sizeType:"width",direction:s,areaPosition:e.position.left,areaSize:e.dimension.width,chartSize:t.width,basePosition:n.SERIES_EXPAND_SIZE}},_getVerticalDirection:function(t){var e;return t=t||"",e=t.indexOf("top")>-1?n.TOOLTIP_DIRECTION_BACKWARD:t.indexOf("bottom")>-1?n.TOOLTIP_DIRECTION_FORWARD:n.TOOLTIP_DIRECTION_CENTER},_makeHorizontalData:function(t,e,i){var s=this._getVerticalDirection(i);return{positionType:"top",sizeType:"height",direction:s,areaPosition:e.position.top,areaSize:e.dimension.height,chartSize:t.height,basePosition:n.SERIES_EXPAND_SIZE}},_setData:function(t,e,i,n){var s=this._makeVerticalData(t,e,n.align),a=this._makeHorizontalData(t,e,n.align);i?(this.mainData=s,this.subData=a):(this.mainData=a,this.subData=s),this.positionOption=tui.util.extend({left:0,top:0},n.position),this.positions={}},_calculateMainPositionValue:function(t,e,i){var s=e.start===e.end,a=9,r=5,o=s?a:r,u=i.basePosition;return u+=i.direction===n.TOOLTIP_DIRECTION_FORWARD?e.end+o:i.direction===n.TOOLTIP_DIRECTION_BACKWARD?e.start-t-o:s?e.start-t/2:e.start+(e.end-e.start-t)/2},_calculateSubPositionValue:function(t,e){var i,s=e.areaSize/2;return i=e.direction===n.TOOLTIP_DIRECTION_FORWARD?s+e.basePosition:e.direction===n.TOOLTIP_DIRECTION_BACKWARD?s-t+e.basePosition:s-t/2+e.basePosition},_makePositionValueDiff:function(t,e,i){return t+i.areaPosition+e-i.chartSize},_adjustBackwardPositionValue:function(t,e,i,s){var a;return t<-s.areaPosition&&(a=this._calculateMainPositionValue(i,e,{direction:n.TOOLTIP_DIRECTION_FORWARD,basePosition:s.basePosition}),t=this._makePositionValueDiff(a,i,s)>0?-s.areaPosition:a),t},_adjustForwardPositionValue:function(t,e,i,s){var a,r=this._makePositionValueDiff(t,i,s);return r>0&&(a=this._calculateMainPositionValue(i,e,{direction:n.TOOLTIP_DIRECTION_BACKWARD,basePosition:s.basePosition}),a<-s.areaPosition?t-=r:t=a),t},_adjustMainPositionValue:function(t,e,i,s){return s.direction===n.TOOLTIP_DIRECTION_BACKWARD?t=this._adjustBackwardPositionValue(t,e,i,s):s.direction===n.TOOLTIP_DIRECTION_FORWARD?t=this._adjustForwardPositionValue(t,e,i,s):(t=tui.util.max([t,-s.areaPosition]),t=tui.util.min([t,s.chartSize-s.areaPosition-i])),t},_adjustSubPositionValue:function(t,e,i){return t=i.direction===n.TOOLTIP_DIRECTION_FORWARD?tui.util.min([t,i.chartSize-i.areaPosition-e]):tui.util.max([t,-i.areaPosition])},_makeCachingKey:function(t){return t.start+"-"+t.end},_addPositionOptionValue:function(t,e){return t+this.positionOption[e]},_makeMainPositionValue:function(t,e,i){var n;return n=this._calculateMainPositionValue(t[i.sizeType],e,i),n=this._addPositionOptionValue(n,i.positionType),n=this._adjustMainPositionValue(n,e,t[i.sizeType],i)},_makeSubPositionValue:function(t,e){var i;return i=this._calculateSubPositionValue(t[e.sizeType],e),i=this._addPositionOptionValue(i,e.positionType),i=this._adjustSubPositionValue(i,t[e.sizeType],e)},calculatePosition:function(t,e){var i=this._makeCachingKey(e),n=this.mainData,s=this.subData,a=this.positions[i];return a||(a={},a[n.positionType]=this._makeMainPositionValue(t,e,n),a[s.positionType]=this._makeSubPositionValue(t,s),this.positions[i]=a),a},updateOptions:function(t){this.options=t,this._setData(this.chartDimension,this.areaBound,this.isVertical,t)},updateBound:function(t){this.areaBound=t,this._setData(this.chartDimension,t,this.isVertical,this.options)}});e.exports=s},{"../const":19}],83:[function(t,e,i){"use strict";var n=t("../const"),s=t("./tooltipBase"),a=t("./singleTooltipMixer"),r=t("./tooltipTemplate"),o=tui.util.defineClass(s,{init:function(t){this.mapModel=null,s.call(this,t)},_makeTooltipHtml:function(t){return r.tplMapChartDefault(t)},_makeSingleTooltipHtml:function(t,e){var i=this.mapModel.getDatum(e.index),n=this.options.suffix?" "+this.options.suffix:"";return this.templateFunc({name:i.name||i.code,value:i.formattedValue,suffix:n})},_makeShowTooltipParams:function(t,e){var i,n=this.mapModel.getDatum(t.index);return i=tui.util.extend({chartType:this.chartType,code:n.code,name:n.name,value:n.formattedValue,index:t.index},e)},_setDefaultTooltipPositionOption:function(){this.options.align||(this.options.align=n.TOOLTIP_DEFAULT_ALIGN_OPTION)},render:function(t){return this.mapModel=t.mapModel,s.prototype.render.call(this)}});a.mixin(o),e.exports=o},{"../const":19,"./singleTooltipMixer":84,"./tooltipBase":86,"./tooltipTemplate":87}],84:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),a=t("../helpers/domHandler"),r=t("../helpers/renderUtil"),o={_fireShowAnimation:function(t,e){var i=r.makeCustomEventName("show",e,"animation");this.fire(i,t)},_fireHideAnimation:function(t,e){var i=r.makeCustomEventName("hide",e,"animation");this.fire(i,t)},_setIndexesCustomAttribute:function(t,e){t.setAttribute("data-groupIndex",e.groupIndex),t.setAttribute("data-index",e.index)},_getIndexesCustomAttribute:function(t){var e=t.getAttribute("data-groupIndex"),i=t.getAttribute("data-index"),n=null;return tui.util.isNull(e)||tui.util.isNull(i)||(n={groupIndex:parseInt(e,10),index:parseInt(i,10)}),n},_setShowedCustomAttribute:function(t,e){t.setAttribute("data-showed",e)},_isShowedTooltip:function(t){var e=t.getAttribute("data-showed");return"true"===e||e===!0},_makeLeftPositionOfNotBarChart:function(t,e,i,n){var s=t;return e.indexOf("left")>-1?s-=i+n:e.indexOf("center")>-1?s-=i/2:s+=n,s},_makeTopPositionOfNotBarChart:function(t,e,i,s){var a=t;return e.indexOf("bottom")>-1?a+=i+s:e.indexOf("middle")>-1?a+=i/2:a-=n.TOOLTIP_GAP,a},_makeTooltipPositionOfNotBarChart:function(t){var e=t.bound,i=t.positionOption,s=t.dimension.width-(e.width||0),a=e.width?0:n.TOOLTIP_GAP,r=t.alignOption||"",o=t.dimension.height,u=e.left+i.left,h=e.top-o+i.top;return{left:this._makeLeftPositionOfNotBarChart(u,r,s,a),top:this._makeTopPositionOfNotBarChart(h,r,o,a)}},_makeTooltipPositionToMousePosition:function(t){return t.bound=t.bound||{},tui.util.extend(t.bound,t.mousePosition),this._makeTooltipPositionOfNotBarChart(t)},_makeLeftPositionOfBarChart:function(t,e,i){var s=t;return e.indexOf("left")>-1?s-=i:e.indexOf("center")>-1?s-=i/2:s+=n.TOOLTIP_GAP,s},_makeTopPositionOfBarChart:function(t,e,i){var n=t;return e.indexOf("top")>-1?n-=i:e.indexOf("middle")>-1&&(n-=i/2),n},_makeTooltipPositionOfBarChart:function(t){var e=t.bound,i=t.positionOption,n=t.dimension.height-(e.height||0),s=t.alignOption||"",a=t.dimension.width,r=e.left+e.width+i.left,o=e.top+i.top;return{left:this._makeLeftPositionOfBarChart(r,s,a),top:this._makeTopPositionOfBarChart(o,s,n)}},_adjustPosition:function(t,e){var i=this.boundsMaker.getDimension("chart"),n=this.boundsMaker.getPosition("tooltip");return e.left=Math.max(e.left,-n.left),e.left=Math.min(e.left,i.width-n.left-t.width),e.top=Math.max(e.top,-n.top),e.top=Math.min(e.top,i.height-n.top-t.height),e},_makeTooltipPosition:function(t){var e,i,n,a={};return t.mousePosition?a=this._makeTooltipPositionToMousePosition(t):(s.isBarChart(t.chartType)?(a=this._makeTooltipPositionOfBarChart(t),e="width",i="left",n=1):(a=this._makeTooltipPositionOfNotBarChart(t),e="height",i="top",n=-1),t.allowNegativeTooltip&&(a=this._moveToSymmetry(a,{bound:t.bound,indexes:t.indexes,dimension:t.dimension,chartType:t.chartType,sizeType:e,positionType:i,addPadding:n})),a=this._adjustPosition(t.dimension,a)),a},_moveToSymmetry:function(t,e){var i,n,s,a,r=e.bound,o=e.sizeType,u=e.positionType,h=this.dataProcessor.getValue(e.indexes.groupIndex,e.indexes.index,e.chartType);return 0>h&&(i=e.dimension[o]/2,n=r[u],s=r[o]/2,a=2*(n+s-i)-t[u],t[u]=a),t},_isChangedIndexes:function(t,e){return!!t&&(t.groupIndex!==e.groupIndex||t.index!==e.index)},showTooltip:function(t,e,i){var n,s,r=e.indexes,o=this._getIndexesCustomAttribute(t);this._isChangedIndexes(o,r)&&(n=t.getAttribute("data-chart-type"),this._fireHideAnimation(o,n)),t.innerHTML=this._makeSingleTooltipHtml(e.chartType,r),t.setAttribute("data-chart-type",e.chartType),this._setIndexesCustomAttribute(t,r),this._setShowedCustomAttribute(t,!0),this._fireBeforeShowTooltip(r),a.addClass(t,"show"),s=this._makeTooltipPosition(tui.util.extend({dimension:this.getTooltipDimension(t),positionOption:tui.util.extend({left:0,top:0},this.options.position),alignOption:this.options.align||""},e)),this.moveToPosition(t,s,i),this._fireShowAnimation(r,e.chartType),this._fireAfterShowTooltip(r,{element:t,position:s})},_fireBeforeShowTooltip:function(t){var e=this._makeShowTooltipParams(t);this.userEvent.fire("beforeShowTooltip",e)},_fireAfterShowTooltip:function(t,e){var i=this._makeShowTooltipParams(t,e);this.userEvent.fire("afterShowTooltip",i)},hideTooltip:function(t){var e=this,i=this._getIndexesCustomAttribute(t),s=t.getAttribute("data-chart-type");s&&(this._setShowedCustomAttribute(t,!1),this._fireHideAnimation(i,s),this._isChangedIndexes(this.prevIndexes,i)&&delete this.prevIndexes,setTimeout(function(){e._isShowedTooltip(t)||(a.removeClass(t,"show"),t.style.cssText="",i=null)},n.HIDE_DELAY))},onShowTooltipContainer:function(){this.tooltipContainer.style.zIndex=n.TOOLTIP_ZINDEX},onHideTooltipContainer:function(){this.tooltipContainer.style.zIndex=0},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=o},{"../const":19,"../helpers/domHandler":43,"../helpers/predicate":45,"../helpers/renderUtil":47}],85:[function(t,e,i){"use strict";var n=t("./tooltipBase"),s=t("./singleTooltipMixer"),a=t("../const"),r=t("./tooltipTemplate"),o=tui.util.defineClass(n,{init:function(t){n.call(this,t)},_makeTooltipHtml:function(t,e){return r.tplDefault(tui.util.extend({category:t||""},e))},_makeSingleTooltipHtml:function(t,e){var i=tui.util.pick(this.data,t,e.groupIndex,e.index);return this.templateFunc(i.category,{value:i.value,legend:i.legend,suffix:this.suffix})},_setDefaultTooltipPositionOption:function(){this.options.align||(this.isVertical?this.options.align=a.TOOLTIP_DEFAULT_ALIGN_OPTION:this.options.align=a.TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION)},_makeShowTooltipParams:function(t,e){var i,n=t.index,s=this.dataProcessor.getLegendData(n);return i=tui.util.extend({chartType:s.chartType,legend:s.label,legendIndex:n,index:t.groupIndex},e)},_makeTooltipData:function(){var t=this,e=this.dataProcessor.getCategories(),i=this.dataProcessor.getItemGroup(),n=this.dataProcessor.getLegendLabels(),s={},a={};return tui.util.isArray(n)?s[this.chartType]=n:s=n,i.each(function(i,n,r){var o;r=r||t.chartType,a[r]||(a[r]=[]),o=i.map(function(t,i){return{category:e?e[n]:"",legend:s[r][i],value:t.formattedValue}}),a[r].push(o)}),a}});s.mixin(o),e.exports=o},{"../const":19,"./singleTooltipMixer":84,"./tooltipBase":86,"./tooltipTemplate":87}],86:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/domHandler"),a=t("../helpers/predicate"),r=t("../helpers/renderUtil"),o=tui.util.defineClass({init:function(t){var e=a.isPieChart(t.chartType);tui.util.extend(this,t),this.className="tui-chart-tooltip-area",this.tooltipContainer=null,this.suffix=this.options.suffix?"&nbsp;"+this.options.suffix:"",this.templateFunc=this.options.template||tui.util.bind(this._makeTooltipHtml,this),this.animationTime=e?n.TOOLTIP_PIE_ANIMATION_TIME:n.TOOLTIP_ANIMATION_TIME,this.data=[],this._setDefaultTooltipPositionOption(),this._saveOriginalPositionOptions()},_makeTooltipHtml:function(){},_setDefaultTooltipPositionOption:function(){},_saveOriginalPositionOptions:function(){this.orgPositionOptions={align:this.options.align,position:this.options.position}},_makeTooltipData:function(){},render:function(){var t=s.create("DIV",this.className);return this.data=this._makeTooltipData(),r.renderPosition(t,this.boundsMaker.getPosition("tooltip")),this.tooltipContainer=t,t},rerender:function(){this.data=this._makeTooltipData(),this.positionModel&&this.positionModel.updateBound(this.boundsMaker.getBound("tooltip"))},resize:function(){r.renderPosition(this.tooltipContainer,this.boundsMaker.getPosition("tooltip")),this.positionModel&&this.positionModel.updateBound(this.boundsMaker.getBound("tooltip"))},_getTooltipElement:function(){var t;return this.tooltipElement||(this.tooltipElement=t=s.create("DIV","tui-chart-tooltip"),s.append(this.tooltipContainer,t)),this.tooltipElement},onShow:function(t){var e,i=this._getTooltipElement();!a.isMousePositionChart(t.chartType)&&i.offsetWidth&&(e={left:i.offsetLeft,top:i.offsetTop}),this.showTooltip(i,t,e)},getTooltipDimension:function(t){return{width:t.offsetWidth,height:t.offsetHeight}},moveToPosition:function(t,e,i){i?this._slideTooltip(t,i,e):r.renderPosition(t,e)},_slideTooltip:function(t,e,i){var n=i.top-e.top,s=i.left-e.left;r.cancelAnimation(this.slidingAnimation),this.slidingAnimation=r.startAnimation(this.animationTime,function(i){var a=s*i,r=n*i;t.style.left=e.left+a+"px",t.style.top=e.top+r+"px"})},onHide:function(t){var e=this._getTooltipElement();this.hideTooltip(e,t)},setAlign:function(t){this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},setPosition:function(t){this.options.position=tui.util.extend({},this.options.position,t),this.positionModel&&this.positionModel.updateOptions(this.options)},resetAlign:function(){var t=this.orgPositionOptions.align;this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},resetPosition:function(){var t=this.orgPositionOptions.position;this.options.position=t,this.positionModel&&this.positionModel.updateOptions(this.options)}});tui.util.CustomEvents.mixin(o),e.exports=o},{"../const":19,"../helpers/domHandler":43,"../helpers/predicate":45,"../helpers/renderUtil":47
}],87:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_DEFAULT_TEMPLATE:'<div class="tui-chart-default-tooltip"><div>{{ category }}</div><div><span>{{ legend }}</span>:&nbsp;<span>{{ value }}</span><span>{{ suffix }}</span></div></div>',HTML_GROUP:'<div class="tui-chart-default-tooltip tui-chart-group-tooltip"><div>{{ category }}</div>{{ items }}</div>',HTML_GROUP_ITEM:'<div><div class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></div>&nbsp;<span>{{ legend }}</span>:&nbsp;<span>{{ value }}</span><span>{{ suffix }}</span></div>',GROUP_CSS_TEXT:"background-color:{{ color }}",HTML_MAP_CHART_DEFAULT_TEMPLATE:'<div class="tui-chart-default-tooltip"><div>{{ name }}: {{ value }}{{ suffix }}</div></div>'};e.exports={tplDefault:n.template(s.HTML_DEFAULT_TEMPLATE),tplGroup:n.template(s.HTML_GROUP),tplGroupItem:n.template(s.HTML_GROUP_ITEM),tplGroupCssText:n.template(s.GROUP_CSS_TEXT),tplMapChartDefault:n.template(s.HTML_MAP_CHART_DEFAULT_TEMPLATE)}},{"../helpers/templateMaker":48}]},{},[3,57]);