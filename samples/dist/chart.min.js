/**
 * @fileoverview tui.chart
 * @author NHN Ent. FE Development Team <dl_javascript@nhnent.com>
 * @version 1.5.3-a
 * @license MIT
 * @link https://github.com/nhnent/tui.chart
 */
!function t(e,i,n){function s(r,o){if(!i[r]){if(!e[r]){var h="function"==typeof require&&require;if(!o&&h)return h(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[r]={exports:{}};e[r][0].call(u.exports,function(t){var i=e[r][1][t];return s(i?i:t)},u,u.exports,t,e,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),s=t("../const"),a=t("../helpers/calculator"),r=t("../helpers/renderUtil"),o=t("./axisTemplate"),h=tui.util.defineClass({init:function(t){this.className="tui-chart-axis-area",this.chartType=t.chartType,this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.options=t.options||{},this.theme=t.theme||{},this.isLabel=t.isLabel,this.data={}},_makeXAxisHeight:function(){var t=this.options.title,e=r.getRenderedLabelHeight(t,this.theme.title),i=e?e+s.TITLE_PADDING:0,n=r.getRenderedLabelHeight(s.MAX_HEIGHT_WORLD,this.theme.label);return i+n+s.CHART_PADDING},_makeYAxisWidth:function(t,e){var i=e.title||"",n=this.theme,a=0,o=0;return e.isCenter?o+=s.AXIS_LABEL_PADDING:a=e.rotateTitle===!1?r.getRenderedLabelWidth(i,n.title)+s.TITLE_PADDING:r.getRenderedLabelHeight(i,n.title)+s.TITLE_PADDING,o+=r.getRenderedLabelsMaxWidth(t,n.label)+a+s.AXIS_LABEL_PADDING},_isValidAxis:function(){var t=!0;return"rightYAxis"===this.componentName&&(t=this.dataProcessor.isValidAllSeriesDataModel()),t},registerDimension:function(){var t={};this._isValidAxis()&&("xAxis"===this.componentType?(t.height=this._makeXAxisHeight(),this.boundsMaker.registerBaseDimension(this.componentName,t)):this.isLabel&&(t.width=this._makeYAxisWidth(this.dataProcessor.getCategories(),this.options),this.boundsMaker.registerBaseDimension(this.componentName,t)))},registerAdditionalDimension:function(){var t,e,i=this.boundsMaker.axesData;this._isValidAxis()&&("yAxis"!==this.componentType||this.isLabel||(e="rightYAxis"===this.componentName?this.options:i.yAxis.options,t={width:this._makeYAxisWidth(i.yAxis.labels,e)},this.boundsMaker.registerBaseDimension(this.componentName,t)))},_renderOppositeSideTickArea:function(t){var e;return this.options.isCenter&&(e=n.create("DIV","tui-chart-tick-area opposite-side"),e.innerHTML=t),e},_addCssClasses:function(t){n.addClass(t,this.data.isVertical?"vertical":"horizontal"),n.addClass(t,this.options.isCenter?"center":""),n.addClass(t,this.options.divided?"division":""),n.addClass(t,this.data.isPositionRight?"right":"")},_renderChildContainers:function(t,e,i,n,s){var a,r,o=this._renderTitleArea(t),h=this._renderLabelArea(t,e,i,n,s),l=[o,h],u=this.data.isVertical&&this.data.aligned;return u||(a=this._renderTickArea(t,i,n,s),r=this._renderOppositeSideTickArea(a.innerHTML),l=l.concat([a,r])),l},_renderDivisionAxisArea:function(t,e){var i,s,a,r=Math.round(e/2),o=e-r,h=this.data.tickCount,l=parseInt(h/2,10)+1,u=this.data.labels,c=u.slice(0,l),d=u.slice(l-1,h),p=r+this.boundsMaker.getDimension("yAxis").width;i=this._renderChildContainers(r,r,l,c),s=this._renderChildContainers(o,o,l,d,p),a=s[0],n.addClass(a,"right"),n.append(t,i.concat(s))},_renderSingleAxisArea:function(t,e){var i=!!this.data.isVertical,s=i?e.height:e.width,a=this._renderChildContainers(s,e.width,this.data.tickCount,this.data.labels);n.append(t,a)},_renderAxisArea:function(t){var e=tui.util.extend({},this.boundsMaker.getDimension(this.componentName));this._addCssClasses(t),this.options.divided?(this._renderDivisionAxisArea(t,e.width),e.width+=this.boundsMaker.getDimension("yAxis").width):(this._renderSingleAxisArea(t,e),e.width+=this.options.isCenter?2:0),r.renderDimension(t,e),r.renderPosition(t,this.boundsMaker.getPosition(this.componentName))},render:function(t){var e=n.create("DIV",this.className);return this.data=t,this._renderAxisArea(e),this.axisContainer=e,e},rerender:function(t){this.axisContainer.innerHTML="",this._isValidAxis()&&(t.options&&(this.options=t.options),this.data=t,this._renderAxisArea(this.axisContainer))},resize:function(t,e){this.rerender(t,e)},_makeCssTextFromPositionMap:function(t){return tui.util.map(t,function(t,e){return r.concatStr(e,":",t,"px")}).join(";")},_makePositionMapForCenterAlign:function(){var t=r.getRenderedLabelWidth(this.options.title,this.theme.title),e=this.boundsMaker.getDimension("yAxis").width,i=this.boundsMaker.getDimension("xAxis").height;return{left:(e-t)/2,bottom:-i}},_makeRightPosition:function(t){var e;return e=r.isIE7()||this.options.rotateTitle===!1?0:-t},_makeTopPosition:function(t){var e,i=null;return this.options.rotateTitle===!1?(e=r.getRenderedLabelHeight(this.options.title,this.theme.title),i=(t-e)/2):this.data.isPositionRight?i=0:r.isOldBrowser()||(i=t),i},_makePositionMapForNotCenterAlign:function(t){var e,i={};return this.data.isPositionRight?i.right=this._makeRightPosition(t):i.left=0,e=this._makeTopPosition(t),tui.util.isNull(e)||(i.top=e),i},_renderTitleAreaStyle:function(t,e){var i,n;i=this.options.isCenter?this._makePositionMapForCenterAlign():this._makePositionMapForNotCenterAlign(e),this.options.rotateTitle!==!1&&(i.width=e),n=this._makeCssTextFromPositionMap(i),t.style.cssText+=";"+n},_renderTitleArea:function(t){var e=r.renderTitle(this.options.title,this.theme.title,"tui-chart-title-area");return e&&this.data.isVertical&&this._renderTitleAreaStyle(e,t),this.options.rotateTitle!==!1&&n.addClass(e,"rotation"),e},_renderTickArea:function(t,e,i,s){var h,l,u,c,d=this.data,p=!d.isVertical&&!this.options.divided,m=this.theme.tickColor,f=a.makeTickPixelPositions(t,e),g=n.create("DIV","tui-chart-tick-area"),_=o.tplAxisTick,T=p?1:0;return s=s||0,d.isVertical?(h="bottom",l="height"):(h="left",l="width"),u=o.tplTickLine({positionType:h,positionValue:s-T,sizeType:l,size:t+T}),c=tui.util.map(f,function(t,e){var i,n;return t-=0===e&&p?1:0,n=[r.concatStr("background-color:",m),r.concatStr(h,": ",s+t,"px")].join(";"),i=_({cssText:n})}).join(""),g.innerHTML=u+c,g},_makeVerticalLabelCssText:function(t,e){return";width:"+(t-e+s.V_LABEL_RIGHT_PADDING)+"px"},_applyLabelAreaStyle:function(t,e){var i,n=r.makeFontCssText(this.theme.label);this.data.isVertical&&(i=this._getRenderedTitleHeight()+s.TITLE_AREA_WIDTH_PADDING,n+=this._makeVerticalLabelCssText(e,i)),t.style.cssText=n},_renderLabelArea:function(t,e,i,s,r){var o,h=n.create("DIV","tui-chart-label-area"),l=a.makeTickPixelPositions(t,i),u=l[1]-l[0];return r=r||0,o=this._makeLabelsHtml(l,s,u,r),h.innerHTML=o,this._applyLabelAreaStyle(h,e),this._changeLabelAreaPosition(h,u),h},_getRenderedTitleHeight:function(){var t=this.options.title,e=this.theme.title,i=t?r.getRenderedLabelHeight(t,e):0;return i},_makeLabelCssText:function(t){var e=this.data.isVertical,i=[];return e&&this.data.isLabelAxis?(i.push(r.concatStr("height:",t,"px")),i.push(r.concatStr("line-height:",t,"px"))):e||i.push(r.concatStr("width:",t,"px")),i.length?i.join(";")+";":""},_calculateRotationMovingPosition:function(t){var e=t.moveLeft,i=this.boundsMaker.xAxisDegree;return i===s.ANGLE_85&&(e+=a.calculateAdjacent(s.ANGLE_90-i,t.labelHeight/2)),{top:t.top,left:t.left-e}},_calculateRotationMovingPositionForOldBrowser:function(t){var e=r.getRenderedLabelWidth(t.label,t.theme),i=this.boundsMaker.xAxisDegree,n=a.calculateAdjacent(s.ANGLE_90-i,t.labelHeight/2),o=2*(a.calculateAdjacent(i,e/2)+n),h=r.isIE7()?0:e-o,l=t.labelWidth/2-2*n;return i===s.ANGLE_85&&(l+=n),{top:s.XAXIS_LABEL_TOP_MARGIN,left:t.left+h-l}},_makeCssTextForRotationMoving:function(t){var e;return e=r.isOldBrowser()?this._calculateRotationMovingPositionForOldBrowser(t):this._calculateRotationMovingPosition(t),r.concatStr("left:",e.left,"px",";top:",e.top,"px")},_makeRotationLabelsHtml:function(t,e,i,n){var h,l=this,u=this.boundsMaker.xAxisDegree,c=o.tplAxisLabel,d=r.getRenderedLabelHeight(e[0],this.theme.label),p=this._makeLabelCssText(i),m=" tui-chart-xaxis-rotation tui-chart-xaxis-rotation"+u,f=i/2,g=a.calculateAdjacent(u,f),_=a.calculateOpposite(u,f)+s.XAXIS_LABEL_TOP_MARGIN,T=r.isIE7()&&u?s.IE7_ROTATION_FILTER_STYLE_MAP[u]:"";return n=n||0,h=tui.util.map(t,function(t,s){var a=e[s],r=l._makeCssTextForRotationMoving({labelHeight:d,labelWidth:i,top:_,left:t+n,moveLeft:g,label:a,theme:l.theme.label});return c({additionalClass:m,cssText:p+r,spanCssText:T,label:a})}).join("")},_makeNormalLabelsHtml:function(t,e,i,n){var s,a,h=o.tplAxisLabel,l=this._makeLabelCssText(i);return n=n||0,s=this.data.isVertical?this.data.isLabelAxis?"top":"bottom":"left",a=tui.util.map(t,function(t,i){var a=r.concatStr(s,":",t+n,"px");return h({additionalClass:"",cssText:l+a,label:e[i],spanCssText:""})}).join("")},_makeLabelsHtml:function(t,e,i,n){var s,a=!this.data.isVertical&&this.data.isLabelAxis&&this.options.rotateLabel===!1,r="xAxis"===this.componentName&&this.boundsMaker.xAxisDegree;return a&&(e=this.dataProcessor.getMultilineCategories()),t.length=e.length,s=r?this._makeRotationLabelsHtml(t,e,i,n):this._makeNormalLabelsHtml(t,e,i,n)},_changeLabelAreaPosition:function(t,e){var i;this.data.isLabelAxis&&!this.data.aligned||(this.data.isVertical?(i=r.getRenderedLabelHeight("ABC",this.theme.label),t.style.top=r.concatStr(parseInt(i/2,10),"px")):t.style.left=r.concatStr("-",parseInt(e/2,10),"px"))}});e.exports=h},{"../const":24,"../helpers/calculator":47,"../helpers/domHandler":49,"../helpers/renderUtil":53,"./axisTemplate":2}],2:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_AXIS_TICK_LINE:'<div class="tui-chart-tick-line" style="{{ positionType }}:{{ positionValue }}px;{{ sizeType }}:{{ size }}px"></div>',HTML_AXIS_TICK:'<div class="tui-chart-tick" style="{{ cssText }}"></div>',HTML_AXIS_LABEL:'<div class="tui-chart-label{{ additionalClass }}" style="{{ cssText }}"><span{{ spanCssText }}>{{ label }}</span></div>'};e.exports={tplTickLine:n.template(s.HTML_AXIS_TICK_LINE),tplAxisTick:n.template(s.HTML_AXIS_TICK),tplAxisLabel:n.template(s.HTML_AXIS_LABEL)}},{"../helpers/templateMaker":54}],3:[function(t,e,i){"use strict";var n,s=t("./const"),a=t("./factories/chartFactory"),r=t("./factories/pluginFactory"),o=t("./factories/themeFactory"),h=t("./factories/mapFactory");t("./polyfill"),t("./code-snippet-util"),t("./registerCharts"),t("./registerThemes"),tui.util.defineNamespace("tui.chart"),n=function(t,e,i){var n,r,h;return e=JSON.parse(JSON.stringify(e)),i=i?tui.util.deepCopy(i):{},n=i.theme||s.DEFAULT_THEME_NAME,r=o.get(n),h=a.get(i.chartType,e,r,i),t.appendChild(h.render()),h.animateChart(),h},tui.chart.barChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_BAR,n(t,e,i)},tui.chart.columnChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_COLUMN,n(t,e,i)},tui.chart.lineChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_LINE,n(t,e,i)},tui.chart.areaChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_AREA,n(t,e,i)},tui.chart.bubbleChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_BUBBLE,n(t,e,i)},tui.chart.scatterChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_SCATTER,n(t,e,i)},tui.chart.comboChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_COMBO,n(t,e,i)},tui.chart.pieChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_PIE,n(t,e,i)},tui.chart.mapChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_MAP,i.map=h.get(i.map),n(t,e,i)},tui.chart.registerTheme=function(t,e){o.register(t,e)},tui.chart.registerMap=function(t,e){h.register(t,e)},tui.chart.registerPlugin=function(t,e){r.register(t,e)}},{"./code-snippet-util":23,"./const":24,"./factories/chartFactory":40,"./factories/mapFactory":41,"./factories/pluginFactory":42,"./factories/themeFactory":43,"./polyfill":75,"./registerCharts":76,"./registerThemes":77}],4:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("./lineTypeMixer"),a=t("./axisTypeMixer"),r=t("../helpers/rawDataHandler"),o=t("../series/areaChartSeries"),h=tui.util.defineClass(n,{className:"tui-area-chart",Series:o,init:function(t,e,i){r.removeSeriesStack(t.series),this._lineTypeInit(t,e,i)}});a.mixin(h),s.mixin(h),e.exports=h},{"../helpers/rawDataHandler":52,"../series/areaChartSeries":78,"./axisTypeMixer":5,"./chartBase":9,"./lineTypeMixer":15}],5:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../helpers/axisDataMaker"),a=t("../helpers/renderUtil"),r=t("../helpers/predicate"),o=t("../axes/axis"),h=t("../plots/plot"),l=t("../legends/legend"),u=t("../customEvents/groupTypeCustomEvent"),c=t("../customEvents/boundsTypeCustomEvent"),d=t("../tooltips/tooltip"),p=t("../tooltips/groupTooltip"),m={_addAxisComponents:function(t,e){var i=this;tui.util.forEach(t,function(t){var n={aligned:e,isLabel:!!t.isLabel,chartType:t.chartType};"rightYAxis"===t.name&&(n.componentType="yAxis",n.index=1),i.componentManager.register(t.name,o,n)})},_addSeriesComponents:function(t,e){var i=this,n={libType:e.libType,chartType:e.chartType,userEvent:this.userEvent,componentType:"series"};tui.util.forEach(t,function(t){var e=tui.util.extend(n,t.data);i.componentManager.register(t.name,t.SeriesClass,e)})},_addTooltipComponent:function(){var t=this.hasGroupTooltip?p:d;this.componentManager.register("tooltip",t,this._makeTooltipData())},_addLegendComponent:function(t,e){this.componentManager.register("legend",l,{chartTypes:t,chartType:e,userEvent:this.userEvent})},_addComponentsForAxisType:function(t){var e=this.options,i=!!t.aligned;this.componentManager.register("plot",h),this._addAxisComponents(t.axes,i),e.legend.visible&&this._addLegendComponent(t.seriesNames,t.chartType),this._addSeriesComponents(t.serieses,e),this._addTooltipComponent()},_getLimitMap:function(t,e){var i={},n=t.yAxis?t.yAxis.limit:t.rightYAxis.limit;return i[e[0]]=this.isVertical?n:t.xAxis.limit,e.length>1&&(i[e[1]]=t.rightYAxis?t.rightYAxis.limit:n),i},_getAxisScaleMakerMap:function(){return this.axisScaleMakerMap||(this.axisScaleMakerMap=this._makeAxisScaleMakerMap()),this.axisScaleMakerMap},_makeAxisData:function(t,e,i,n){var a,o=r.isLineTypeChart(this.chartType);return a=t?s.makeValueAxisData({axisScaleMaker:t,options:e,isVertical:!!i,isPositionRight:!!n,aligned:!!o}):s.makeLabelAxisData({labels:this.dataProcessor.getCategories(),options:e,isVertical:!!i,isPositionRight:!!n,aligned:!!o})},_makeAxesData:function(){var t=this._getAxisScaleMakerMap(),e=this.options,i=tui.util.isArray(e.yAxis)?e.yAxis:[e.yAxis],n={xAxis:this._makeAxisData(t.xAxis,e.xAxis),yAxis:this._makeAxisData(t.yAxis,i[0],!0)};return this.hasRightYAxis&&(n.rightYAxis=this._makeAxisData(null,i[1],!0,!0)),n},_makeSeriesDataForRendering:function(t,e){var i=this._getLimitMap(t,e),n=t.xAxis.aligned,s={};return tui.util.forEachArray(e,function(t){s[t+"Series"]={limit:i[t],aligned:n,hasAxes:!0}}),s},_addDataRatios:function(){var t=this,e=this.boundsMaker.getAxesData(),i=this.chartTypes||[this.chartType],n=this._getLimitMap(e,i),s=tui.util.pick(this.options.series,"stackType");tui.util.forEachArray(i,function(e){t.dataProcessor.addDataRatios(n[e],s,e)})},_makeRenderingData:function(){var t=this.boundsMaker.getAxesData(),e=this.chartTypes||[this.chartType],i=this._makeSeriesDataForRendering(t,e,this.isVertical),n=t.yAxis?t.yAxis:t.rightYAxis;return tui.util.extend({plot:{vTickCount:n.validTickCount,hTickCount:t.xAxis.validTickCount},customEvent:{tickCount:this.isVertical?t.xAxis.tickCount:n.tickCount}},i,t)},_addCustomEventComponentForGroupTooltip:function(){this.componentManager.register("customEvent",u,{chartType:this.chartType,isVertical:this.isVertical})},_addCustomEventComponentForNormalTooltip:function(){this.componentManager.register("customEvent",c,{chartType:this.chartType,isVertical:this.isVertical})},_addCustomEventComponent:function(){this.hasGroupTooltip?this._addCustomEventComponentForGroupTooltip():this._addCustomEventComponentForNormalTooltip()},_attachCustomEventForGroupTooltip:function(t,e,i){t.on("showGroupTooltip",e.onShow,e),t.on("hideGroupTooltip",e.onHide,e),tui.util.forEach(i,function(t){t.onShowGroupTooltipLine&&(e.on("showGroupTooltipLine",t.onShowGroupTooltipLine,t),e.on("hideGroupTooltipLine",t.onHideGroupTooltipLine,t)),e.on("showGroupAnimation",t.onShowGroupAnimation,t),e.on("hideGroupAnimation",t.onHideGroupAnimation,t)})},_attachCustomEventForNormalTooltip:function(t,e,i){t.on("showTooltip",e.onShow,e),t.on("hideTooltip",e.onHide,e),tui.util.forEach(i,function(t){var i,n;t.onShowAnimation&&(i=a.makeCustomEventName("show",t.chartType,"animation"),n=a.makeCustomEventName("hide",t.chartType,"animation"),e.on(i,t.onShowAnimation,t),e.on(n,t.onHideAnimation,t))})},_attachCustomEventForSeriesSelection:function(t,e){tui.util.forEach(e,function(e){var i=a.makeCustomEventName("select",e.chartType,"series"),n=a.makeCustomEventName("unselect",e.chartType,"series");t.on(i,e.onSelectSeries,e),t.on(n,e.onUnselectSeries,e)})},_attachCustomEvent:function(){var t=this.componentManager.where({componentType:"series"}),e=this.componentManager.get("customEvent"),i=this.componentManager.get("tooltip");n.prototype._attachCustomEvent.call(this,t),this.hasGroupTooltip?this._attachCustomEventForGroupTooltip(e,i,t):this._attachCustomEventForNormalTooltip(e,i,t),this._attachCustomEventForSeriesSelection(e,t)},_rerender:function(){this.axisScaleMakerMap=null,n.prototype._rerender.apply(this,arguments)},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=m},{"../axes/axis":1,"../customEvents/boundsTypeCustomEvent":28,"../customEvents/groupTypeCustomEvent":30,"../helpers/axisDataMaker":44,"../helpers/predicate":51,"../helpers/renderUtil":53,"../legends/legend":57,"../plots/plot":62,"../tooltips/groupTooltip":93,"../tooltips/tooltip":97,"./chartBase":9}],6:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../const"),a=t("./axisTypeMixer"),r=t("./barTypeMixer"),o=t("../helpers/predicate"),h=t("../series/barChartSeries"),l=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-bar-chart",this.hasRightYAxis=!1,i.yAxis=i.yAxis||{},i.xAxis=i.xAxis||{},i.plot=i.plot||{},i.series=i.series||{},o.isValidStackOption(i.series.stackType)&&(t.series=this._sortRawSeriesData(t.series)),i.series.diverging&&(t.series=this._makeRawSeriesDataForDiverging(t.series,i.series.stackType),this._updateDivergingOption(i)),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0}),this._addComponents(i.chartType)},_updateDivergingOption:function(t){var e;t.series.stackType=t.series.stackType||s.NORMAL_STACK_TYPE,this.hasRightYAxis=tui.util.isArray(t.yAxis)&&t.yAxis.length>1,e=o.isYAxisAlignCenter(this.hasRightYAxis,t.yAxis.align),t.yAxis.isCenter=e,t.xAxis.divided=e,t.series.divided=e,t.plot.divided=e},_makeAxisScaleMakerMap:function(){return{xAxis:this._createAxisScaleMaker(this.options.xAxis,"xAxis")}},_addComponents:function(t){var e=[{name:"yAxis",isLabel:!0},{name:"xAxis"}];this.hasRightYAxis&&e.push({name:"rightYAxis",isLabe:!0}),this._addComponentsForAxisType({axes:e,chartType:t,serieses:[{name:"barSeries",SeriesClass:h}]})},onChangeCheckedLegends:function(t){var e;this.hasRightYAxis&&(e={optionChartTypes:["bar","bar"]}),n.prototype.onChangeCheckedLegends.call(this,t,null,e)}});a.mixin(l),r.mixin(l),e.exports=l},{"../const":24,"../helpers/predicate":51,"../series/barChartSeries":79,"./axisTypeMixer":5,"./barTypeMixer":7,"./chartBase":9}],7:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/rawDataHandler"),a=t("../helpers/predicate"),r={_makeMinusValues:function(t){return tui.util.map(t,function(t){return 0>t?0:-t})},_makePlusValues:function(t){return tui.util.map(t,function(t){return 0>t?0:t})},_makeNormalDivergingRawSeriesData:function(t){return t.length=Math.min(t.length,2),t[0].data=this._makeMinusValues(t[0].data),t[1]&&(t[1].data=this._makePlusValues(t[1].data)),t},_makeRawSeriesDataForStackedDiverging:function(t){var e=this,i=s.pickStacks(t),a=[],r=i[0],o=i[1];return t=s.sortSeriesData(t,i),tui.util.forEachArray(t,function(t){var i=t.stack||n.DEFAULT_STACK;i===r?(t.data=e._makeMinusValues(t.data),a.push(t)):i===o&&(t.data=e._makePlusValues(t.data),a.push(t))}),a},_makeRawSeriesDataForDiverging:function(t,e){return t=a.isValidStackOption(e)?this._makeRawSeriesDataForStackedDiverging(t):this._makeNormalDivergingRawSeriesData(t)},_sortRawSeriesData:function(t){var e=s.pickStacks(t);return s.sortSeriesData(t,e)},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=r},{"../const":24,"../helpers/predicate":51,"../helpers/rawDataHandler":52}],8:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../const"),a=t("../series/bubbleChartSeries"),r=t("../legends/circleLegend"),o=t("./axisTypeMixer"),h=t("../helpers/predicate"),l=t("../customEvents/simpleCustomEvent"),u=tui.util.defineClass(n,{className:"tui-bubble-chart",init:function(t,e,i){i.tooltip=i.tooltip||{},this.axisScaleMakerMap=null,i.tooltip.align||(i.tooltip.align=s.TOOLTIP_DEFAULT_ALIGN_OPTION),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0}),this._addComponents(i.chartType)},_setDefaultOptions:function(t){n.prototype._setDefaultOptions.call(this,t),this.options.circleLegend=this.options.circleLegend||{},tui.util.isUndefined(this.options.circleLegend.visible)&&(this.options.circleLegend.visible=!0)},_makeAxisScaleMakerMap:function(){var t=this.dataProcessor.hasCategories(),e=this.dataProcessor.getSeriesDataModel(this.chartType),i=e.isXCountGreaterThanYCount(),n=this.options,s={};return t?i?s.xAxis=this._createAxisScaleMaker(n.xAxis,"xAxis","x"):s.yAxis=this._createAxisScaleMaker(n.yAxis,"yAxis","y",null,{isVertical:!0}):(s.xAxis=this._createAxisScaleMaker(n.xAxis,"xAxis","x"),s.yAxis=this._createAxisScaleMaker(n.yAxis,"yAxis","y",null,{isVertical:!0})),s},_addComponents:function(t){this._addComponentsForAxisType({axes:[{name:"yAxis"},{name:"xAxis"}],chartType:t,serieses:[{name:"bubbleSeries",SeriesClass:a}]}),this.options.circleLegend.visible&&this.componentManager.register("circleLegend",r,{chartType:t,baseFontFamily:this.theme.chart.fontFamily})},_updateLegendAndSeriesWidth:function(t,e){var i=this.boundsMaker.getDimension("circleLegend").width;h.hasVerticalLegendWidth(this.options.legend)&&this.boundsMaker.registerBaseDimension("legend",{width:i}),this.boundsMaker.registerBaseDimension("series",{width:t-(i-e)})},_updateLegendWidthByCircleLegendWidth:function(){var t,e,i=this.boundsMaker,n=i.getAxesData(),s=i.getDimension("circleLegend").width,a=i.getDimension("calculationLegend").width;a>=s||(t=n.xAxis.isLabel,e=i.getDimension("series").width,this._updateLegendAndSeriesWidth(e,a),t||(this.axisScaleMakerMap=null,this._registerAxesData()))},_updateDimensions:function(){this.options.circleLegend.visible&&(this.componentManager.get("circleLegend").registerCircleLegendDimension(),this._updateLegendWidthByCircleLegendWidth())}});o.mixin(u),u.prototype._addDataRatios=function(){var t=this._getAxisScaleMakerMap(),e={};t.xAxis&&(e.x=t.xAxis.getLimit()),t.yAxis&&(e.y=t.yAxis.getLimit()),this.dataProcessor.addDataRatiosForCoordinateType(this.chartType,e,!0)},u.prototype._attachCustomEvent=function(){var t=this.componentManager,e=t.get("customEvent"),i=t.get("bubbleSeries"),n=t.get("tooltip");o._attachCustomEvent.call(this),e.on({clickBubbleSeries:i.onClickSeries,moveBubbleSeries:i.onMoveSeries},i),i.on({showTooltip:n.onShow,hideTooltip:n.onHide,showTooltipContainer:n.onShowTooltipContainer,hideTooltipContainer:n.onHideTooltipContainer},n)},u.prototype._addCustomEventComponent=function(){this.componentManager.register("customEvent",l,{chartType:this.chartType})},e.exports=u},{"../const":24,"../customEvents/simpleCustomEvent":32,"../helpers/predicate":51,"../legends/circleLegend":56,"../series/bubbleChartSeries":81,"./axisTypeMixer":5,"./chartBase":9}],9:[function(t,e,i){"use strict";var n=t("./componentManager"),s=t("../dataModels/dataProcessor"),a=t("../helpers/boundsMaker"),r=t("../helpers/axisScaleMaker"),o=t("../helpers/domHandler"),h=t("../helpers/renderUtil"),l=t("../helpers/userEventListener"),u=tui.util.defineClass({init:function(t){this.rawData=t.rawData,this.theme=t.theme,this.options=null,this._setDefaultOptions(t.options),this.chartType=this.options.chartType,this.hasAxes=t.hasAxes,this.isVertical=!!t.isVertical,this.hasGroupTooltip=!!tui.util.pick(this.options,"tooltip","grouped"),this.dataProcessor=this._createDataProcessor(t),this.boundsMaker=new a({options:this.options,theme:this.theme,dataProcessor:this.dataProcessor,hasAxes:this.hasAxes,isVertical:this.isVertical,chartType:this.chartType,chartTypes:t.seriesNames}),this.componentManager=new n({dataProcessor:this.dataProcessor,options:this.options,theme:this.theme,boundsMaker:this.boundsMaker,hasAxes:this.hasAxes}),this.userEvent=new l,this._addCustomEventComponent()},_setDefaultOptions:function(t){t.legend=t.legend||{},tui.util.isUndefined(t.legend.visible)&&(t.legend.visible=!0),this.options=t},_createDataProcessor:function(t){var e,i;return e=t.DataProcessor||s,i=new e(t.rawData,this.chartType,t.options,t.seriesNames)},_pickLimitFromOptions:function(t){return t=t||{},{min:t.min,max:t.max}},_createAxisScaleMaker:function(t,e,i,n,s){var a=this._pickLimitFromOptions(t),o=this.options.series||{};return n=n||this.chartType,o=o[n]||o,new r(tui.util.extend({dataProcessor:this.dataProcessor,boundsMaker:this.boundsMaker,options:{stackType:o.stackType,diverging:o.diverging,limit:a},isVertical:this.isVertical,areaType:e,valueType:i,chartType:n},s))},_makeTooltipData:function(){return{isVertical:this.isVertical,userEvent:this.userEvent,chartType:this.chartType}},_addCustomEventComponent:function(){},_makeRenderingData:function(){return{}},_attachCustomEvent:function(t){var e=this.componentManager.get("legend");t=t||this.componentManager.where({componentType:"series"}),e&&(e.on("changeCheckedLegends",this.onChangeCheckedLegends,this),tui.util.forEach(t,function(t){var i=h.makeCustomEventName("select",t.chartType,"legend");e.on(i,t.onSelectLegend,t)}))},_makeAxesData:function(){},_updateDimensions:function(){},_addDataRatios:function(){},_executeComponentFunc:function(t){this.componentManager.each(function(e){e[t]&&e[t]()})},_registerAxesData:function(){var t=this._makeAxesData();this.boundsMaker.registerAxesData(t)},_render:function(t){var e;this._executeComponentFunc("registerDimension"),this._registerAxesData(),this._executeComponentFunc("registerAdditionalDimension"),this.boundsMaker.registerSeriesDimension(),this._updateDimensions(),this.boundsMaker.registerBoundsData(),this._addDataRatios(),e=this._makeRenderingData(),t(e),this._sendSeriesData()},render:function(){var t=o.create("DIV",this.className),e=this;return o.addClass(t,"tui-chart"),this._renderTitle(t),h.renderDimension(t,this.boundsMaker.getDimension("chart")),h.renderBackground(t,this.theme.chart.background),h.renderFontFamily(t,this.theme.chart.fontFamily),this._render(function(i){e._renderComponents(i,"render",t)}),this._attachCustomEvent(),this.chartContainer=t,t},_filterRawData:function(t,e){var i=JSON.parse(JSON.stringify(t));return tui.util.isArray(i.series)?i.series=tui.util.filter(i.series,function(t,i){return e[i]}):tui.util.forEach(i.series,function(t,n){e[n]?e[n].length&&(i.series[n]=tui.util.filter(t,function(t,i){return e[n][i]})):i.series[n]=[]}),i},_makeRerenderingData:function(t,e){var i=this._makeTooltipData(),n=this.componentManager.where({componentType:"series"});return t.tooltip=tui.util.extend({checkedLegends:e},i,t.tooltip),tui.util.forEach(n,function(i){t[i.componentName]=tui.util.extend({checkedLegends:e[i.chartType]||e},t[i.componentName])}),t},_rerender:function(t,e){var i=this;e=e||this._filterRawData(this.dataProcessor.getOriginalRawData(),t),this.dataProcessor.initData(e),this.boundsMaker.initBoundsData(),this._render(function(e){e=i._makeRerenderingData(e,t),i._renderComponents(e,"rerender")})},onChangeCheckedLegends:function(t,e,i){this._rerender(t,e,i)},_renderTitle:function(t){var e=this.options.chart||{},i=h.renderTitle(e.title,this.theme.title,"tui-chart-title");o.append(t,i)},_renderComponents:function(t,e,i){var n,s=this.componentManager.map(function(i){var s,a,r=null;return i[e]&&(s=t[i.componentName]||{},s.paper=n,a=i[e](s),a&&a.container?(r=a.container,n=a.paper):r=a),r});i&&o.append(i,s)},_sendSeriesData:function(t){var e,i,n=this,s=this.componentManager.get("customEvent");s&&(i=this.chartTypes||[t||this.chartType],e=tui.util.map(i,function(t){var e=n.dataProcessor.findChartType(t),i=(t||e)+"Series",s=n.componentManager.get(i)||n.componentManager.get("series");return{chartType:e,data:s.getSeriesData()}}),s.initCustomEventData(e))},_makeAnimationEventName:function(t,e){return e+t.substring(0,1).toUpperCase()+t.substring(1)+"Animation"},animateChart:function(){this.componentManager.each(function(t){t.animateComponent&&t.animateComponent()})},on:function(t,e){this.userEvent.register(t,e)},_updateChartDimension:function(t){var e=!1;return t.width&&(this.options.chart.width=t.width,e=!0),t.height&&(this.options.chart.height=t.height,e=!0),e},resize:function(t){var e,i=this;t&&(e=this._updateChartDimension(t),e&&(this.boundsMaker.initBoundsData(this.options.chart),h.renderDimension(this.chartContainer,t),this._render(function(t){i._renderComponents(t,"resize")})))},setTooltipAlign:function(t){this.componentManager.get("tooltip").setAlign(t)},setTooltipPosition:function(t){this.componentManager.get("tooltip").setPosition(t)},resetTooltipAlign:function(){this.componentManager.get("tooltip").resetAlign()},resetTooltipPosition:function(){this.componentManager.get("tooltip").resetPosition()},showSeriesLabel:function(){var t=this.componentManager.where({componentType:"series"});tui.util.forEachArray(t,function(t){t.showLabel()})},hideSeriesLabel:function(){var t=this.componentManager.where({componentType:"series"});tui.util.forEachArray(t,function(t){t.hideLabel()})}});e.exports=u},{"../dataModels/dataProcessor":34,"../helpers/axisScaleMaker":45,"../helpers/boundsMaker":46,"../helpers/domHandler":49,"../helpers/renderUtil":53,"../helpers/userEventListener":55,"./componentManager":13}],10:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../const"),a=t("./axisTypeMixer"),r=t("./barTypeMixer"),o=t("../helpers/predicate"),h=t("../series/columnChartSeries"),l=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-column-chart",i.series=i.series||{},i.yAxis=i.yAxis||{},o.isValidStackOption(i.series.stackType)&&(t.series=this._sortRawSeriesData(t.series)),i.series.diverging&&(t.series=this._makeRawSeriesDataForDiverging(t.series,i.series.stackType),i.series.stackType=i.series.stackType||s.NORMAL_STACK_TYPE),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0}),this._addComponents(i.chartType)},_makeAxisScaleMakerMap:function(){return{yAxis:this._createAxisScaleMaker(this.options.yAxis,"yAxis")}},_addComponents:function(t){this._addComponentsForAxisType({axes:[{name:"yAxis"},{name:"xAxis",isLabel:!0}],chartType:t,serieses:[{name:"columnSeries",SeriesClass:h,data:{allowNegativeTooltip:!0}}]})}});a.mixin(l),r.mixin(l),e.exports=l},{"../const":24,"../helpers/predicate":51,"../series/columnChartSeries":82,"./axisTypeMixer":5,"./barTypeMixer":7,"./chartBase":9}],11:[function(t,e,i){"use strict";var n=t("../helpers/calculator"),s=t("../helpers/renderUtil"),a=t("./chartBase"),r=t("./axisTypeMixer"),o=t("./comboTypeMixer"),h=t("../series/columnChartSeries"),l=t("../series/lineChartSeries"),u=tui.util.defineClass(a,{init:function(t,e,i){var n;this.className="tui-combo-chart",n=this._makeChartTypesMap(t.series,i.yAxis),tui.util.extend(this,n),a.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0,seriesNames:n.seriesNames}),this.yAxisOptionsMap=this._makeYAxisOptionsMap(n.chartTypes,i.yAxis),this._addComponents(n)},_makeYAxisOptionsMap:function(t,e){var i={};return e=e||{},tui.util.forEachArray(t,function(t,n){i[t]=e[n]||e}),i},_makeChartTypesMap:function(t,e){var i,n=tui.util.keys(t).sort(),s=this._getYAxisOptionChartTypes(n,e),a=s.length?s:n,r=tui.util.filter(s,function(e){return t[e].length});return i=1===r.length?{chartTypes:r,seriesNames:r,optionChartTypes:s.length?r:s}:{chartTypes:a,seriesNames:n,optionChartTypes:s
}},_makeDataForAddingSeriesComponent:function(t){var e={column:h,line:l},i=this._makeOptionsMap(t),n=this._makeThemeMap(t),s=this.dataProcessor,a=tui.util.map(t,function(t){var a=s.findChartType(t),r={allowNegativeTooltip:!0,chartType:a,seriesName:t,options:i[t],theme:n[t]};return{name:t+"Series",SeriesClass:e[a],data:r}});return a},_addComponents:function(t){var e=[{name:"yAxis",chartType:t.chartTypes[0]},{name:"xAxis",isLabel:!0}],i=this._makeDataForAddingSeriesComponent(t.seriesNames);t.optionChartTypes.length&&e.push({name:"rightYAxis",chartType:t.chartTypes[1]}),this._addComponentsForAxisType({axes:e,seriesNames:t.seriesNames,chartType:this.options.chartType,serieses:i})},_getYAxisOptionChartTypes:function(t,e){var i,n=t.slice(),s=!1;return e=e?[].concat(e):[],1!==e.length||e[0].chartType?e.length&&(i=tui.util.map(e,function(t){return t.chartType}),tui.util.forEachArray(i,function(t,e){s=s||t&&n[e]!==t||!1}),s&&n.reverse()):n=[],n},_createYAxisScaleMaker:function(t,e){var i=this.chartTypes[t],n=this.yAxisOptionsMap[i],s={isSingleYAxis:!!e};return this._createAxisScaleMaker(n,"yAxis",null,i,s)},_makeAxisScaleMakerMap:function(){var t=this.optionChartTypes.length<2,e={yAxis:this._createYAxisScaleMaker(0,t)};return t||(e.rightYAxis=this._createYAxisScaleMaker(1)),e},_increaseYAxisTickCount:function(t,e){var i,a=this.dataProcessor.getFormatFunctions();e.limit.max+=e.step*t,i=n.makeLabelsFromLimit(e.limit,e.step),e.labels=s.formatValues(i,a,"yAxis"),e.tickCount+=t,e.validTickCount+=t},_updateYAxisTickCount:function(t){var e=t.yAxis,i=t.rightYAxis,n=i.tickCount-e.tickCount;n>0?this._increaseYAxisTickCount(n,e):0>n&&this._increaseYAxisTickCount(-n,i)},onChangeCheckedLegends:function(t){var e=this._filterRawData(this.rawData,t),i=this._makeChartTypesMap(e.series,this.options.yAxis);tui.util.extend(this,i),a.prototype.onChangeCheckedLegends.call(this,t,e,i)}});r.mixin(u),o.mixin(u),u.prototype._makeAxesData=function(){var t=this._getAxisScaleMakerMap(),e=this.yAxisOptionsMap,i=e[this.chartTypes[0]],n={xAxis:this._makeAxisData(null,this.options.xAxis),yAxis:this._makeAxisData(t.yAxis,i,!0)};return t.rightYAxis&&(i=e[this.chartTypes[1]],n.rightYAxis=this._makeAxisData(t.rightYAxis,i,!0,!0),n.rightYAxis.aligned=n.xAxis.aligned,this._updateYAxisTickCount(n)),n},e.exports=u},{"../helpers/calculator":47,"../helpers/renderUtil":53,"../series/columnChartSeries":82,"../series/lineChartSeries":84,"./axisTypeMixer":5,"./chartBase":9,"./comboTypeMixer":12}],12:[function(t,e,i){"use strict";var n=t("../themes/defaultTheme"),s={_makeOptionsMap:function(t){var e=this.options.series||{},i={};return tui.util.forEachArray(t,function(t){i[t]=e[t]||e}),i},_makeThemeMap:function(t){var e=this.dataProcessor,i=this.theme,s={},a=0;return tui.util.forEachArray(t,function(t){var r,o=JSON.parse(JSON.stringify(i));o.series[t]?s[t]=o.series[t]:o.series.colors?(r=o.series.colors.splice(0,a),o.series.colors=o.series.colors.concat(r),s[t]=o.series,a+=e.getLegendLabels(t).length):(s[t]=JSON.parse(JSON.stringify(n.series)),s[t].label.fontFamily=o.chart.fontFamily)}),s},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=s},{"../themes/defaultTheme":92}],13:[function(t,e,i){"use strict";var n=tui.util.defineClass({init:function(t){this.components=[],this.componentMap={},this.theme=t.theme||{},this.options=t.options||{},this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.hasAxes=t.hasAxes},_makeComponentOptions:function(t,e,i){return t=t||this.options[e],t=tui.util.isArray(t)?t[i]:t||{}},register:function(t,e,i){var n,s,a;i=i||{},a=i.componentType||t,n=i.index||0,i.theme=i.theme||this.theme[a],i.options=this._makeComponentOptions(i.options,a,n),i.dataProcessor=this.dataProcessor,i.boundsMaker=this.boundsMaker,i.hasAxes=this.hasAxes,s=new e(i),s.componentName=t,s.componentType=a,this.components.push(s),this.componentMap[t]=s},each:function(t){tui.util.forEachArray(this.components,t)},map:function(t){return tui.util.map(this.components,t)},where:function(t){return tui.util.filter(this.components,function(e){var i=!0;return tui.util.forEach(t,function(t,n){return e[n]!==t&&(i=!1),i}),i})},get:function(t){return this.componentMap[t]}});e.exports=n},{}],14:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("./lineTypeMixer"),a=t("./axisTypeMixer"),r=t("../series/lineChartSeries"),o=tui.util.defineClass(n,{className:"tui-line-chart",Series:r,init:function(){this._lineTypeInit.apply(this,arguments)}});a.mixin(o),s.mixin(o),e.exports=o},{"../series/lineChartSeries":84,"./axisTypeMixer":5,"./chartBase":9,"./lineTypeMixer":15}],15:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../customEvents/areaTypeCustomEvent"),a={_lineTypeInit:function(t,e,i){n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0}),this._addComponents(i.chartType)},_makeAxisScaleMakerMap:function(){return{yAxis:this._createAxisScaleMaker(this.options.yAxis,"yAxis")}},_addCustomEventComponentForNormalTooltip:function(){this.componentManager.register("customEvent",s,{chartType:this.chartType,isVertical:this.isVertical})},_addComponents:function(t){this._addComponentsForAxisType({axes:[{name:"yAxis"},{name:"xAxis",isLabel:!0}],chartType:t,serieses:[{name:this.options.chartType+"Series",SeriesClass:this.Series}]})},render:function(){return n.prototype.render.apply(this,arguments)},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=a},{"../customEvents/areaTypeCustomEvent":25,"./chartBase":9}],16:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../const"),a=t("./mapChartMapModel"),r=t("./mapChartColorModel"),o=t("../dataModels/mapChartDataProcessor"),h=t("../helpers/axisDataMaker"),l=t("../series/mapChartSeries"),u=t("../series/zoom"),c=t("../legends/mapChartLegend"),d=t("../tooltips/mapChartTooltip"),p=t("../customEvents/mapChartCustomEvent"),m=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-map-chart",i.tooltip=i.tooltip||{},i.legend=i.legend||{},n.call(this,{rawData:t,theme:e,options:i,DataProcessor:o}),this._addComponents(i)},_addComponents:function(t){t.legend=t.legend||{},this.componentManager.register("legend",c),this.componentManager.register("tooltip",d,this._makeTooltipData()),this.componentManager.register("mapSeries",l,{libType:t.libType,chartType:t.chartType,componentType:"series",userEvent:this.userEvent}),this.componentManager.register("zoom",u)},_addCustomEventComponent:function(){this.componentManager.register("customEvent",p,{chartType:this.chartType})},_makeAxesData:function(){var t=this._createAxisScaleMaker({},"legend",null,this.chartType,{valueCount:s.MAP_CHART_LEGEND_TICK_COUNT});return h.makeValueAxisData({axisScaleMaker:t,isVertical:!0})},_addDataRatios:function(){var t=this.boundsMaker.getAxesData();this.dataProcessor.addDataRatios(t.limit)},_makeRenderingData:function(){var t=this.boundsMaker.getAxesData(),e=this.theme.series,i=new r(e.startColor,e.endColor),n=new a(this.dataProcessor,this.options.map);return{legend:{colorModel:i,axesData:t},mapSeries:{mapModel:n,colorModel:i},tooltip:{mapModel:n}}},_attachCustomEvent:function(){var t=this.componentManager.get("customEvent"),e=this.componentManager.get("mapSeries"),i=this.componentManager.get("legend"),n=this.componentManager.get("tooltip"),s=this.componentManager.get("zoom");t.on({clickMapSeries:e.onClickSeries,moveMapSeries:e.onMoveSeries,dragStartMapSeries:e.onDragStartSeries,dragMapSeries:e.onDragSeries,dragEndMapSeries:e.onDragEndSeries,wheel:tui.util.bind(s.onWheel,s)},e),e.on({showWedge:i.onShowWedge,hideWedge:i.onHideWedge},i),e.on({showTooltip:n.onShow,hideTooltip:n.onHide,showTooltipContainer:n.onShowTooltipContainer,hideTooltipContainer:n.onHideTooltipContainer},n),s.on("zoom",e.onZoom,e,e)}});e.exports=m},{"../const":24,"../customEvents/mapChartCustomEvent":31,"../dataModels/mapChartDataProcessor":35,"../helpers/axisDataMaker":44,"../legends/mapChartLegend":61,"../series/mapChartSeries":86,"../series/zoom":91,"../tooltips/mapChartTooltip":95,"./chartBase":9,"./mapChartColorModel":17,"./mapChartMapModel":18}],17:[function(t,e,i){"use strict";var n=t("../helpers/colorutil"),s=tui.util.defineClass({init:function(t,e){var i;this.start=n.colorNameToHex(t),this.startRGB=n.hexToRGB(this.start),this.end=n.colorNameToHex(e),i=n.hexToRGB(this.end),this.distances=this._makeDistances(this.startRGB,i),this.colorMap={}},_makeDistances:function(t,e){return tui.util.map(t,function(t,i){return e[i]-t})},getColor:function(t){var e,i,s=this.colorMap[t];return s||(e=this.distances,i=tui.util.map(this.startRGB,function(i,n){return i+parseInt(e[n]*t,10)}),s=n.rgbToHEX.apply(null,i)),s}});e.exports=s},{"../helpers/colorutil":48}],18:[function(t,e,i){"use strict";var n=t("../const"),s=tui.util.defineClass({init:function(t,e){this.commandFuncMap={M:tui.util.bind(this._makeCoordinate,this),m:tui.util.bind(this._makeCoordinateFromRelativeCoordinate,this),L:tui.util.bind(this._makeCoordinate,this),l:tui.util.bind(this._makeCoordinateFromRelativeCoordinate,this),H:tui.util.bind(this._makeXCoordinate,this),h:tui.util.bind(this._makeXCoordinateFroRelativeCoordinate,this),V:tui.util.bind(this._makeYCoordinate,this),v:tui.util.bind(this._makeYCoordinateFromRelativeCoordinate,this)},this.ignoreCommandMap={Z:!0,z:!0},this.mapData=[],this.mapDimension=null,this.dataProcessor=t,this._createMapData(e)},_splitCoordinate:function(t){var e=t.split(","),i={x:parseFloat(e[0])};return e[1]&&(i.y=parseFloat(e[1])),i},_makeCoordinate:function(t){return this._splitCoordinate(t)},_makeCoordinateFromRelativeCoordinate:function(t,e){var i=this._splitCoordinate(t);return{x:i.x+e.x,y:i.y+e.y}},_makeXCoordinate:function(t){var e=this._splitCoordinate(t);return{x:e.x}},_makeXCoordinateFroRelativeCoordinate:function(t,e){var i=this._splitCoordinate(t);return{x:i.x+e.x}},_makeYCoordinate:function(t){var e=this._splitCoordinate(t);return{y:e.x}},_makeYCoordinateFromRelativeCoordinate:function(t,e){var i=this._splitCoordinate(t);return{y:i.x+e.y}},_splitPath:function(t){for(var e,i,n=0,s=t.length,a=[],r="";s>n;n+=1)e=t.charAt(n),this.commandFuncMap[e]?(i&&r&&a.push({type:i,coordinate:r}),i=e,r=""):this.ignoreCommandMap[e]||(r+=e);return i&&r&&a.push({type:i,coordinate:r}),a},_makeCoordinatesFromPath:function(t){var e=this,i=this._splitPath(t),n={x:0,y:0};return tui.util.map(i,function(t){var i=e.commandFuncMap[t.type],s=i(t.coordinate,n);return tui.util.extend(n,s),s})},_findBoundFromCoordinates:function(t){var e=tui.util.filter(tui.util.pluck(t,"x"),function(t){return!tui.util.isUndefined(t)}),i=tui.util.filter(tui.util.pluck(t,"y"),function(t){return!tui.util.isUndefined(t)}),n=tui.util.max(e),s=tui.util.min(e),a=tui.util.max(i),r=tui.util.min(i);return{dimension:{width:n-s,height:a-r},position:{left:s,top:r}}},_makeLabelPosition:function(t,e){return e=e||n.MAP_CHART_LABEL_DEFAULT_POSITION_RATIO,{left:t.position.left+t.dimension.width*e.x,top:t.position.top+t.dimension.height*e.y}},_createMapData:function(t){var e=this;this.mapData=tui.util.map(t,function(t){var i,n,s,a,r,o=e._makeCoordinatesFromPath(t.path),h=e._findBoundFromCoordinates(o),l=e.dataProcessor.getValueMapDatum(t.code);return l&&(s=l.label,a=l.ratio,i=l.name||t.name,n=l.labelCoordinate||t.labelCoordinate),r={code:t.code,name:i,path:t.path,bound:h,labelPosition:e._makeLabelPosition(h,n)},s&&(r.label=s),a&&(r.ratio=a),r})},getMapData:function(){return this.mapData},getDatum:function(t){return this.mapData[t]},getLabelData:function(t){var e=this,i=tui.util.filter(this.mapData,function(t){return e.dataProcessor.getValueMapDatum(t.code)});return tui.util.map(i,function(e){return{name:e.name,labelPosition:{left:e.labelPosition.left*t,top:e.labelPosition.top*t}}})},_makeMapDimension:function(){var t=this.mapData,e=tui.util.map(t,function(t){return t.bound.position.left}),i=tui.util.map(t,function(t){return t.bound.position.left+t.bound.dimension.width}),n=tui.util.map(t,function(t){return t.bound.position.top}),s=tui.util.map(t,function(t){return t.bound.position.top+t.bound.dimension.height});return{width:tui.util.max(i)-tui.util.min(e),height:tui.util.max(s)-tui.util.min(n)}},getMapDimension:function(){return this.mapDimension||(this.mapDimension=this._makeMapDimension()),this.mapDimension}});e.exports=s},{"../const":24}],19:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("./pieTypeMixer"),a=t("../const"),r=tui.util.defineClass(n,{className:"tui-pie-chart",init:function(t,e,i){i.tooltip=i.tooltip||{},i.tooltip.align||(i.tooltip.align=a.TOOLTIP_DEFAULT_ALIGN_OPTION),n.call(this,{rawData:t,theme:e,options:i}),this._addComponents()},_addComponents:function(){this._addLegendComponent(),this._addTooltipComponent(),this._addSeriesComponents([{name:"pieSeries",additionalParams:{chartType:this.chartType}}])},_addDataRatios:function(){this.dataProcessor.addDataRatiosOfPieChart(this.chartType)},_sendSeriesData:function(){n.prototype._sendSeriesData.call(this,a.CHART_TYPE_PIE)},_attachCustomEvent:function(){var t=this.componentManager.get("pieSeries");this._attachCustomEventForPieTypeChart([t]),n.prototype._attachCustomEvent.call(this)}});s.mixin(r),e.exports=r},{"../const":24,"./chartBase":9,"./pieTypeMixer":21}],20:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("./pieTypeMixer"),a=t("./comboTypeMixer"),r=t("../helpers/predicate"),o=tui.util.defineClass(n,{className:"tui-combo-chart",init:function(t,e,i){this.chartTypes=this._pickSeriesNames(t.series),n.call(this,{rawData:t,theme:e,options:i,isVertical:!0,seriesNames:this.chartTypes}),this._addComponents()},_pickSeriesNames:function(t){return tui.util.keys(t).sort(function(t,e){return e-t})},_makeDataForAddingSeriesComponent:function(){var t=this.chartTypes,e=this._makeOptionsMap(this.chartTypes),i=this._makeThemeMap(t),n=this.dataProcessor,s=tui.util.any(e,r.isShowOuterLabel),a=tui.util.map(t,function(t){var a=n.findChartType(t),r={chartType:a,seriesName:t,options:e[t],isShowOuterLabel:s,isCombo:!0,theme:i[t]};return{name:t+"Series",additionalParams:r}});return a},_addComponents:function(){this._addLegendComponent(this.chartTypes),this._addTooltipComponent(),this._addSeriesComponents(this._makeDataForAddingSeriesComponent())},_addDataRatios:function(){var t=this,e=this.chartTypes||[this.chartType];tui.util.forEachArray(e,function(e){t.dataProcessor.addDataRatiosOfPieChart(e)})},_attachCustomEvent:function(){var t,e=this.componentManager;n.prototype._attachCustomEvent.call(this),t=tui.util.map(this.chartTypes,function(t){return e.get(t+"Series")}),this._attachCustomEventForPieTypeChart(t)},onChangeCheckedLegends:function(t){var e=this._filterRawData(this.rawData,t);this.chartTypes=this._pickChartTypes(e.series),n.prototype.onChangeCheckedLegends.call(this,t,e,{seriesNames:this.chartTypes})}});s.mixin(o),a.mixin(o),e.exports=o},{"../helpers/predicate":51,"./chartBase":9,"./comboTypeMixer":12,"./pieTypeMixer":21}],21:[function(t,e,i){"use strict";var n=t("../helpers/renderUtil"),s=t("../legends/legend"),a=t("../tooltips/tooltip"),r=t("../series/pieChartSeries"),o=t("../customEvents/simpleCustomEvent"),h={_addLegendComponent:function(t){var e=this.options.legend||{};e.visible&&this.componentManager.register("legend",s,{chartTypes:t,chartType:this.chartType,userEvent:this.userEvent})},_addTooltipComponent:function(){this.componentManager.register("tooltip",a,this._makeTooltipData())},_addSeriesComponents:function(t){var e=this.componentManager,i={libType:this.options.libType,componentType:"series",chartBackground:this.theme.chart.background,userEvent:this.userEvent};tui.util.forEach(t,function(t){var n=tui.util.extend(i,t.additionalParams);e.register(t.name,r,n)})},_addCustomEventComponent:function(){this.componentManager.register("customEvent",o,{chartType:this.chartType})},_attachCustomEventForPieTypeChart:function(t){var e=n.makeCustomEventName("click",this.chartType,"series"),i=n.makeCustomEventName("move",this.chartType,"series"),s=this.componentManager.get("customEvent"),a=this.componentManager.get("tooltip"),r={};tui.util.forEachArray(t,function(t){r[e]=t.onClickSeries,r[i]=t.onMoveSeries,s.on(r,t),t.on({showTooltip:a.onShow,hideTooltip:a.onHide,showTooltipContainer:a.onShowTooltipContainer,hideTooltipContainer:a.onHideTooltipContainer},a)})},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=h},{"../customEvents/simpleCustomEvent":32,"../helpers/renderUtil":53,"../legends/legend":57,"../series/pieChartSeries":87,"../tooltips/tooltip":97}],22:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../const"),a=t("../series/scatterChartSeries"),r=t("./axisTypeMixer"),o=t("../customEvents/simpleCustomEvent"),h=tui.util.defineClass(n,{className:"tui-scatter-chart",init:function(t,e,i){i.tooltip=i.tooltip||{},this.axisScaleMakerMap=null,i.tooltip.align||(i.tooltip.align=s.TOOLTIP_DEFAULT_ALIGN_OPTION),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0}),this._addComponents(i.chartType)},_makeAxisScaleMakerMap:function(){var t=this.options;return{xAxis:this._createAxisScaleMaker(t.xAxis,"xAxis","x"),yAxis:this._createAxisScaleMaker(t.yAxis,"yAxis","y")}},_addComponents:function(t){this._addComponentsForAxisType({axes:[{name:"yAxis"},{name:"xAxis"}],chartType:t,serieses:[{name:"scatterSeries",SeriesClass:a}]})}});r.mixin(h),h.prototype._addDataRatios=function(){var t=this._getAxisScaleMakerMap();this.dataProcessor.addDataRatiosForCoordinateType(this.chartType,{x:t.xAxis.getLimit(),y:t.yAxis.getLimit()},!1)},h.prototype._attachCustomEvent=function(){var t=this.componentManager,e=t.get("customEvent"),i=t.get("scatterSeries"),n=t.get("tooltip");r._attachCustomEvent.call(this),e.on({clickScatterSeries:i.onClickSeries,moveScatterSeries:i.onMoveSeries},i),i.on({showTooltip:n.onShow,hideTooltip:n.onHide,showTooltipContainer:n.onShowTooltipContainer,hideTooltipContainer:n.onHideTooltipContainer},n)},h.prototype._addCustomEventComponent=function(){this.componentManager.register("customEvent",o,{chartType:this.chartType})},e.exports=h},{"../const":24,"../customEvents/simpleCustomEvent":32,"../series/scatterChartSeries":88,"./axisTypeMixer":5,"./chartBase":9}],23:[function(t,e,i){"use strict";function n(t,e){function i(){s=x.call(arguments),window.clearTimeout(n),n=window.setTimeout(function(){t.apply(null,s)},e)}var n,s;return e=e||0,i}function s(t,e){function i(){return o=x.call(arguments),l?(u(o),void(l=!1)):(r=h(),s=s||r,a(o),void(r-s>=e&&u(o)))}function n(){l=!0,s=null}var s,a,r,o,h=tui.util.timestamp,l=!0,u=function(e){t.apply(null,e),s=null};return e=e||0,a=tui.util.debounce(u,e),i.reset=n,i}var a=function(t,e,i){var n,s,a;return e?(n=t[0],s=e.call(i,n,0),a=t.slice(1),tui.util.forEachArray(a,function(t,a){var r=e.call(i,t,a+1);s>r&&(s=r,n=t)})):n=Math.min.apply(null,t),n},r=function(t,e,i){var n,s,a;return e?(n=t[0],s=e.call(i,n,0),a=t.slice(1),tui.util.forEachArray(a,function(t,a){var r=e.call(i,t,a+1);r>s&&(s=r,n=t)})):n=Math.max.apply(null,t),n},o=function(t,e,i){var n=!1;return tui.util.forEach(t,function(s,a){return e.call(i,s,a,t)?(n=!0,!1):void 0}),n},h=function(t,e,i){var n=!0;return tui.util.forEach(t,function(s,a){return e.call(i,s,a,t)?void 0:(n=!1,!1)}),n},l=function(t,e,i,n){var s,a=[];return tui.util.isBoolean(e)||(n=i,i=e,e=!1),i=i||function(t){return t},e?tui.util.forEachArray(t,function(e,r){e=i.call(n,e,r,t),r&&s===e||a.push(e),s=e}):tui.util.forEachArray(t,function(e,s){e=i.call(n,e,s,t),-1===tui.util.inArray(e,a)&&a.push(e)}),a},u=function(t){var e,i=[],n=tui.util.max(tui.util.map(t,function(t){return t.length}));return tui.util.forEachArray(t,function(t){for(e=0;n>e;e+=1)i[e]||(i[e]=[]),i[e].push(t[e])}),i},c=function(t){var e=String(t).split(".");return 2===e.length?e[1].length:0},d=function(){var t=[].slice.call(arguments),e=tui.util.map(t,function(t){return tui.util.getDecimalLength(t)}),i=tui.util.max(e),n=Math.pow(10,i);return n},p=function(t,e){var i=tui.util.findMultipleNum(e);return t*i%(e*i)/i},m=function(t,e){var i=d(t,e);return(t*i+e*i)/i},f=function(t,e){var i=d(t,e);return(t*i-e*i)/i},g=function(t,e){var i=d(t,e);return t*i*(e*i)/(i*i)},_=function(t,e){var i=d(t,e);return t*i/(e*i)},T=function(t){var e=t.slice();return e.unshift(0),tui.util.reduce(e,function(t,e){return parseFloat(t)+parseFloat(e)})},v=function(t){return t.substring(0,1).toUpperCase()+t.substring(1)},C=function(t){var e;return tui.util.isArray(t)?(e=[],tui.util.forEachArray(t,function(t,i){e[i]=C(t)})):tui.util.isFunction(t)?e=t:tui.util.isObject(t)?(e={},tui.util.forEach(t,function(t,i){e[i]=C(t)})):e=t,e};tui.util.min=a,tui.util.max=r,tui.util.any=o,tui.util.all=h,tui.util.unique=l,tui.util.pivot=u,tui.util.getDecimalLength=c,tui.util.mod=p,tui.util.findMultipleNum=d,tui.util.addition=m,tui.util.subtraction=f,tui.util.multiplication=g,tui.util.division=_,tui.util.sum=T,tui.util.properCase=v,tui.util.deepCopy=C;var x=Array.prototype.slice;tui.util.debounce=n,tui.util.throttle=s},{}],24:[function(t,e,i){"use strict";var n={CLASS_NAME_LEGEND_LABEL:"tui-chart-legend-label",CLASS_NAME_LEGEND_CHECKBOX:"tui-chart-legend-checkbox",CLASS_NAME_SERIES_LABEL:"tui-chart-series-label",CLASS_NAME_SERIES_LEGEND:"tui-chart-series-legend",CHART_TYPE_BAR:"bar",CHART_TYPE_COLUMN:"column",CHART_TYPE_LINE:"line",CHART_TYPE_AREA:"area",CHART_TYPE_COMBO:"combo",CHART_TYPE_COLUMN_LINE_COMBO:"columnLineCombo",CHART_TYPE_PIE_DONUT_COMBO:"pieDonutCombo",CHART_TYPE_PIE:"pie",CHART_TYPE_BUBBLE:"bubble",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_MAP:"map",CHART_PADDING:10,CHART_DEFAULT_WIDTH:500,CHART_DEFAULT_HEIGHT:400,OVERLAPPING_WIDTH:1,TEXT_PADDING:2,SERIES_EXPAND_SIZE:10,SERIES_LABEL_PADDING:5,DEFAULT_TITLE_FONT_SIZE:14,DEFAULT_AXIS_TITLE_FONT_SIZE:10,DEFAULT_LABEL_FONT_SIZE:12,DEFAULT_SERIES_LABEL_FONT_SIZE:11,DEFAULT_PLUGIN:"raphael",DEFAULT_TICK_COLOR:"black",DEFAULT_THEME_NAME:"default",MAX_HEIGHT_WORLD:"A",NORMAL_STACK_TYPE:"normal",PERCENT_STACK_TYPE:"percent",DEFAULT_STACK:"___DEFAULT___STACK___",DUMMY_KEY:"___DUMMY___KEY___",EMPTY_AXIS_LABEL:"",ANGLE_85:85,ANGLE_90:90,ANGLE_360:360,RAD:Math.PI/180,LABEL_ALIGN_OUTER:"outer",LEGEND_ALIGN_TOP:"top",LEGEND_ALIGN_BOTTOM:"bottom",LEGEND_ALIGN_LEFT:"left",SERIES_OUTER_LABEL_PADDING:20,PIE_GRAPH_DEFAULT_RATIO:.8,PIE_GRAPH_SMALL_RATIO:.65,MAP_CHART_LEGEND_TICK_COUNT:4,MAP_CHART_LABEL_DEFAULT_POSITION_RATIO:{x:.5,y:.5},DOT_RADIUS:4,SCATTER_RADIUS:5,YAXIS_PROPS:["tickColor","title","label"],SERIES_PROPS:["label","colors","borderColor","singleColors","selectionColor","startColor","endColor","overColor"],TITLE_AREA_WIDTH_PADDING:20,XAXIS_LABEL_TOP_MARGIN:10,V_LABEL_RIGHT_PADDING:10,TOOLTIP_PREFIX:"tui-chart-tooltip",TOOLTIP_ZINDEX:500,TOOLTIP_ANIMATION_TIME:100,TOOLTIP_PIE_ANIMATION_TIME:50,MIN_PIXEL_TYPE_STEP_SIZE:45,MAX_PIXEL_TYPE_STEP_SIZE:65,PERCENT_STACKED_AXIS_SCALE:{limit:{min:0,max:100},step:25,labels:[0,25,50,75,100]},MINUS_PERCENT_STACKED_AXIS_SCALE:{limit:{min:-100,max:0},step:25,labels:[0,-25,-50,-75,-100]},DUAL_PERCENT_STACKED_AXIS_SCALE:{limit:{min:-100,max:100},step:25,labels:[-100,-75,-50,-25,0,25,50,75,100]},DIVERGING_PERCENT_STACKED_AXIS_SCALE:{limit:{min:-100,max:100},step:25,labels:[100,75,50,25,0,25,50,75,100]},TITLE_PADDING:10,LEGEND_AREA_PADDING:10,LEGEND_CHECKBOX_WIDTH:20,LEGEND_RECT_WIDTH:12,LEGEND_LABEL_LEFT_PADDING:5,MIN_LEGEND_WIDTH:100,MAP_LEGEND_SIZE:200,MAP_LEGEND_GRAPH_SIZE:25,MAP_LEGEND_LABEL_PADDING:5,CIRCLE_LEGEND_LABEL_FONT_SIZE:9,CIRCLE_LEGEND_PADDING:10,HALF_RATIO:.5,AXIS_LABEL_PADDING:7,DEGREE_CANDIDATES:[25,45,65,85],YAXIS_ALIGN_CENTER:"center",XAXIS_LABEL_COMPARE_MARGIN:20,XAXIS_LABEL_GUTTER:2,AXIS_STANDARD_MULTIPLE_NUMS:[1,2,5,10,20,50,100],AXIS_LAST_STANDARD_MULTIPLE_NUM:100,LABEL_PADDING_TOP:2,LINE_MARGIN_TOP:5,TOOLTIP_GAP:5,TOOLTIP_DIRECTION_FORWARD:"forword",TOOLTIP_DIRECTION_CENTER:"center",TOOLTIP_DIRECTION_BACKWARD:"backword",TOOLTIP_DEFAULT_ALIGN_OPTION:"center top",TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION:"center bottom",HIDE_DELAY:200,OLD_BROWSER_OPACITY_100:100,SERIES_LABEL_OPACITY:.3,WHEEL_TICK:120,MAX_ZOOM_MAGN:32,FF_WHEELDELTA_ADJUSTING_VALUE:-40,IE7_ROTATION_FILTER_STYLE_MAP:{25:" style=\"filter: progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.9063077870366499, M12=0.42261826174069944, M21=-0.42261826174069944, M22=0.9063077870366499)\"",45:" style=\"filter: progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=0.7071067811865475, M21=-0.7071067811865475, M22=0.7071067811865476)\"",65:" style=\"filter: progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.42261826174069944, M12=0.9063077870366499, M21=-0.9063077870366499, M22=0.42261826174069944)\"",85:" style=\"filter: progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.08715574274765814, M12=0.9961946980917455, M21=-0.9961946980917455, M22=0.08715574274765814)\""}};e.exports=n},{}],25:[function(t,e,i){"use strict";var n=t("./customEventBase"),s=t("./areaTypeDataModel"),a=t("../const"),r=tui.util.defineClass(n,{init:function(t){n.call(this,t),this.prevFoundData=null},initCustomEventData:function(t){var e=t[0];this.dataModel=new s(e),n.prototype.initCustomEventData.call(this,t)},_onMousemove:function(t){var e=t.target||t.srcElement,i=e.getBoundingClientRect(),n=t.clientX-a.SERIES_EXPAND_SIZE-i.left,s=t.clientY-i.top,r=this.tickBaseCoordinateModel.findIndex(n),o=this.dataModel.findData(r,s);this._isChangedSelectData(this.prevFoundData,o)&&(o?this.fire("showTooltip",o):this.prevFoundData&&this.fire("hideTooltip",this.prevFoundData),this.prevFoundData=o)},_onMouseout:function(){this.prevFoundData&&(this.fire("hideTooltip",this.prevFoundData),this.prevFoundData=null)}});e.exports=r},{"../const":24,"./areaTypeDataModel":26,"./customEventBase":29}],26:[function(t,e,i){"use strict";var n=tui.util.defineClass({init:function(t){this.data=this._makeData(t.data.groupPositions,t.chartType)},_makeData:function(t,e){return t=tui.util.pivot(t),tui.util.map(t,function(t,i){return tui.util.map(t,function(t,n){return{chartType:e,indexes:{groupIndex:i,index:n},bound:t}})})},findData:function(t,e){var i=null,n=1e4;return tui.util.forEach(this.data[t],function(t){var s=Math.abs(e-t.bound.top);n>s&&(n=s,i=t)}),i}});e.exports=n},{}],27:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),a=tui.util.defineClass({init:function(t){this.data=this._makeData(t)},_makeRectTypeCoordinateData:function(t,e){return tui.util.map(t,function(t,i){return tui.util.map(t,function(t,n){var s;return t?(s=t.end,{sendData:{chartType:e,indexes:{groupIndex:i,index:n},allowNegativeTooltip:!0,bound:s},bound:{left:s.left,top:s.top,right:s.left+s.width,bottom:s.top+s.height}}):null})})},_makeDotTypeCoordinateData:function(t,e){return t?tui.util.map(tui.util.pivot(t),function(t,i){return tui.util.map(t,function(t,s){return{sendData:{chartType:e,indexes:{groupIndex:i,index:s},bound:t},bound:{left:t.left-n.DOT_RADIUS,top:t.top-n.DOT_RADIUS,right:t.left+n.DOT_RADIUS,bottom:t.top+n.DOT_RADIUS}}})}):[]},_joinData:function(t){var e=[];return tui.util.forEachArray(t,function(t){tui.util.forEachArray(t,function(t,i){e[i]||(e[i]=[]),e[i]=e[i].concat(t)})}),e},_makeData:function(t){var e,i=this;return t.reverse(),e=tui.util.map(t,function(t){var e;return e=s.isLineTypeChart(t.chartType)?i._makeDotTypeCoordinateData(t.data.groupPositions,t.chartType):i._makeRectTypeCoordinateData(t.data.groupBounds,t.chartType)}),this._joinData(e)},_findCandidates:function(t,e,i){return tui.util.filter(t,function(t){var n,s,a=t&&t.bound,r=!1;return a&&(n=a.left<=e&&a.right>=e,s=a.top<=i&&a.bottom>=i,r=n&&s),r})},findData:function(t,e,i){var n,s=1e4,a=null;return t>-1&&(n=this._findCandidates(this.data[t],e,i),tui.util.forEachArray(n,function(t){var e=Math.abs(i-t.sendData.bound.top);s>e&&(s=e,a=t.sendData)})),a}});e.exports=a},{"../const":24,"../helpers/predicate":51}],28:[function(t,e,i){"use strict";var n=t("../const"),s=t("./customEventBase"),a=tui.util.defineClass(s,{init:function(){s.apply(this,arguments),this.prevFoundData=null},_onMousemove:function(t){var e=t.target||t.srcElement,i=t.clientX-n.SERIES_EXPAND_SIZE,s=this._findDataFromBoundsCoordinateModel(e,i,t.clientY);this._isChangedSelectData(this.prevFoundData,s)&&(this.prevFoundData&&this.fire("hideTooltip",this.prevFoundData),s&&this.fire("showTooltip",s),this.prevFoundData=s)},_onMouseout:function(){this.prevFoundData&&(this.fire("hideTooltip",this.prevFoundData),this.prevFoundData=null)}});e.exports=a},{"../const":24,"./customEventBase":29}],29:[function(t,e,i){"use strict";var n=t("../helpers/eventListener"),s=t("./tickBaseCoordinateModel"),a=t("./boundsBaseCoordinateModel"),r=t("../const"),o=t("../helpers/domHandler"),h=t("../helpers/renderUtil"),l=tui.util.defineClass({init:function(t){this.chartType=t.chartType,this.isVertical=t.isVertical,this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.selectedData=null},_renderCustomEventArea:function(t,e){var i,n;this.dimension=this.boundsMaker.getDimension("customEvent"),n=new s(this.dimension,e.tickCount,this.chartType,this.isVertical),this.tickBaseCoordinateModel=n,i=h.expandBound(this.boundsMaker.getBound("customEvent")),h.renderDimension(t,i.dimension),h.renderPosition(t,i.position)},render:function(t){var e=o.create("DIV","tui-chart-series-custom-event-area");return this._renderCustomEventArea(e,t),this.attachEvent(e),this.customEventContainer=e,e},initCustomEventData:function(t){this.boundsBaseCoordinateModel=new a(t)},rerender:function(t){this._renderCustomEventArea(this.customEventContainer,t)},resize:function(t){this.rerender(t)},_isChangedSelectData:function(t,e){return!t||!e||t.chartType!==e.chartType||t.indexes.groupIndex!==e.indexes.groupIndex||t.indexes.index!==e.indexes.index},_findDataFromBoundsCoordinateModel:function(t,e,i){var n=t.getBoundingClientRect(),s=e-n.left,a=i-n.top,o=this.tickBaseCoordinateModel.findIndex(this.isVertical?s:a);return this.boundsBaseCoordinateModel.findData(o,s+r.SERIES_EXPAND_SIZE,a)},_unselectSelectedData:function(){var t=h.makeCustomEventName("unselect",this.selectedData.chartType,"series");this.fire(t,this.selectedData),this.selectedData=null},_onMouseEvent:function(t,e){var i=h.makeCustomEventName(t,this.chartType,"series");o.addClass(this.customEventContainer,"hide"),this.fire(i,{left:e.clientX,top:e.clientY}),o.removeClass(this.customEventContainer,"hide")},_onClick:function(t){var e=t.target||t.srcElement,i=t.clientX-r.SERIES_EXPAND_SIZE,n=this._findDataFromBoundsCoordinateModel(e,i,t.clientY);this._isChangedSelectData(this.selectedData,n)?n&&(this.selectedData&&this._unselectSelectedData(),this.fire(h.makeCustomEventName("select",n.chartType,"series"),n),this.selectedData=n):this._unselectSelectedData()},_onMousedown:function(){},_onMouseup:function(){},_onMousemove:function(){},_onMouseout:function(){},attachEvent:function(t){n.bindEvent("click",t,this._onClick,this),n.bindEvent("mousedown",t,this._onMousedown,this),n.bindEvent("mouseup",t,this._onMouseup,this),n.bindEvent("mousemove",t,this._onMousemove,this),n.bindEvent("mouseout",t,this._onMouseout,this)}});tui.util.CustomEvents.mixin(l),e.exports=l},{"../const":24,"../helpers/domHandler":49,"../helpers/eventListener":50,"../helpers/renderUtil":53,"./boundsBaseCoordinateModel":27,"./tickBaseCoordinateModel":33}],30:[function(t,e,i){"use strict";var n=t("./customEventBase"),s=t("../const"),a=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_isOutPosition:function(t,e){var i=this.dimension;return 0>t||t>i.width||0>e||e>i.height},_onMousemove:function(t){var e,i,n=t.target||t.srcElement,a=n.getBoundingClientRect(),r=t.clientX-s.SERIES_EXPAND_SIZE-a.left,o=t.clientY-s.SERIES_EXPAND_SIZE-a.top,h=-1;this.isVertical?(e=r,i="height"):(e=o,i="width"),this._isOutPosition(r,o)||(h=this.tickBaseCoordinateModel.findIndex(e)),-1===h?this._onMouseout():this.prevIndex!==h&&(this.prevIndex=h,this.fire("showGroupTooltip",{index:h,range:this.tickBaseCoordinateModel.makeRange(h,this.chartType),
size:this.dimension[i],isVertical:this.isVertical}))},_onMouseout:function(){tui.util.isUndefined(this.prevIndex)||(this.fire("hideGroupTooltip",this.prevIndex),delete this.prevIndex)}});e.exports=a},{"../const":24,"./customEventBase":29}],31:[function(t,e,i){"use strict";var n=t("./customEventBase"),s=t("../const"),a=t("../helpers/eventListener"),r=t("../helpers/domHandler"),o=t("../helpers/renderUtil"),h=tui.util.defineClass(n,{init:function(t){this.boundsMaker=t.boundsMaker,this.chartType=t.chartType,this.isDown=!1},_renderCustomEventArea:function(t){var e=this.boundsMaker.getBound("customEvent");o.renderDimension(t,e.dimension),o.renderPosition(t,e.position)},initCustomEventData:function(){},_onClick:function(){},_onMousedown:function(t){this.isDown=!0,this.fire("dragStartMapSeries",{left:t.clientX,top:t.clientY})},_dragEnd:function(){this.isDrag=!1,r.removeClass(this.customEventContainer,"drag"),this.fire("dragEndMapSeries")},_onMouseup:function(t){this.isDown=!1,this.isDrag?this._dragEnd():this.isMove||this._onMouseEvent("click",t),this.isMove=!1},_onMousemove:function(t){this.isDown?(this.isDrag||r.addClass(this.customEventContainer,"drag"),this.isDrag=!0,this.fire("dragMapSeries",{left:t.clientX,top:t.clientY})):(this.isMove=!0,this._onMouseEvent("move",t))},_onMouseout:function(t){this.isDrag?this._dragEnd():this._onMouseEvent("move",t),this.isDown=!1},_onMousewheel:function(t){var e=t.wheelDelta||t.detail*s.FF_WHEELDELTA_ADJUSTING_VALUE;return this.fire("wheel",e,{left:t.clientX,top:t.clientY}),t.preventDefault&&t.preventDefault(),!1},attachEvent:function(t){n.prototype.attachEvent.call(this,t),tui.util.browser.firefox?a.bindEvent("DOMMouseScroll",t,this._onMousewheel,this):a.bindEvent("mousewheel",t,this._onMousewheel,this)}});tui.util.CustomEvents.mixin(h),e.exports=h},{"../const":24,"../helpers/domHandler":49,"../helpers/eventListener":50,"../helpers/renderUtil":53,"./customEventBase":29}],32:[function(t,e,i){"use strict";var n=t("./customEventBase"),s=t("../helpers/renderUtil"),a=tui.util.defineClass(n,{init:function(t){this.boundsMaker=t.boundsMaker,this.chartType=t.chartType},_renderCustomEventArea:function(t){var e=this.boundsMaker.getBound("customEvent");s.renderDimension(t,e.dimension),s.renderPosition(t,e.position)},initCustomEventData:function(){},_onClick:function(t){this._onMouseEvent("click",t)},_onMousemove:function(t){this._onMouseEvent("move",t)},_onMouseout:function(t){this._onMouseEvent("move",t)}});tui.util.CustomEvents.mixin(a),e.exports=a},{"../helpers/renderUtil":53,"./customEventBase":29}],33:[function(t,e,i){"use strict";var n=t("../helpers/predicate"),s=tui.util.defineClass({init:function(t,e,i,n){this.data=this._makeData(t,e,i,n)},_makeLineTypeData:function(t,e){var i=(t+1)/(e-1),n=i/2,s=tui.util.map(tui.util.range(0,e),function(t){return{min:t*i-n,max:t*i+n}});return s[e-1].max-=1,s},_makeNormalData:function(t,e){var i=e-1,n=t/i,s=0;return tui.util.map(tui.util.range(0,i),function(e){var i=tui.util.min([t,(e+1)*n]),a={min:s,max:i};return s=i,a})},_makeData:function(t,e,i,s){var a,r=s?"width":"height";return a=n.isLineTypeChart(i)?this._makeLineTypeData(t[r],e):this._makeNormalData(t[r],e)},findIndex:function(t){var e=-1;return tui.util.forEachArray(this.data,function(i,n){return i.min<t&&i.max>=t?(e=n,!1):!0}),e},getLength:function(){return this.data.length},makeRange:function(t,e){var i,s,a=this.data[t];return n.isLineTypeChart(e)?(s=parseInt(a.max-(a.max-a.min)/2,10),i={start:s,end:s}):i={start:a.min,end:a.max},i}});e.exports=s},{"../helpers/predicate":51}],34:[function(t,e,i){"use strict";var n=t("../const"),s=t("../dataModels/seriesDataModel"),a=t("./seriesGroup"),r=t("../helpers/rawDataHandler"),o=t("../helpers/predicate"),h=t("../helpers/renderUtil"),l=Array.prototype.concat,u=tui.util.defineClass({init:function(t,e,i,n){var s=i.series||{};this.originalRawData=t,this.chartType=e,this.options=i,this.seriesNames=n,this.divergingOption=o.isBarTypeChart(i.chartType)&&s.diverging,this.originalLegendData=null,this.initData(t)},getOriginalRawData:function(){return this.originalRawData},initData:function(t){this.rawData=t,this.categories=null,this.stacks=null,this.seriesDataModelMap={},this.seriesGroups=null,this.valuesMap={},this.legendLabels=null,this.legendData=null,this.formatFunctions=null,this.multilineCategories=null},findChartType:function(t){return r.findChartType(this.rawData.seriesAlias,t)},_processCategories:function(){return tui.util.map(this.rawData.categories,function(t){return tui.util.encodeHTMLEntity(String(t))})},getCategories:function(){return this.categories||(this.categories=this._processCategories()),this.categories},hasCategories:function(){return!!this.getCategories().length},getCategory:function(t){return this.getCategories()[t]},getStacks:function(){return this.stacks||(this.stacks=r.pickStacks(this.rawData.series)),this.stacks},getStackCount:function(){return this.getStacks().length},findStackIndex:function(t){return tui.util.inArray(t,this.getStacks())},getSeriesDataModel:function(t){var e,i;return this.seriesDataModelMap[t]||(i=this.findChartType(t),e=this.rawData.series[t]||this.rawData.series,this.seriesDataModelMap[t]=new s(e,i,this.options,this.getFormatFunctions())),this.seriesDataModelMap[t]},getGroupCount:function(t){return this.getSeriesDataModel(t).getGroupCount()},_eachByAllSeriesDataModel:function(t){var e=this,i=this.seriesNames||[this.chartType];tui.util.forEachArray(i,function(i){return t(e.getSeriesDataModel(i),i)})},isValidAllSeriesDataModel:function(){var t=!0;return this._eachByAllSeriesDataModel(function(e){return t=!!e.getGroupCount()}),t},_makeSeriesGroups:function(){var t,e=[];return this._eachByAllSeriesDataModel(function(t){t.each(function(t,i){e[i]||(e[i]=[]),e[i]=e[i].concat(t.items)})}),t=tui.util.map(e,function(t){return new a(t)})},getSeriesGroups:function(){return this.seriesGroups||(this.seriesGroups=this._makeSeriesGroups()),this.seriesGroups},getValue:function(t,e,i){return this.getSeriesDataModel(i).getValue(t,e)},_createValues:function(t,e){var i;return t===n.DUMMY_KEY?(i=[],this._eachByAllSeriesDataModel(function(t){i=i.concat(t.getValues(e))})):i=this.getSeriesDataModel(t).getValues(e),i},getValues:function(t,e){var i;return t=t||n.DUMMY_KEY,i=t+e,this.valuesMap[i]||(this.valuesMap[i]=this._createValues(t,e)),this.valuesMap[i]},getMaxValue:function(t,e){return tui.util.max(this.getValues(t,e))},getFormattedMaxValue:function(t,e,i){var n=this.getMaxValue(t,i),s=this.getFormatFunctions();return h.formatValue(n,s,e,i)},eachBySeriesGroup:function(t){this._eachByAllSeriesDataModel(function(e,i){e.each(function(e,n){t(e,n,i)})})},_pickLegendLabel:function(t){return tui.util.encodeHTMLEntity(t.name)},_pickLegendLabels:function(){var t,e=this,i=this.rawData.series;return tui.util.isArray(i)?t=tui.util.map(i,this._pickLegendLabel):(t={},tui.util.forEach(i,function(i,n){t[n]=tui.util.map(i,e._pickLegendLabel)})),t},getLegendLabels:function(t){return this.legendLabels||(this.legendLabels=this._pickLegendLabels()),this.legendLabels[t]||this.legendLabels},_makeLegendData:function(){var t,e,i=this.getLegendLabels(),n=this.seriesNames||[this.chartType];return tui.util.isArray(i)?(t=[this.chartType],t[this.chartType]=i):(n=this.seriesNames,t=i),e=tui.util.map(n,function(e){return tui.util.map(t[e],function(t){return{chartType:e,label:t}})}),l.apply([],e)},getLegendData:function(){return this.legendData||(this.legendData=this._makeLegendData()),this.originalLegendData||(this.originalLegendData=this.legendData),this.legendData},getOriginalLegendData:function(){return this.originalLegendData},getLegendItem:function(t){return this.getLegendData()[t]},getFormatFunctions:function(){return this.formatFunctions||(this.formatFunctions=this._findFormatFunctions()),this.formatFunctions},getFirstItemLabel:function(t){return this.getSeriesDataModel(t).getFirstItemLabel()},_pickMaxLenUnderPoint:function(t){var e=0;return tui.util.forEachArray(t,function(t){var i=tui.util.getDecimalLength(t);i>e&&(e=i)}),e},_isZeroFill:function(t){return t.length>2&&"0"===t.charAt(0)},_isDecimal:function(t){var e=t.indexOf(".");return e>-1&&e<t.length-1},_isComma:function(t){return t.indexOf(",")>-1},_formatToZeroFill:function(t,e){var i=0>e;return e=h.formatToZeroFill(Math.abs(e),t),(i?"-":"")+e},_formatToDecimal:function(t,e){return h.formatToDecimal(e,t)},_findSimpleTypeFormatFunctions:function(t){var e,i=[];if(this._isDecimal(t))e=this._pickMaxLenUnderPoint([t]),i=[tui.util.bind(this._formatToDecimal,this,e)];else if(this._isZeroFill(t))return e=t.length,i=[tui.util.bind(this._formatToZeroFill,this,e)];return this._isComma(t)&&i.push(h.formatToComma),i},_findFormatFunctions:function(){var t=tui.util.pick(this.options,"chart","format"),e=[];return tui.util.isFunction(t)?e=[t]:tui.util.isString(t)&&(e=this._findSimpleTypeFormatFunctions(t)),e},_makeMultilineCategory:function(t,e,i){var n=String(t).split(/\s+/),s=n[0],a=[];return tui.util.forEachArray(n.slice(1),function(t){var n=h.getRenderedLabelWidth(s+" "+t,i);n>e?(a.push(s),s=t):s+=" "+t}),s&&a.push(s),a.join("<br>")},getMultilineCategories:function(t,e,i){var n=this;return this.multilineCategories||(this.multilineCategories=tui.util.map(i,function(i){return n._makeMultilineCategory(i,t,e)})),this.multilineCategories},addDataRatiosOfPieChart:function(t){this.getSeriesDataModel(t).addDataRatiosOfPieChart()},addDataRatiosForCoordinateType:function(t,e,i){this.getSeriesDataModel(t).addDataRatiosForCoordinateType(e,i)},_addStartValueToAllSeriesItem:function(t,e){var i=0;t.min>=0?i=t.min:t.max<=0&&(i=t.max),this.getSeriesDataModel(e).addStartValueToAllSeriesItem(i)},addDataRatios:function(t,e,i){var n=this.getSeriesDataModel(i);this._addStartValueToAllSeriesItem(t,i),n.addDataRatios(t,e)}});e.exports=u},{"../const":24,"../dataModels/seriesDataModel":36,"../helpers/predicate":51,"../helpers/rawDataHandler":52,"../helpers/renderUtil":53,"./seriesGroup":37}],35:[function(t,e,i){"use strict";var n=t("./dataProcessor"),s=t("../helpers/renderUtil"),a=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},initData:function(t){this.rawData=t,this.valueMap=null},_makeValueMap:function(){var t=this.rawData.series,e={},i=this._findFormatFunctions();return tui.util.forEachArray(t,function(t){var n={value:t.data,label:s.formatValue(t.data,i,"series")};t.name&&(n.name=t.name),t.labelCoordinate&&(n.labelCoordinate=t.labelCoordinate),e[t.code]=n}),e},getValueMap:function(){return this.valueMap||(this.valueMap=this._makeValueMap()),this.valueMap},getValues:function(){return tui.util.pluck(this.getValueMap(),"value")},getValueMapDatum:function(t){return this.getValueMap()[t]},addDataRatios:function(t){var e=t.min,i=t.max-e;tui.util.forEach(this.getValueMap(),function(t){t.ratio=(t.value-e)/i})}});e.exports=a},{"../helpers/renderUtil":53,"./dataProcessor":34}],36:[function(t,e,i){"use strict";var n=t("./seriesGroup"),s=t("./seriesItem"),a=t("./seriesItemForCoordinateType"),r=t("../helpers/predicate"),o=t("../helpers/calculator"),h=Array.prototype.concat,l=tui.util.defineClass({init:function(t,e,i,n){this.chartType=e,this.options=i||{},this.formatFunctions=n,this.rawSeriesData=t||[],this.baseGroups=null,this.groups=null,this.valuesMap={},this._removeRangeValue()},_removeRangeValue:function(){var t=tui.util.pick(this.options,"series")||{};(!r.isAllowRangeData(this.chartType)||r.isValidStackOption(t.stackType)||t.spline)&&tui.util.forEachArray(this.rawSeriesData,function(t){tui.util.isArray(t.data)&&tui.util.forEachArray(t.data,function(e,i){t.data[i]=h.apply(e)[0]})})},_createBaseGroups:function(){var t,e=this;return t=r.isCoordinateTypeChart(this.chartType)?a:s,tui.util.map(this.rawSeriesData,function(i){return tui.util.map(h.apply(i.data),function(n){return new t(n,i.stack,e.formatFunctions)})})},getBaseGroups:function(){return this.baseGroups||(this.baseGroups=this._createBaseGroups()),this.baseGroups},_createSeriesGroupsFromRawData:function(t){var e=this.getBaseGroups();return t&&(e=tui.util.pivot(e)),tui.util.map(e,function(t){return new n(t)})},_getSeriesGroups:function(){return this.groups||(this.groups=this._createSeriesGroupsFromRawData(!0)),this.groups},getGroupCount:function(){return this._getSeriesGroups().length},_getPivotGroups:function(){return this.pivotGroups||(this.pivotGroups=this._createSeriesGroupsFromRawData()),this.pivotGroups},getSeriesGroup:function(t){return this._getSeriesGroups()[t]},getFirstSeriesGroup:function(){return this.getSeriesGroup(0)},getFirstItemLabel:function(){return this.getFirstSeriesGroup().getFirstSeriesItem().label},getSeriesItem:function(t,e){return this.getSeriesGroup(t).getSeriesItem(e)},getFirstSeriesItem:function(){return this.getSeriesItem(0,0)},getValue:function(t,e){return this.getSeriesItem(t,e).value},getMinValue:function(t){return tui.util.min(this.getValues(t))},getMaxValue:function(t){return tui.util.max(this.getValues(t))},_findSeriesItem:function(t){var e;return this.each(function(i){return e=i.find(t),!e}),e},_findSeriesItemByValue:function(t,e,i){return i=i||function(){},this._findSeriesItem(function(n){return n&&n[t]===e&&i(n)})},findMinSeriesItem:function(t,e){var i=this.getMinValue(t);return this._findSeriesItemByValue(t,i,e)},findMaxSeriesItem:function(t,e){var i=this.getMaxValue(t);return this._findSeriesItemByValue(t,i,e)},_createValues:function(t){var e=this.map(function(e){return e.getValues(t)});return h.apply([],e)},getValues:function(t){return t=t||"value",this.valuesMap[t]||(this.valuesMap[t]=this._createValues(t)),this.valuesMap[t]},isXCountGreaterThanYCount:function(){return this.getValues("x").length>this.getValues("y").length},_addRatiosWhenNormalStacked:function(t){var e=Math.abs(t.max-t.min);this.each(function(t){t.addRatios(e)})},_calculateBaseRatio:function(){var t=this.getValues(),e=o.sumPlusValues(t),i=Math.abs(o.sumMinusValues(t)),n=e>0&&i>0?.5:1;return n},_addRatiosWhenPercentStacked:function(){var t=this._calculateBaseRatio();this.each(function(e){e.addRatiosWhenPercentStacked(t)})},_addRatiosWhenDivergingStacked:function(){this.each(function(t){var e=t.pluck("value"),i=o.sumPlusValues(e),n=Math.abs(o.sumMinusValues(e));t.addRatiosWhenDivergingStacked(i,n)})},_makeSubtractionValue:function(t){var e=r.allowMinusPointRender(this.chartType),i=0;return!e&&r.isMinusLimit(t)?i=t.max:(e||t.min>=0)&&(i=t.min),i},_addRatios:function(t){var e=Math.abs(t.max-t.min),i=this._makeSubtractionValue(t);this.each(function(t){t.addRatios(e,i)})},addDataRatios:function(t,e){var i=r.isAllowedStackOption(this.chartType);i&&r.isNormalStack(e)?this._addRatiosWhenNormalStacked(t):i&&r.isPercentStack(e)?this.divergingOption?this._addRatiosWhenDivergingStacked():this._addRatiosWhenPercentStacked():this._addRatios(t)},addDataRatiosOfPieChart:function(){this.each(function(t){var e=tui.util.sum(t.pluck("value"));t.addRatios(e)})},addDataRatiosForCoordinateType:function(t,e){var i,n,s,a,r=t.x,o=t.y,h=e?tui.util.max(this.getValues("r")):0;r&&(i=Math.abs(r.max-r.min),n=this._makeSubtractionValue(r)),o&&(s=Math.abs(o.max-o.min),a=this._makeSubtractionValue(o)),this.each(function(t){t.each(function(t){t&&(t.addRatio("x",i,n),t.addRatio("y",s,a),t.addRatio("r",h,0))})})},addStartValueToAllSeriesItem:function(t){this.each(function(e){e.addStartValueToAllSeriesItem(t)})},hasRangeData:function(){var t=!1;return this.each(function(e){return t=e.hasRangeData(),!t}),t},each:function(t,e){var i=e?this._getPivotGroups():this._getSeriesGroups();tui.util.forEachArray(i,function(e,i){return t(e,i)})},map:function(t,e){var i=[];return this.each(function(e,n){i.push(t(e,n))},e),i}});e.exports=l},{"../helpers/calculator":47,"../helpers/predicate":51,"./seriesGroup":37,"./seriesItem":38,"./seriesItemForCoordinateType":39}],37:[function(t,e,i){"use strict";var n=tui.util.defineClass({init:function(t){this.items=t,this.valuesMap={},this.valuesMapPerStack=null},getSeriesItemCount:function(){return this.items.length},getSeriesItem:function(t){return this.items[t]},getFirstSeriesItem:function(){return this.getSeriesItem(0)},_createValues:function(t){var e=[];return this.each(function(i){i&&(tui.util.isExisty(i[t])&&e.push(i[t]),tui.util.isExisty(i.start)&&e.push(i.start))}),e},getValues:function(t){return t=t||"value",this.valuesMap[t]||(this.valuesMap[t]=this._createValues(t)),this.valuesMap[t]},_makeValuesMapPerStack:function(){var t={};return this.each(function(e){t[e.stack]||(t[e.stack]=[]),t[e.stack].push(e.value)}),t},getValuesMapPerStack:function(){return this.valuesMapPerStack||(this.valuesMapPerStack=this._makeValuesMapPerStack()),this.valuesMapPerStack},_makeSumMapPerStack:function(){var t=this.getValuesMapPerStack(),e={};return tui.util.forEach(t,function(t,i){e[i]=tui.util.sum(tui.util.map(t,function(t){return Math.abs(t)}))}),e},addStartValueToAllSeriesItem:function(t){this.each(function(e){e.addStart(t)})},addRatiosWhenPercentStacked:function(t){var e=this._makeSumMapPerStack();this.each(function(i){var n=e[i.stack];i.addRatio(n,0,t)})},addRatiosWhenDivergingStacked:function(t,e){this.each(function(i){var n=i.value>=0?t:e;i.addRatio(n,0,.5)})},addRatios:function(t,e){this.each(function(i){i.addRatio(t,e)})},hasRangeData:function(){var t=!1;return this.each(function(e){return t=e.isRange,!t}),t},each:function(t){tui.util.forEachArray(this.items,t)},map:function(t){return tui.util.map(this.items,t)},pluck:function(t){return tui.util.pluck(this.items,t)},find:function(t){var e;return this.each(function(i){return t(i)&&(e=i),!e}),e||null}});e.exports=n},{}],38:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/renderUtil"),a=tui.util.defineClass({init:function(t,e,i){this.stack=e||n.DEFAULT_STACK,this.formatFunctions=i,this.isRange=!1,this.value=null,this.label=null,this.ratio=null,this.end=null,this.endLabel=null,this.endRatio=null,this.start=null,this.startLabel=null,this.startRatio=null,this.ratioDistance=null,this._initValues(t)},_initValues:function(t){var e=this._createValues(t),i=e.length>1;this.value=this.end=e[0],this.label=this.endLabel=s.formatValue(this.value,this.formatFunctions,"series"),i&&(this.addStart(e[1],!0),this._updateFormattedValueforRange(),this.isRange=!0)},_createValues:function(t){var e=tui.util.map([].concat(t),parseFloat);return e=e.sort(function(t,e){return 0>t&&0>e?t-e:e-t})},addStart:function(t){tui.util.isNull(this.start)&&(this.start=t,this.startLabel=s.formatValue(t,this.formatFunctions,"series"))},_updateFormattedValueforRange:function(){this.label=this.startLabel+" ~ "+this.endLabel},_calculateRatio:function(t,e,i,n){return(t-i)/e*n},addRatio:function(t,e,i){t=t||1,i=i||1,e=e||0,this.ratio=this.endRatio=this._calculateRatio(this.value,t,e,i),tui.util.isNull(this.start)||(this.startRatio=this._calculateRatio(this.start,t,e,i),this.ratioDistance=Math.abs(this.endRatio-this.startRatio))},pickValueMap:function(){return{value:this.value,start:this.start,end:this.end}}});e.exports=a},{"../const":24,"../helpers/renderUtil":53}],39:[function(t,e,i){"use strict";var n=tui.util.defineClass({init:function(t){this._initData(t)},_initData:function(t){this.x=t.x,this.y=t.y,this.r=t.r,this.label=t.label||"",this.ratioMap={}},addRatio:function(t,e,i){!tui.util.isExisty(this.ratioMap[t])&&e&&(this.ratioMap[t]=(this[t]-i)/e)},pickValueMap:function(){return{x:this.ratioMap.x?this.x:null,y:this.ratioMap.y?this.y:null,r:this.ratioMap.r?this.r:null}}});e.exports=n},{}],40:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/rawDataHandler"),a=t("../helpers/predicate"),r={},o={_findKey:function(t,e){var i,r=null;return a.isComboChart(t)?(i=s.getChartTypeMap(e),i[n.CHART_TYPE_COLUMN]&&i[n.CHART_TYPE_LINE]?r=n.CHART_TYPE_COLUMN_LINE_COMBO:i[n.CHART_TYPE_PIE]&&(r=n.CHART_TYPE_PIE_DONUT_COMBO)):r=t,r},get:function(t,e,i,n){var s,a=this._findKey(t,e),o=r[a];if(!o)throw new Error("Not exist "+t+" chart.");return s=new o(e,i,n)},register:function(t,e){r[t]=e}};e.exports=o},{"../const":24,"../helpers/predicate":51,"../helpers/rawDataHandler":52}],41:[function(t,e,i){"use strict";var n={};e.exports={get:function(t){var e=n[t];if(!e)throw new Error("Not exist "+t+" map.");return e},register:function(t,e){n[t]=e}}},{}],42:[function(t,e,i){"use strict";var n={},s={get:function(t,e){var i,s,a=n[t];if(!a)throw new Error("Not exist "+t+" plugin.");if(i=a[e],!i)throw new Error("Not exist "+e+" chart renderer.");return s=new i},register:function(t,e){n[t]=e}};e.exports=s},{}],43:[function(t,e,i){"use strict";var n=t("../const"),s=t("../themes/defaultTheme"),a={};e.exports={get:function(t){var e=a[t];if(!e)throw new Error("Not exist "+t+" theme.");return e},register:function(t,e){var i;e=JSON.parse(JSON.stringify(e)),t!==n.DEFAULT_THEME_NAME&&(e=this._initTheme(e)),i=this._getInheritTargetThemeItems(e),this._inheritThemeFont(e,i),this._copyColorInfo(e),a[t]=e},_initTheme:function(t){var e,i=JSON.parse(JSON.stringify(s));return this._concatDefaultColors(t,i.series.colors),e=this._overwriteTheme(t,i),e=this._copyProperty({propName:"yAxis",fromTheme:t,toTheme:e,rejectionProps:n.YAXIS_PROPS}),e=this._copyProperty({propName:"series",fromTheme:t,toTheme:e,rejectionProps:n.SERIES_PROPS})},_filterChartTypes:function(t,e){var i;return t?i=tui.util.filter(t,function(t,i){return-1===tui.util.inArray(i,e)}):[]},_concatColors:function(t,e){t.colors&&(t.colors=t.colors.concat(e)),t.singleColors&&(t.singleColors=t.singleColors.concat(e))},_concatDefaultColors:function(t,e){var i,s=this;t.series&&(i=this._filterChartTypes(t.series,n.SERIES_PROPS),tui.util.keys(i).length?tui.util.forEach(i,function(t){s._concatColors(t,e)}):this._concatColors(t.series,e))},_overwriteTheme:function(t,e){var i=this;return tui.util.forEach(e,function(n,s){var a=t[s];a&&(tui.util.isArray(a)?e[s]=a.slice():tui.util.isObject(a)?i._overwriteTheme(a,n):e[s]=a)}),e},_copyProperty:function(t){var e,i=this;return t.toTheme[t.propName]?(e=this._filterChartTypes(t.fromTheme[t.propName],t.rejectionProps),tui.util.keys(e).length&&(tui.util.forEach(e,function(e,n){var a=JSON.parse(JSON.stringify(s[t.propName]));t.fromTheme[t.propName][n]=i._overwriteTheme(e,a)}),t.toTheme[t.propName]=t.fromTheme[t.propName]),t.toTheme):t.toTheme},_copyColorInfoToOther:function(t,e,i){e.colors=i||t.colors,t.singleColors&&(e.singleColors=t.singleColors),t.borderColor&&(e.borderColor=t.borderColor),t.selectionColor&&(e.selectionColor=t.selectionColor)},_getInheritTargetThemeItems:function(t){var e=[t.title,t.xAxis.title,t.xAxis.label,t.legend.label],i=this._filterChartTypes(t.yAxis,n.YAXIS_PROPS),s=this._filterChartTypes(t.series,n.SERIES_PROPS);return tui.util.keys(i).length?tui.util.forEach(i,function(t){e.push(t.title),e.push(t.label)}):(e.push(t.yAxis.title),e.push(t.yAxis.label)),tui.util.keys(s).length?tui.util.forEach(s,function(t){e.push(t.label)}):e.push(t.series.label),e},_inheritThemeFont:function(t,e){var i=t.chart.fontFamily;tui.util.forEachArray(e,function(t){t.fontFamily||(t.fontFamily=i)})},_copyColorInfo:function(t){var e=this,i=this._filterChartTypes(t.series,n.SERIES_PROPS);tui.util.keys(i).length?tui.util.forEach(i,function(i,n){t.legend[n]={},t.tooltip[n]={},e._copyColorInfoToOther(i,t.legend[n],i.colors||t.legend.colors),e._copyColorInfoToOther(i,t.tooltip[n],i.colors||t.tooltip.colors),delete t.legend.colors,delete t.tooltip.colors}):(this._copyColorInfoToOther(t.series,t.legend),this._copyColorInfoToOther(t.series,t.tooltip))}}},{"../const":24,"../themes/defaultTheme":92}],44:[function(t,e,i){"use strict";var n=t("../const"),s={_makeLabels:function(t,e){var i;return e?(i=t.length-1,tui.util.map(t,function(t,s){return s>0&&i>s&&s%e>0&&(t=n.EMPTY_AXIS_LABEL),t})):t},makeLabelAxisData:function(t){var e=t.labels.length,i=t.options||{},n=this._makeLabels(t.labels,i.labelInterval);return t.aligned||(e+=1),{labels:n,tickCount:e,validTickCount:0,isLabelAxis:!0,options:i,isVertical:!!t.isVertical,isPositionRight:!!t.isPositionRight,aligned:!!t.aligned}},makeValueAxisData:function(t){var e=t.axisScaleMaker,i=e.getFormattedScaleValues(),n=i.length;return{labels:i,tickCount:n,validTickCount:n,limit:e.getLimit(),step:e.getStep(),options:t.options,isVertical:!!t.isVertical,isPositionRight:!!t.isPositionRight,aligned:!!t.aligned}}};e.exports=s},{"../const":24}],45:[function(t,e,i){"use strict";var n=t("../const"),s=t("./predicate"),a=t("./calculator"),r=t("./renderUtil"),o=Math.abs,h=tui.util.defineClass({init:function(t){this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.options=t.options||{},this.chartType=t.chartType,this.valueType=t.valueType,this.areaType=t.areaType,this.isVertical=!!t.isVertical,this.isSingleYAxis=!!t.isSingleYAxis,this.valueCounts=t.valueCount?[t.valueCount]:null,this.scale=null,this.formattedValues=null},_getScale:function(){return this.scale||(this.scale=this._makeScale()),this.scale},getLimit:function(){return this._getScale().limit},getStep:function(){return this._getScale().step},_isPercentStackChart:function(){var t=s.isAllowedStackOption(this.chartType),e=s.isPercentStack(this.options.stackType);return t&&e},_isNormalStackChart:function(){var t=s.isAllowedStackOption(this.chartType),e=s.isNormalStack(this.options.stackType);return t&&e},_isDivergingChart:function(){return this.options.diverging&&s.isBarTypeChart(this.chartType)},_getFormatFunctions:function(){var t;return t=this._isPercentStackChart()?[function(t){return t+"%"}]:this.dataProcessor.getFormatFunctions()},_getScaleValues:function(){var t=this._getScale(),e=a.makeLabelsFromLimit(t.limit,t.step);return this._isDivergingChart()?tui.util.map(e,o):e},getFormattedScaleValues:function(){var t,e;return this.formattedValues||(t=this._getScaleValues(),e=this._getFormatFunctions(),this.formattedValues=r.formatValues(t,e,this.areaType,this.valueType)),this.formattedValues},_makeBaseValuesForNormalStackedChart:function(){var t=this.dataProcessor.getSeriesDataModel(this.chartType),e=[];return t.each(function(t){var i=t._makeValuesMapPerStack();tui.util.forEach(i,function(t){var i=a.sumPlusValues(t),n=a.sumMinusValues(t);e=e.concat([i,n])})}),e},_makeBaseValues:function(){var t;return t=s.isMapChart(this.chartType)?this.dataProcessor.getValues():this.isSingleYAxis?this.dataProcessor.getValues():this._isNormalStackChart()?this._makeBaseValuesForNormalStackedChart():this.dataProcessor.getValues(this.chartType,this.valueType)},_getBaseSize:function(){var t;return t=this.isVertical?this.boundsMaker.makeSeriesHeight():this.boundsMaker.makeSeriesWidth()},_getCandidateCountsOfValue:function(){var t,e,i,s,a=3;return e=this._getBaseSize(),i=Math.max(a,parseInt(e/n.MAX_PIXEL_TYPE_STEP_SIZE,10)),s=Math.max(i,parseInt(e/n.MIN_PIXEL_TYPE_STEP_SIZE,10))+1,t=tui.util.range(i,s)},_makeLimitForDivergingOption:function(t){var e=Math.max(o(t.min),o(t.max));return{min:-e,max:e}},_makeIntegerTypeScale:function(t){var e,i,n=this.options.limit||{},s=t.min,a=t.max;return o(s)>=1||o(a)>=1?{limit:t,options:n,divideNum:1}:(e=tui.util.findMultipleNum(s,a),i={},tui.util.isUndefined(n.min)||(i.min=n.min*e),tui.util.isUndefined(n.max)||(i.max=n.max*e),{limit:{min:s*e,max:a*e},options:i,divideNum:e})},_makeLimitIfEqualMinMax:function(t){var e=t.min,i=t.max;return e>0?e=0:0>e&&(i=0),{min:e,max:i}},_makeBaseLimit:function(t,e){var i,n,r=s.isMinusLimit(t),o=t.min,h=t.max;return o===h?i=this._makeLimitIfEqualMinMax(t):(r&&(n=o,o=-h,h=-n),i=a.calculateLimit(o,h),r&&(n=i.min,i.min=-i.max,i.max=-n),i.min=tui.util.isUndefined(e.min)?i.min:e.min,i.max=tui.util.isUndefined(e.max)?i.max:e.max),i},_normalizeMin:function(t,e){var i,n=tui.util.mod(t,e);return i=0===n?t:tui.util.subtraction(t,t>=0?n:e+n)},_makeNormalizedMax:function(t,e,i){var n,s,a=tui.util.multiplication(e,i-1),r=tui.util.addition(t.min,a),o=t.max-r;return o>0&&(n=o%e,s=Math.floor(o/e),r+=e*(n>0?s+1:s)),r},_normalizeLimit:function(t,e,i){return t.min=this._normalizeMin(t.min,e),t.max=this._makeNormalizedMax(t,e,i),t},_decreaseMinByStep:function(t,e,i,n){var a=s.isLineChart(this.chartType),r=0>e,o=tui.util.isUndefined(n),h=t===e;return(a||r)&&o&&h&&(t-=i),t},_increaseMaxByStep:function(t,e,i,n){var a=s.isLineChart(this.chartType),r=e>0,o=tui.util.isUndefined(n),h=t===e;return(a||r)&&o&&h&&(t+=i),t},_divideScaleStep:function(t,e,i){var n=e%2===0,s=a.makeLabelsFromLimit(t,e).length,r=2*s-1,h=o(i-s),l=o(i-r);return n&&h>=l&&(e/=2),e},_minimizeScaleLimit:function(t,e,i,n,s){var a=t.max,r=t.min,o=tui.util.isUndefined(s.min)?e.min-1:s.min,h=tui.util.isUndefined(s.max)?e.max+1:s.max;return tui.util.forEachArray(tui.util.range(1,n),function(n){var s=i*n,l=r+s,u=a-s;return e.min<=l&&e.max>=u?!1:(o>=l&&(t.min=l),u>=h&&(t.max=u),!0)}),t},_adjustLimitForBubbleChart:function(t,e){var i=this.valueType,s=this.dataProcessor.getSeriesDataModel(this.chartType),a=s.getMaxValue("r"),r=function(t){return t.r/a>n.HALF_RATIO},o=s.findMinSeriesItem(i,r),h=s.findMaxSeriesItem(i,r);o&&(t.min-=e),h&&(t.max+=e)},_makeCandidateScale:function(t,e,i,n){var r,h=tui.util.extend({},t);return r=a.calculateStepFromLimit(h,i),r=a.normalizeAxisNumber(r),h=this._normalizeLimit(h,r,i),h.min=this._decreaseMinByStep(h.min,e.min,r,n.min),h.max=this._increaseMaxByStep(h.max,e.max,r,n.max),h=this._minimizeScaleLimit(h,e,r,i,n),r=this._divideScaleStep(h,r,i),s.isBubbleChart(this.chartType)&&this._adjustLimitForBubbleChart(h,r),{limit:h,step:r,valueCount:o(h.max-h.min)/r}},_makeCandidateScales:function(t,e){var i=this,n=t.limit,s=t.options,a=this._makeBaseLimit(n,s);return tui.util.map(e,function(t){return i._makeCandidateScale(a,n,t,s)})},_getComparingValue:function(t,e,i,n){var s=o(i.limit.max-t.max),a=o(t.min-i.limit.min),r=Math.max(o(e[n]-i.valueCount),1),h=Math.pow(10,tui.util.getDecimalLength(i.step));return(s+a)*r*h},_selectAxisScale:function(t,e,i){var n=tui.util.bind(this._getComparingValue,this,t,i),s=tui.util.min(e,n);return s},_restoreNumberState:function(t,e){return 1===e?t:(t.step=tui.util.division(t.step,e),t.limit.min=tui.util.division(t.limit.min,e),t.limit.max=tui.util.division(t.limit.max,e),t)},_calculateScale:function(){var t,e,i,n,s=this._makeBaseValues(),a={min:tui.util.min(s),max:tui.util.max(s)};return 0===a.min&&0===a.max&&(a.max=5),this._isDivergingChart()&&(a=this._makeLimitForDivergingOption(a)),t=this._makeIntegerTypeScale(a),e=this.valueCounts||this._getCandidateCountsOfValue(),i=this._makeCandidateScales(t,e),n=this._selectAxisScale(t.limit,i,e),n=this._restoreNumberState(n,t.divideNum)},_getValuesForSum:function(){var t;return t=this.isSingleYAxis?this.dataProcessor.getValues():this.dataProcessor.getValues(this.chartType)},_calculateMinusSum:function(){var t=this._getValuesForSum();return a.sumMinusValues(t)},_calculatePlusSum:function(){var t=this._getValuesForSum();return a.sumPlusValues(t)},_getPercentStackedScale:function(){var t;return t=0===this._calculateMinusSum()?n.PERCENT_STACKED_AXIS_SCALE:0===this._calculatePlusSum()?n.MINUS_PERCENT_STACKED_AXIS_SCALE:this._isDivergingChart()?n.DIVERGING_PERCENT_STACKED_AXIS_SCALE:n.DUAL_PERCENT_STACKED_AXIS_SCALE},_makeScale:function(){var t;return t=this._isPercentStackChart()?this._getPercentStackedScale():this._calculateScale()}});e.exports=h},{"../const":24,"./calculator":47,"./predicate":51,"./renderUtil":53}],46:[function(t,e,i){"use strict";var n=t("../const"),s=t("./calculator"),a=t("./predicate"),r=t("./renderUtil"),o=tui.util.defineClass({init:function(t){this.options=t.options||{},this.options.legend=this.options.legend||{},this.options.yAxis=this.options.yAxis||{},this.theme=t.theme||{},this.hasAxes=t.hasAxes,this.chartType=t.chartType,this.chartTypes=t.chartTypes||[],this.dataProcessor=t.dataProcessor,this.initBoundsData()},initBoundsData:function(t){this.dimensions={legend:{width:0},yAxis:{width:0},rightYAxis:{width:0},xAxis:{height:0},circleLegend:{width:0},calculationLegend:{width:0}},this.positions={},this.axesData={},this.xAxisDegree=0,this.chartLeftPadding=n.CHART_PADDING,t&&(this.options.chart=t),this._registerChartDimension(),this._registerTitleDimension()},_registerDimension:function(t,e){this.dimensions[t]=tui.util.extend(this.dimensions[t]||{},e);
},registerBaseDimension:function(t,e){this._registerDimension(t,e)},registerAxesData:function(t){this.axesData=t},getAxesData:function(){return this.axesData},_calculatePixelStep:function(t,e){var i,n=t.tickCount;return i=t.isLabel?e/n/2:e/(n-1),parseInt(i,10)},getMinimumPixelStepForAxis:function(){var t=this.getDimension("series"),e=this._calculatePixelStep(this.axesData.yAxis,t.height),i=this._calculatePixelStep(this.axesData.xAxis,t.width);return Math.min(e,i)},getMaxRadiusForBubbleChart:function(){var t=this.getMinimumPixelStepForAxis(),e=this.getDimension("calculationLegend").width||n.MIN_LEGEND_WIDTH,i=this.getDimension("circleLegend").width||e;return Math.min((i-n.CIRCLE_LEGEND_PADDING)/2,t)},getBound:function(t){return{dimension:this.dimensions[t]||{},position:this.positions[t]||{}}},_setBound:function(t,e){this.dimensions[t]=e.dimension,this.positions[t]=e.position},getDimension:function(t){return this.dimensions[t]},getPosition:function(t){return this.positions[t]},_registerChartDimension:function(){var t=this.options.chart||{},e={width:t.width||n.CHART_DEFAULT_WIDTH,height:t.height||n.CHART_DEFAULT_HEIGHT};this._registerDimension("chart",e)},_registerTitleDimension:function(){var t=this.options.chart||{},e=r.getRenderedLabelHeight(t.title,this.theme.title),i={height:e+n.TITLE_PADDING};this._registerDimension("title",i)},_calculateXAxisLabelLimitWidth:function(){var t=this.getDimension("series").width,e=this.axesData.xAxis.labels.length,i=a.isLineTypeChart(this.chartType);return t/(i?e-1:e)},_findRotationDegree:function(t,e,i){var a,r=e/2,o=i/2;return tui.util.forEachArray(n.DEGREE_CANDIDATES,function(e){var i=2*(s.calculateAdjacent(e,r)+s.calculateAdjacent(n.ANGLE_90-e,o));return a=e,!(i<=t+n.XAXIS_LABEL_COMPARE_MARGIN)}),a},_makeHorizontalLabelRotationInfo:function(t){var e,i,n=this.axesData.xAxis.labels,s=this.theme.xAxis.label,a=r.getRenderedLabelsMaxWidth(n,s);return t>=a?null:(i=r.getRenderedLabelsMaxHeight(n,s),e=this._findRotationDegree(t,a,i),{maxLabelWidth:a,labelHeight:i,degree:e})},_calculateOverflowLeft:function(t,e){var i=t.degree,a=t.labelHeight,o=r.getRenderedLabelWidth(e,this.theme.xAxis.label),h=2*(s.calculateAdjacent(i,o/2)+s.calculateAdjacent(n.ANGLE_90-i,a/2)),l=this.options.yAxis.isCenter?0:this.getDimension("yAxis").width,u=h-l;return u},_updateDimensionsWidth:function(t){t>0&&(this.chartLeftPadding+=t,this.dimensions.plot.width-=t,this.dimensions.series.width-=t,this.dimensions.customEvent.width-=t,this.dimensions.xAxis.width-=t,this.positions.series.left+=t)},_updateDegree:function(t,e,i){var s,a;i>0&&(s=this.getDimension("series").width/e+n.XAXIS_LABEL_GUTTER,a=this._findRotationDegree(s,t.maxLabelWidth,t.labelHeight),t.degree=a)},_calculateXAxisRotatedHeight:function(t){var e=t.degree,i=t.maxLabelWidth,a=t.labelHeight,r=2*(s.calculateOpposite(e,i/2)+s.calculateOpposite(n.ANGLE_90-e,a/2));return r},_calculateDiffWithRotatedHeight:function(t){var e=this._calculateXAxisRotatedHeight(t);return e-t.labelHeight},_calculateDiffWithMultilineHeight:function(t,e){var i=this.theme.xAxis.label,n=this.dataProcessor.getMultilineCategories(e,i,this.axesData.xAxis.labels),s=r.getRenderedLabelsMaxHeight(t,i),a=r.getRenderedLabelsMaxHeight(n,tui.util.extend({cssText:"line-height:1.2;width:"+e+"px"},i));return a-s},_updateDimensionsHeight:function(t){this.dimensions.plot.height-=t,this.dimensions.series.height-=t,this.dimensions.customEvent.height-=t,this.dimensions.tooltip.height-=t,this.dimensions.yAxis.height-=t,this.dimensions.rightYAxis.height-=t,this.dimensions.xAxis.height+=t},_updateDimensionsAndDegree:function(){var t,e,i,n=this.options.xAxis||{},s=this._calculateXAxisLabelLimitWidth(),a=this.axesData.xAxis.labels;n.rotateLabel!==!1&&(t=this._makeHorizontalLabelRotationInfo(s)),t?(e=this._calculateOverflowLeft(t,a[0]),this.xAxisDegree=t.degree,this._updateDimensionsWidth(e),this._updateDegree(t,a.length,e),i=this._calculateDiffWithRotatedHeight(t)):i=this._calculateDiffWithMultilineHeight(a,s),this._updateDimensionsHeight(i)},_makePlotDimension:function(){var t=this.getDimension("series");return{width:t.width,height:t.height+n.OVERLAPPING_WIDTH}},_registerAxisComponentsDimension:function(){var t=this._makePlotDimension();this._registerDimension("plot",t),this._registerDimension("xAxis",{width:t.width}),this._registerDimension("yAxis",{height:t.height}),this._registerDimension("rightYAxis",{height:t.height})},makeSeriesWidth:function(){var t,e,i=this.getDimension("chart").width,s=this.getDimension("yAxis").width,r=this.getDimension("calculationLegend");return t=a.hasVerticalLegendWidth(this.options.legend)&&r?r.width:0,e=t+this.getDimension("rightYAxis").width,i-2*n.CHART_PADDING-s-e},makeSeriesHeight:function(){var t,e,i=this.getDimension("chart").height,s=this.getDimension("title").height,r=this.options.legend;return t=a.isHorizontalLegend(r.align)&&r.visible?this.getDimension("legend").height:0,e=t+this.dimensions.xAxis.height,i-2*n.CHART_PADDING-s-e},_makeSeriesDimension:function(){return{width:this.makeSeriesWidth(),height:this.makeSeriesHeight()}},_registerCenterComponentsDimension:function(){var t=this.getDimension("series");this._registerDimension("tooltip",t),this._registerDimension("customEvent",t)},_registerAxisComponentsPosition:function(t){var e=this.getPosition("series"),i=this.getDimension("series"),s=this.getDimension("yAxis").width,a=s+i.width+t;this.positions.plot={top:e.top,left:e.left},this.positions.yAxis={top:e.top,left:this.chartLeftPadding+t},this.positions.xAxis={top:e.top+i.height,left:e.left},this.positions.rightYAxis={top:e.top,left:this.chartLeftPadding+a-n.OVERLAPPING_WIDTH}},_makeLegendPosition:function(){var t,e,i=this.dimensions,s=this.getDimension("series"),r=this.options.legend,o=i.title.height;return a.isLegendAlignBottom(r.align)&&(o+=s.height+this.getDimension("xAxis").height+n.LEGEND_AREA_PADDING),a.isHorizontalLegend(r.align)?e=(this.getDimension("chart").width-this.getDimension("legend").width)/2-n.LEGEND_AREA_PADDING:a.isLegendAlignLeft(r.align)?e=0:(t=this.getDimension("yAxis").width+this.getDimension("rightYAxis").width,e=s.width+t+this.chartLeftPadding),{top:o,left:e}},_makeCircleLegendPosition:function(){var t,e,i=this.getPosition("series"),s=this.getDimension("series"),r=this.getDimension("circleLegend"),o=this.options.legend;return t=a.isLegendAlignLeft(o.align)?0:i.left+s.width,a.hasVerticalLegendWidth(this.options.legend)&&(e=this.getDimension("legend").width+n.CHART_PADDING,t+=(e-r.width)/2),{top:i.top+s.height-r.height,left:t}},_isNeedExpansionSeries:function(){var t=this.chartType;return!a.isMousePositionChart(t)&&!a.isPieDonutComboChart(t,this.chartTypes)},_registerEssentialComponentsPositions:function(){var t,e=this.getPosition("series");this.positions.customEvent=tui.util.extend({},e),this.positions.legend=this._makeLegendPosition(),this.getDimension("circleLegend").width&&(this.positions.circleLegend=this._makeCircleLegendPosition()),t=this._isNeedExpansionSeries()?{top:e.top-n.SERIES_EXPAND_SIZE,left:e.left-n.SERIES_EXPAND_SIZE}:e,this.positions.tooltip=t},_registerPositions:function(){var t=this.options.legend.align,e=this.options.legend.visible,i=this.getDimension("legend"),s=a.isLegendAlignTop(t)&&e?i.height:0,r=a.isLegendAlignLeft(t)&&e?i.width:0,o={top:this.getDimension("title").height+n.CHART_PADDING+s,left:this.chartLeftPadding+r+this.getDimension("yAxis").width};this.positions.series=o,this.hasAxes&&(this._updateDimensionsAndDegree(),this._registerAxisComponentsPosition(r)),this._registerEssentialComponentsPositions()},_registerExtendedSeriesBound:function(){var t=this.getBound("series");this._isNeedExpansionSeries()&&(t=r.expandBound(t)),this._setBound("extendedSeries",t)},_updateBoundsForYAxisCenterOption:function(){var t=this.getDimension("yAxis").width,e=Math.floor(this.getDimension("series").width/2)+n.OVERLAPPING_WIDTH,i=t-n.OVERLAPPING_WIDTH,s=r.isOldBrowser()?1:0;this.dimensions.extendedSeries.width+=t,this.dimensions.xAxis.width+=n.OVERLAPPING_WIDTH,this.dimensions.plot.width+=t+n.OVERLAPPING_WIDTH,this.dimensions.customEvent.width+=t,this.dimensions.tooltip.width+=t,this.positions.series.left-=t-s,this.positions.extendedSeries.left-=i-s,this.positions.plot.left-=i,this.positions.yAxis.left+=e,this.positions.xAxis.left-=i,this.positions.customEvent.left-=i,this.positions.tooltip.left-=i},registerSeriesDimension:function(){var t=this._makeSeriesDimension();this._registerDimension("series",t)},registerBoundsData:function(){this._registerCenterComponentsDimension(),this.hasAxes&&this._registerAxisComponentsDimension(),this._registerPositions(),this._registerExtendedSeriesBound(),this.options.yAxis.isCenter&&this._updateBoundsForYAxisCenterOption()}});e.exports=o},{"../const":24,"./calculator":47,"./predicate":51,"./renderUtil":53}],47:[function(t,e,i){"use strict";var n=t("../const"),s={calculateLimit:function(t,e){var i,n=0,s={};return 0>t&&(n=t,e-=t,t=0),i=(e-t)/20,s.max=e+i+n,e/6>t?s.min=0+n:s.min=t-i+n,s},normalizeAxisNumber:function(t){var e,i,s=0,a=1;return 0===t?t:(0>t&&(a=-1),t*=a,tui.util.forEachArray(n.AXIS_STANDARD_MULTIPLE_NUMS,function(e){return e>t?(e>1&&(s=e),!1):(e===n.AXIS_LAST_STANDARD_MULTIPLE_NUM&&(s=e),!0)}),1>s?e=.1*this.normalizeAxisNumber(10*t):(i=tui.util.mod(t,s),e=tui.util.addition(t,i>0?s-i:0)),e*=a)},makeTickPixelPositions:function(t,e,i){var n,s,a=[];return i=i||0,e>0&&(n={min:0,max:t-1},s=this.calculateStepFromLimit(n,e),a=tui.util.map(tui.util.range(0,t,s),function(t){return Math.round(t+i)}),a[a.length-1]=Math.round(t-1+i)),a},makeLabelsFromLimit:function(t,e){var i=tui.util.findMultipleNum(e),n=t.min*i,s=t.max*i,a=tui.util.range(n,s+1,e*i);return a=tui.util.map(a,function(t){return t/i})},calculateStepFromLimit:function(t,e){return(t.max-t.min)/(e-1)},calculateAdjacent:function(t,e){return Math.cos(t*n.RAD)*e},calculateOpposite:function(t,e){return Math.sin(t*n.RAD)*e},sumPlusValues:function(t){var e=tui.util.filter(t,function(t){return t>0});return tui.util.sum(e)},sumMinusValues:function(t){var e=tui.util.filter(t,function(t){return 0>t});return tui.util.sum(e)}};e.exports=s},{"../const":24}],48:[function(t,e,i){"use strict";var n=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,s={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},a={leadingZero:function(t,e){var i="",n=0;if(String(t).length>e)return String(t);for(;e-1>n;n+=1)i+="0";return(i+t).slice(-1*e)},isValidRGB:function(t){return n.test(t)},hexToRGB:function(t){var e,i,n;return a.isValidRGB(t)?(t=t.substring(1),e=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),n=parseInt(t.substr(4,2),16),[e,i,n]):!1},rgbToHEX:function(t,e,i){var n="#"+a.leadingZero(t.toString(16),2)+a.leadingZero(e.toString(16),2)+a.leadingZero(i.toString(16),2);return a.isValidRGB(n)?n:!1},colorNameToHex:function(t){return s[t.toLowerCase()]||t}};tui.util.defineNamespace("tui.chart"),tui.chart.colorutil=a,e.exports=a},{}],49:[function(t,e,i){"use strict";var n=Array.prototype.slice,s={create:function(t,e){var i=document.createElement(t);return e&&this.addClass(i,e),i},_getClassNames:function(t){var e,i;return t.classList?i=n.call(t.classList):(e=t.className||"",i=e&&tui.util.isString(e)?e.split(" "):[]),i},addClass:function(t,e){var i,n;t&&e&&(i=this._getClassNames(t),n=tui.util.inArray(e,i),n>-1||(i.push(e),t.className=i.join(" ")))},removeClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);-1!==n&&(i.splice(n,1),t.className=i.join(" "))},hasClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);return n>-1},findParentByClass:function(t,e,i){var n,s=t.parentNode;return n=s?this.hasClass(s,e)?s:"BODY"===s.nodeName||this.hasClass(s,i)?null:this.findParentByClass(s,e,i):null},append:function(t,e){t&&e&&(e=tui.util.isArray(e)?e:[e],tui.util.forEachArray(e,function(e){e&&t.appendChild(e)}))}};e.exports=s},{}],50:[function(t,e,i){"use strict";var n={_attachEvent:function(t,e,i,n){n&&(i=tui.util.bind(i,n)),e.attachEvent("on"+t,i)},_addEventListener:function(t,e,i,n){n&&(i=tui.util.bind(i,n)),e.addEventListener(t,i)},bindEvent:function(t,e,i,n){var s;"addEventListener"in e?s=this._addEventListener:"attachEvent"in e&&(s=this._attachEvent),this.bindEvent=s,s(t,e,i,n)}};e.exports=n},{}],51:[function(t,e,i){"use strict";var n=t("../const"),s={isBarChart:function(t){return t===n.CHART_TYPE_BAR},isColumnChart:function(t){return t===n.CHART_TYPE_COLUMN},isBarTypeChart:function(t){return s.isBarChart(t)||s.isColumnChart(t)},isComboChart:function(t){return t===n.CHART_TYPE_COMBO},isPieDonutComboChart:function(t,e){var i=tui.util.all(e,function(t){return s.isPieTypeChart(t)});return s.isComboChart(t)&&i},isLineChart:function(t){return t===n.CHART_TYPE_LINE},isAreaChart:function(t){return t===n.CHART_TYPE_AREA},isLineTypeChart:function(t){return s.isLineChart(t)||s.isAreaChart(t)},isBubbleChart:function(t){return t===n.CHART_TYPE_BUBBLE},isScatterChart:function(t){return t===n.CHART_TYPE_SCATTER},isPieChart:function(t){return t===n.CHART_TYPE_PIE},isDonutChart:function(t){return t===n.CHART_TYPE_DONUT},isPieTypeChart:function(t){return s.isPieChart(t)||s.isDonutChart(t)},isMapChart:function(t){return t===n.CHART_TYPE_MAP},isCoordinateTypeChart:function(t){return s.isBubbleChart(t)||s.isScatterChart(t)},allowMinusPointRender:function(t){return s.isLineTypeChart(t)||s.isCoordinateTypeChart(t)},isMousePositionChart:function(t){return s.isPieTypeChart(t)||s.isMapChart(t)||s.isCoordinateTypeChart(t)},isLabelAlignOuter:function(t){return t===n.LABEL_ALIGN_OUTER},isShowLabel:function(t){return t.showLabel||t.showLegend},isShowOuterLabel:function(t){return s.isShowLabel(t)&&s.isLabelAlignOuter(t.labelAlign)},isLegendAlignLeft:function(t){return t===n.LEGEND_ALIGN_LEFT},isLegendAlignTop:function(t){return t===n.LEGEND_ALIGN_TOP},isLegendAlignBottom:function(t){return t===n.LEGEND_ALIGN_BOTTOM},isHorizontalLegend:function(t){return s.isLegendAlignTop(t)||s.isLegendAlignBottom(t)},hasVerticalLegendWidth:function(t){return t=t||{},!s.isHorizontalLegend(t.align)&&t.visible},isAllowedStackOption:function(t){return s.isBarChart(t)||s.isColumnChart(t)||s.isAreaChart(t)},isNormalStack:function(t){return t===n.NORMAL_STACK_TYPE},isPercentStack:function(t){return t===n.PERCENT_STACK_TYPE},isValidStackOption:function(t){return t&&(s.isNormalStack(t)||s.isPercentStack(t))},isAllowRangeData:function(t){return s.isBarTypeChart(t)||s.isAreaChart(t)},isYAxisAlignCenter:function(t,e){return!t&&e===n.YAXIS_ALIGN_CENTER},isMinusLimit:function(t){return t.min<=0&&t.max<=0}};e.exports=s},{"../const":24}],52:[function(t,e,i){"use strict";var n=t("../const"),s={pickStacks:function(t){var e,i,s;return e=tui.util.map(t,function(t){return t.stack}),i=tui.util.unique(e).slice(0,2),s=tui.util.filter(i,function(t){return!!t}),s.length<i.length&&s.push(n.DEFAULT_STACK),s},sortSeriesData:function(t,e){var i=[];return tui.util.forEachArray(e,function(e){var s=tui.util.filter(t,function(t){return(t.stack||n.DEFAULT_STACK)===e});i=i.concat(s)}),i},removeSeriesStack:function(t){tui.util.forEachArray(t,function(t){delete t.stack})},findChartType:function(t,e){var i;return t&&(i=t[e]),i||e},getChartTypeMap:function(t){var e=this,i={};return tui.util.isObject(t.series)&&tui.util.forEach(t.series,function(n,s){i[e.findChartType(t.seriesAlias,s)]=!0}),i}};e.exports=s},{"../const":24}],53:[function(t,e,i){"use strict";var n=t("./domHandler"),s=t("./../const"),a=Array.prototype.concat,r=tui.util.browser,o=r.msie&&7===r.version,h=r.msie&&r.version<=8,l={concatStr:function(){return String.prototype.concat.apply("",arguments)},makeFontCssText:function(t){var e=[];return t?(t.fontSize&&e.push(this.concatStr("font-size:",t.fontSize,"px")),t.fontFamily&&e.push(this.concatStr("font-family:",t.fontFamily)),t.color&&e.push(this.concatStr("color:",t.color)),e.join(";")):""},checkEl:null,_createSizeCheckEl:function(){var t,e;return this.checkEl?this.checkEl.style.cssText="":(t=n.create("DIV","tui-chart-size-check-element"),e=n.create("SPAN"),t.appendChild(e),this.checkEl=t),this.checkEl},_makeCachingKey:function(t,e,i){var n=[t,i];return tui.util.forEach(e,function(t,e){n.push(t+e)}),n.join("-")},sizeCache:{},_addCssStyle:function(t,e){t.style.fontSize=(e.fontSize||s.DEFAULT_LABEL_FONT_SIZE)+"px",e.fontFamily&&(t.style.fontFamily=e.fontFamily),e.cssText&&(t.style.cssText+=e.cssText)},_getRenderedLabelSize:function(t,e,i){var n,s,a,r;return e=e||{},(t=tui.util.isExisty(t)?String(t):"")?(n=this._makeCachingKey(t,e,i),r=this.sizeCache[n],r||(s=this._createSizeCheckEl(),a=s.firstChild,a.innerHTML=t,this._addCssStyle(s,e),document.body.appendChild(s),r=a[i],document.body.removeChild(s),this.sizeCache[n]=r),r):0},getRenderedLabelWidth:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetWidth");return i},getRenderedLabelHeight:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetHeight");return i},_getRenderedLabelsMaxSize:function(t,e,i){var n,s=0;return t&&t.length&&(n=tui.util.map(t,function(t){return i(t,e)}),s=tui.util.max(n)),s},getRenderedLabelsMaxWidth:function(t,e){var i=tui.util.bind(this.getRenderedLabelWidth,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},getRenderedLabelsMaxHeight:function(t,e){var i=tui.util.bind(this.getRenderedLabelHeight,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},renderDimension:function(t,e){t.style.cssText=[this.concatStr("width:",e.width,"px"),this.concatStr("height:",e.height,"px")].join(";")},renderPosition:function(t,e){tui.util.isUndefined(e)||(tui.util.isUndefined(e.top)||(t.style.top=e.top+"px"),tui.util.isUndefined(e.left)||(t.style.left=e.left+"px"),tui.util.isUndefined(e.right)||(t.style.right=e.right+"px"))},renderBackground:function(t,e){e&&(t.style.background=e)},renderFontFamily:function(t,e){e&&(t.style.fontFamily=e)},renderTitle:function(t,e,i){var s,a;return t?(s=n.create("DIV",i),s.innerHTML=t,a=l.makeFontCssText(e),e.background&&(a+=";"+this.concatStr("background:",e.background)),s.style.cssText=a,s):null},expandBound:function(t){var e=t.dimension,i=t.position;return{dimension:{width:e.width+2*s.SERIES_EXPAND_SIZE,height:e.height+2*s.SERIES_EXPAND_SIZE},position:{left:i.left-s.SERIES_EXPAND_SIZE,top:i.top-s.SERIES_EXPAND_SIZE}}},makeCustomEventName:function(t,e,i){return t+tui.util.properCase(e)+tui.util.properCase(i)},formatValue:function(t,e,i,n){var s=[t].concat(e||[]);return n=n||"value",tui.util.reduce(s,function(t,e){return e(t,i,n)})},formatValues:function(t,e,i,n){var s;return e&&e.length?s=tui.util.map(t,function(t){return l.formatValue(t,e,i,n)}):t},cancelAnimation:function(t){t&&t.id&&(cancelAnimationFrame(t.id),delete t.id)},startAnimation:function(t,e){function i(){var a=(new Date).getTime()-n,r=Math.min(a/t,1);e(r),1===r?delete s.id:s.id=requestAnimationFrame(i)}var n,s={};return n=(new Date).getTime(),s.id=requestAnimationFrame(i),s},isIE7:function(){return o},isOldBrowser:function(){return h},formatToZeroFill:function(t,e){var i="0";if(t=String(t),t.length>=e)return t;for(;t.length<e;)t=i+t;return t},formatToDecimal:function(t,e){var i;return 0===e?Math.round(t):(i=Math.pow(10,e),t=Math.round(t*i)/i,t=parseFloat(t).toFixed(e))},formatToComma:function(t){var e,i,n,s,r=",",o="",h=3,l=t;return t=String(t),e=t.indexOf("-")>-1?"-":"",t.indexOf(".")>-1?(i=t.split("."),t=String(Math.abs(i[0])),o="."+i[1]):t=String(Math.abs(t)),t.length<=h?s=l:(i=t.split("").reverse(),n=i.length-1,i=tui.util.map(i,function(t,e){var i=[t];return n>e&&(e+1)%h===0&&i.push(r),i}),s=e+a.apply([],i).reverse().join("")+o),s}};tui.util.defineNamespace("tui.chart"),tui.chart.renderUtil=l,e.exports=l},{"./../const":24,"./domHandler":49}],54:[function(t,e,i){"use strict";e.exports={template:function(t){return function(e){var i=t;return tui.util.forEach(e,function(t,e){var n=new RegExp("{{\\s*"+e+"\\s*}}","g");i=i.replace(n,t)}),i}}}},{}],55:[function(t,e,i){"use strict";var n=tui.util.defineClass({register:function(t,e){this.on(t,e)}});tui.util.CustomEvents.mixin(n),e.exports=n},{}],56:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/domHandler"),a=t("../helpers/renderUtil"),r=t("../factories/pluginFactory"),o=t("./../legends/legendTemplate"),h=tui.util.defineClass({className:"tui-chart-circle-legend-area",circleRatios:[1,.5,.25],init:function(t){var e=t.libType||n.DEFAULT_PLUGIN;this.chartType=t.chartType,this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.labelTheme={fontSize:n.CIRCLE_LEGEND_LABEL_FONT_SIZE,fontFamily:t.baseFontFamily},this.graphRenderer=r.get(e,"circleLegend")},_formatLabel:function(t,e){var i=this.dataProcessor.getFormatFunctions();return 0===e?t=String(parseInt(t,10)):(t=String(t),t=a.formatToDecimal(t,e)),a.formatValue(t,i,"circleLegend","r")},_makeLabelHtml:function(){var t=this,e=this.boundsMaker,i=e.getDimension("circleLegend"),n=i.width/2,s=e.getMaxRadiusForBubbleChart(),r=this.dataProcessor.getMaxValue(this.chartType,"r"),h=tui.util.getDecimalLength(r),l=a.getRenderedLabelHeight(r,this.labelTheme);return tui.util.map(this.circleRatios,function(e){var u=s*e*2,c=t._formatLabel(r*e,h),d=a.getRenderedLabelWidth(c,t.labelTheme);return o.tplCircleLegendLabel({left:n-d/2,top:i.height-u-l,label:c})}).join("")},_renderLabelArea:function(){var t=s.create("DIV","tui-chart-circle-legend-label-area");t.innerHTML=this._makeLabelHtml(),this.container.appendChild(t)},_render:function(){var t=s.create("DIV","tui-chart-circle-area"),e=this.boundsMaker,i=e.getBound("circleLegend"),n=e.getMaxRadiusForBubbleChart();this.container.appendChild(t),this.graphRenderer.render(t,i.dimension,n,this.circleRatios),this._renderLabelArea(),a.renderPosition(this.container,i.position)},render:function(){var t=s.create("DIV",this.className);return this.container=t,this._render(),t},rerender:function(){this.container.innerHTML=null,this._render()},resize:function(){this.rerender()},_getCircleLegendLabelMaxWidth:function(){var t=this.dataProcessor.getFormattedMaxValue(this.chartType,"circleLegend","r"),e=a.getRenderedLabelWidth(t,{fontSize:this.labelTheme.fontSize,fontFamily:this.labelTheme.fontFamily});return e},_getCircleLegendWidth:function(){var t=this.boundsMaker.getMinimumPixelStepForAxis(),e=this._getCircleLegendLabelMaxWidth();return Math.max(2*t,e)+n.CIRCLE_LEGEND_PADDING},registerCircleLegendDimension:function(){var t=this._getCircleLegendWidth(),e=this.boundsMaker.getDimension("calculationLegend").width||n.MIN_LEGEND_WIDTH;t=Math.min(t,e),this.boundsMaker.registerBaseDimension("circleLegend",{width:t,height:t})}});e.exports=h},{"../const":24,"../factories/pluginFactory":42,"../helpers/domHandler":49,"../helpers/renderUtil":53,"./../legends/legendTemplate":60}],57:[function(t,e,i){"use strict";var n=t("./legendModel"),s=t("./legendDimensionModel"),a=t("../const"),r=t("../helpers/domHandler"),o=t("../helpers/predicate"),h=t("../helpers/eventListener"),l=t("../helpers/renderUtil"),u=t("./../legends/legendTemplate"),c=tui.util.defineClass({init:function(t){var e;this.theme=t.theme,this.options=t.options||{},this.chartType=t.chartType,this.chartTypes=t.chartTypes||[this.chartType],this.userEvent=t.userEvent,this.className="tui-chart-legend-area",this.checkedIndexes=[],this.boundsMaker=t.boundsMaker,this.dataProcessor=t.dataProcessor,e=t.dataProcessor.getLegendData(),this.legendModel=new n({theme:this.theme,labels:t.dataProcessor.getLegendLabels(),legendData:e,chartTypes:this.chartTypes,chartType:this.chartType}),this.dimensionModel=new s({legendLabels:tui.util.pluck(e,"label"),chartTypes:this.chartTypes,chartType:this.chartType,options:this.options,theme:this.theme})},registerDimension:function(){var t=this.boundsMaker.getDimension("chart").width,e=this.dimensionModel.makeDimension(t);this.boundsMaker.registerBaseDimension("legend",e),o.hasVerticalLegendWidth(this.options)&&this.boundsMaker.registerBaseDimension("calculationLegend",{width:e.width})},_renderLegendArea:function(t){t.innerHTML=this._makeLegendHtml(this.legendModel.getData()),l.renderPosition(t,this.boundsMaker.getPosition("legend")),t.style.cssText+=";"+l.makeFontCssText(this.theme.label)},render:function(){var t=r.create("DIV",this.className);return this.legendContainer=t,o.isHorizontalLegend(this.options.align)&&r.addClass(t,"horizontal"),this._renderLegendArea(t),this._attachEvent(t),t},rerender:function(){this._renderLegendArea(this.legendContainer)},resize:function(){this._renderLegendArea(this.legendContainer)},_makeLegendRectCssText:function(t,e){var i,n,s=t.theme,r=s.borderColor?l.concatStr(";border:1px solid ",s.borderColor):"";return n="line"===t.chartType?e+a.LINE_MARGIN_TOP:e,i=l.concatStr(";margin-top:",n,"px"),l.concatStr("background-color:",s.singleColor||s.color,r,i)},_makeLabelsWidth:function(t){var e=this;return tui.util.map(t,function(t){var i=l.getRenderedLabelWidth(t.label,e.theme.label);return i+a.LEGEND_AREA_PADDING})},_makeLegendHtml:function(t){var e=this,i=u.tplLegend,n=u.tplCheckbox,s=this._makeLabelsWidth(t),r=l.getRenderedLabelHeight(t[0].label,t[0].theme),h=o.isHorizontalLegend(this.options.align),c=r+2*a.LABEL_PADDING_TOP,d=parseInt((c-a.LEGEND_RECT_WIDTH)/2,10)-1,p=tui.util.map(t,function(t,a){var o,l=e._makeLegendRectCssText(t,d),u=e.options.showCheckbox===!1?"":n({index:a,checked:e.legendModel.isCheckedIndex(a)?" checked":""});return o={rectCssText:l,height:c,labelHeight:r,unselected:e.legendModel.isUnselectedIndex(a)?" unselected":"",labelWidth:h?";width:"+s[a]+"px":"",iconType:t.chartType||"rect",label:t.label,checkbox:u,index:a},i(o)}).join("");return p},_findLegendLabelElement:function(t){var e;return e=r.hasClass(t,a.CLASS_NAME_LEGEND_LABEL)?t:r.findParentByClass(t,a.CLASS_NAME_LEGEND_LABEL)},_fireLegendCheckboxEvent:function(){this.fire("changeCheckedLegends",this.legendModel.getCheckedIndexes())},_fireLegendSelectionEvent:function(t){var e=this,i=this.chartTypes||[t.chartType],n=this.legendModel.getSelectedIndex(),s=tui.util.isNull(n)?n:t.seriesIndex;tui.util.forEachArray(i,function(i){var n=e.dataProcessor.findChartType(i),a=e.dataProcessor.findChartType(t.chartType);e.fire(l.makeCustomEventName("select",n,"legend"),a,s)})},_fireUserEvent:function(t){this.userEvent.fire("selectLegend",{legend:t.label,chartType:t.chartType,index:t.index})},_selectLegend:function(t){var e=this.legendModel.getDatum(t);this.legendModel.toggleSelectedIndex(t),tui.util.isNull(this.legendModel.getSelectedIndex())||this.legendModel.isCheckedSelectedIndex()||(this.legendModel.checkSelectedIndex(),this._fireLegendCheckboxEvent()),this._renderLegendArea(this.legendContainer),this._fireLegendSelectionEvent(e),this._fireUserEvent(e)},_getCheckedIndexes:function(){var t=[];return tui.util.forEachArray(this.legendContainer.getElementsByTagName("input"),function(e,i){e.checked&&t.push(i)}),t},_checkLegend:function(){var t,e=this._getCheckedIndexes(),i=e.length,n=tui.util.all(this.chartTypes,o.isPieTypeChart);n&&1===i||0===i?this._renderLegendArea(this.legendContainer):(this.legendModel.updateCheckedData(e),t=this.legendModel.getSelectedDatum(),this.legendModel.isCheckedSelectedIndex()||this.legendModel.updateSelectedIndex(null),this._renderLegendArea(this.legendContainer),this._fireLegendCheckboxEvent(),t&&this._fireLegendSelectionEvent(t,!0))},_onClick:function(t){var e,i,n=t.target||t.srcElement;return r.hasClass(n,a.CLASS_NAME_LEGEND_CHECKBOX)?void this._checkLegend():(e=this._findLegendLabelElement(n),void(e&&(i=parseInt(e.getAttribute("data-index"),10),this._selectLegend(i))))},_attachEvent:function(t){h.bindEvent("click",t,this._onClick,this)}});tui.util.CustomEvents.mixin(c),e.exports=c},{"../const":24,"../helpers/domHandler":49,"../helpers/eventListener":50,"../helpers/predicate":51,"../helpers/renderUtil":53,"./../legends/legendTemplate":60,"./legendDimensionModel":58,"./legendModel":59}],58:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),a=t("../helpers/renderUtil"),r=tui.util.defineClass({init:function(t){this.chartType=t.chartType,this.chartTypes=t.chartTypes||[this.chartType],this.options=t.options,this.theme=t.theme,this.legendLabels=t.legendLabels,this.legendCheckboxWidth=this.options.showCheckbox===!1?0:n.LEGEND_CHECKBOX_WIDTH},_makeLegendWidth:function(t){return t+this.legendCheckboxWidth+n.LEGEND_RECT_WIDTH+n.LEGEND_LABEL_LEFT_PADDING+n.LEGEND_AREA_PADDING},_calculateLegendsWidthSum:function(t,e){var i=this;return tui.util.sum(tui.util.map(t,function(t){return i._makeLegendWidth(a.getRenderedLabelWidth(t,e))}))},_divideLegendLabels:function(t,e){var i=Math.round(t.length/e),n=[],s=[];return tui.util.forEachArray(t,function(t){s.length<i?s.push(t):(n.push(s),s=[t])}),s.length&&n.push(s),n},_getMaxLineWidth:function(t,e){var i=this,n=tui.util.map(t,function(t){return i._calculateLegendsWidthSum(t,e)});return tui.util.max(n)},_makeDividedLabelsAndMaxLineWidth:function(t,e,i){var n,s,a=1,r=0,o=0;do{if(n=this._divideLegendLabels(t,a),r=this._getMaxLineWidth(n,i),o===r){n=s;break}o=r,s=n,a+=1}while(r>=e);return{dividedLabels:n,maxLineWidth:r}},_calculateHorizontalLegendHeight:function(t,e){return tui.util.sum(tui.util.map(t,function(t){return a.getRenderedLabelsMaxHeight(t,e)}))},_makeHorizontalDimension:function(t){var e=this.theme.label,i=this._makeDividedLabelsAndMaxLineWidth(this.legendLabels,t,e),s=this._calculateHorizontalLegendHeight(i.dividedLabels,e),a=s+2*n.LEGEND_AREA_PADDING;
return{width:Math.max(i.maxLineWidth,n.MIN_LEGEND_WIDTH),height:a}},_makeVerticalDimension:function(){var t=a.getRenderedLabelsMaxWidth(this.legendLabels,this.theme.label),e=this._makeLegendWidth(t);return{width:e,height:0}},makeDimension:function(t){var e={};return this.options.visible?e=s.isHorizontalLegend(this.options.align)?this._makeHorizontalDimension(t):this._makeVerticalDimension():e.width=0,e}});e.exports=r},{"../const":24,"../helpers/predicate":51,"../helpers/renderUtil":53}],59:[function(t,e,i){"use strict";var n=t("../themes/defaultTheme"),s=Array.prototype.concat,a=tui.util.defineClass({init:function(t){this.theme=t.theme,this.labels=t.labels,this.legendData=t.legendData,this.chartTypes=t.chartTypes||[],this.chartType=t.chartType,this.data=null,this.selectedIndex=null,this.checkedIndexesMap={},this.checkedWholeIndexes=[],this._initCheckedIndexes(),this._setData()},_initCheckedIndexes:function(){var t=[];tui.util.forEachArray(this.legendData,function(e,i){t[i]=!0}),this.checkedWholeIndexes=t},_makeLabelInfoAppliedTheme:function(t,e,i){var n=0;return tui.util.map(t,function(t,s){var a={color:e.colors[s]};return e.singleColors&&e.singleColors.length&&(a.singleColor=e.singleColors[s]),e.borderColor&&(a.borderColor=e.borderColor),t.theme=a,t.index=s,i&&tui.util.isUndefined(i[s])?t.seriesIndex=-1:(t.seriesIndex=n,n+=1),t})},_setData:function(){var t,e,i,a,r=this,o=this.legendData;!this.chartTypes||this.chartTypes.length<2?t=this._makeLabelInfoAppliedTheme(o,this.theme,this.checkedIndexesMap[this.chartType]):(i=0,a=0,e={colors:n.series.colors},t=s.apply([],tui.util.map(this.chartTypes,function(t){var n,s,h,l,u=r.theme[t],c=r.labels[t].length,d=i+c;return u||(h=a+c,u=JSON.parse(JSON.stringify(e)),u.colors=u.colors.slice(a,h),a=h),n=o.slice(i,d),s=r.checkedIndexesMap[t],l=r._makeLabelInfoAppliedTheme(n,u,s),i=d,l}))),this.data=t},getData:function(){return this.data},getDatum:function(t){return this.data[t]},getSelectedDatum:function(){return this.getDatum(this.selectedIndex)},updateSelectedIndex:function(t){this.selectedIndex=t},toggleSelectedIndex:function(t){var e;e=this.selectedIndex===t?null:t,this.updateSelectedIndex(e)},getSelectedIndex:function(){return this.selectedIndex},isUnselectedIndex:function(t){return!tui.util.isNull(this.selectedIndex)&&this.selectedIndex!==t},isCheckedSelectedIndex:function(){return this.isCheckedIndex(this.selectedIndex)},_updateCheckedIndex:function(t){this.checkedWholeIndexes[t]=!0},isCheckedIndex:function(t){return!!this.checkedWholeIndexes[t]},_addSendingDatum:function(t){var e=this.getDatum(t);this.checkedIndexesMap[e.chartType]||(this.checkedIndexesMap[e.chartType]=[]),this.checkedIndexesMap[e.chartType][e.index]=!0},checkSelectedIndex:function(){this._updateCheckedIndex(this.selectedIndex),this._addSendingDatum(this.selectedIndex),this._setData()},getCheckedIndexes:function(){return this.checkedIndexesMap[this.chartType]||this.checkedIndexesMap},_resetCheckedData:function(){this.checkedWholeIndexes=[],this.checkedIndexesMap={}},updateCheckedData:function(t){var e=this;this._resetCheckedData(),tui.util.forEachArray(t,function(t){e._updateCheckedIndex(t),e._addSendingDatum(t)}),this._setData()}});e.exports=a},{"../themes/defaultTheme":92}],60:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_CHECKBOX:'<div class="tui-chart-legend-checkbox-area"><input class="tui-chart-legend-checkbox" type="checkbox" value="{{ index }}"{{ checked }} /></div>',HTML_LEGEND:'<div class="tui-chart-legend{{ unselected }}" style="height:{{ height }}px">{{ checkbox }}<div class="tui-chart-legend-rect {{ iconType }}" style="{{ rectCssText }}"></div><div class="tui-chart-legend-label" style="height:{{ labelHeight }}px{{ labelWidth }}" data-index="{{ index }}">{{ label }}</div></div>',HTML_TICK:'<div class="tui-chart-map-legend-tick" style="{{ position }}"></div><div class="tui-chart-map-legend-tick-label" style="{{ labelPosition }}">{{ label }}</div>',HTML_CIRCLE_LEGEND_LABEL:'<div class="tui-chart-circle-legend-label" style="left: {{ left }}px;top: {{ top }}px">{{ label }}</div>'};e.exports={tplCheckbox:n.template(s.HTML_CHECKBOX),tplLegend:n.template(s.HTML_LEGEND),tplTick:n.template(s.HTML_TICK),tplCircleLegendLabel:n.template(s.HTML_CIRCLE_LEGEND_LABEL)}},{"../helpers/templateMaker":54}],61:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),a=t("../helpers/domHandler"),r=t("../helpers/renderUtil"),o=t("../factories/pluginFactory"),h=t("./../legends/legendTemplate"),l=tui.util.defineClass({init:function(t){var e=t.libType||n.DEFAULT_PLUGIN;this.className="tui-chart-legend-area",this.theme=t.theme,this.options=t.options||{},this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.graphRenderer=o.get(e,"mapLegend"),this.isHorizontal=s.isHorizontalLegend(this.options.align)},_makeVerticalDimension:function(){var t=tui.util.max(this.dataProcessor.getValues()),e=this.dataProcessor.getFormatFunctions(),i=r.formatValue(t,e,"legend"),s=r.getRenderedLabelWidth(i,this.theme.label),a=n.LEGEND_AREA_PADDING+n.MAP_LEGEND_LABEL_PADDING;return{width:n.MAP_LEGEND_GRAPH_SIZE+s+a,height:n.MAP_LEGEND_SIZE}},_makeHorizontalDimension:function(){var t=tui.util.max(this.dataProcessor.getValues()),e=r.getRenderedLabelHeight(t,this.theme.label),i=n.LEGEND_AREA_PADDING+n.MAP_LEGEND_LABEL_PADDING;return{width:n.MAP_LEGEND_SIZE,height:n.MAP_LEGEND_GRAPH_SIZE+e+i}},registerDimension:function(){var t;t=this.isHorizontal?this._makeHorizontalDimension():this._makeVerticalDimension(),this.boundsMaker.registerBaseDimension("legend",t),this.boundsMaker.registerBaseDimension("calculationLegend",t)},_makeBaseDataToMakeTickHtml:function(){var t,e=this.boundsMaker.getDimension("legend"),i=this.axesData.tickCount-1,n={};return this.isHorizontal?(n.startPositionValue=5,n.step=e.width/i,n.positionType="left:"):(n.startPositionValue=0,n.step=e.height/i,n.positionType="top:",t=this.axesData.labels[0],n.labelSize=parseInt(r.getRenderedLabelHeight(t,this.theme.label)/2,10)-1),n},_makeTickHtml:function(){var t,e=this,i=this._makeBaseDataToMakeTickHtml(),n=i.startPositionValue;return t=tui.util.map(this.axesData.labels,function(t){var s,a;return s=e.isHorizontal?parseInt(r.getRenderedLabelWidth(t,e.theme.label)/2,10):i.labelSize,a=h.tplTick({position:i.positionType+n+"px",labelPosition:i.positionType+(n-s)+"px",label:t}),n+=i.step,a}),t.join("")},_renderTickArea:function(){var t=a.create("div","tui-chart-legend-tick-area");return t.innerHTML=this._makeTickHtml(),this.isHorizontal&&a.addClass(t,"horizontal"),t},_makeVerticalGraphDimension:function(){return{width:n.MAP_LEGEND_GRAPH_SIZE,height:this.boundsMaker.getDimension("legend").height}},_makeHorizontalGraphDimension:function(){return{width:this.boundsMaker.getDimension("legend").width+10,height:n.MAP_LEGEND_GRAPH_SIZE}},_renderGraph:function(t){var e;e=this.isHorizontal?this._makeHorizontalGraphDimension():this._makeVerticalGraphDimension(),this.graphRenderer.render(t,e,this.colorModel,this.isHorizontal)},_renderLegendArea:function(t){var e;t.innerHTML="",r.renderPosition(t,this.boundsMaker.getPosition("legend")),this._renderGraph(t),e=this._renderTickArea(),t.appendChild(e),t.style.cssText+=";"+r.makeFontCssText(this.theme.label)},render:function(t){var e=a.create("DIV",this.className);return this.legendContainer=e,this.colorModel=t.colorModel,this.axesData=t.axesData,this._renderLegendArea(e),e},resize:function(){this._renderLegendArea(this.legendContainer)},onShowWedge:function(t){this.graphRenderer.showWedge(n.MAP_LEGEND_SIZE*t)},onHideWedge:function(){this.graphRenderer.hideWedge()}});tui.util.CustomEvents.mixin(l),e.exports=l},{"../const":24,"../factories/pluginFactory":42,"../helpers/domHandler":49,"../helpers/predicate":51,"../helpers/renderUtil":53,"./../legends/legendTemplate":60}],62:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),s=t("../helpers/calculator"),a=t("../helpers/renderUtil"),r=t("./plotTemplate"),o=tui.util.defineClass({init:function(t){this.className="tui-chart-plot-area",this.boundsMaker=t.boundsMaker,this.options=t.options||{},this.options.showLine=tui.util.isUndefined(this.options.showLine)?!0:this.options.showLine,this.theme=t.theme||{},this.data={}},_renderPlotArea:function(t,e){var i=this.boundsMaker.getDimension("plot");this.data=e,a.renderDimension(t,i),a.renderPosition(t,this.boundsMaker.getPosition("plot")),this.options.showLine&&this._renderLines(t,i)},render:function(t){var e=n.create("DIV",this.className);return this._renderPlotArea(e,t),this.plotContainer=e,e},rerender:function(t){this.plotContainer.innerHTML="",this._renderPlotArea(this.plotContainer,t)},resize:function(t){this.rerender(t)},_renderLines:function(t,e){var i=this._makeHorizontalPixelPositions(e.width),n=this._makeVerticalPixelPositions(e.height),s=this.theme,r="";r+=this._makeLineHtml({positions:i,size:e.height,className:"vertical",positionType:"left",sizeType:"height",lineColor:s.lineColor}),r+=this._makeLineHtml({positions:n,size:e.width,className:"horizontal",positionType:"bottom",sizeType:"width",lineColor:s.lineColor}),t.innerHTML=r,a.renderBackground(t,s.background)},_makeLineHtml:function(t){var e=r.tplPlotLine,i=tui.util.map(t.positions,function(i){var n,s=[a.concatStr(t.positionType,":",i,"px"),a.concatStr(t.sizeType,":",t.size,"px")];return t.lineColor&&s.push(a.concatStr("background-color:",t.lineColor)),n={className:t.className,cssText:s.join(";")},e(n)}).join("");return i},_makeVerticalPixelPositions:function(t){var e=s.makeTickPixelPositions(t,this.data.vTickCount);return e.shift(),e},_makeDividedPlotPositions:function(t){var e,i,n,a,r=parseInt(this.data.hTickCount/2,10)+1,o=this.boundsMaker.getDimension("yAxis").width;return t-=o,e=Math.round(t/2),i=t-e,n=s.makeTickPixelPositions(e,r),a=s.makeTickPixelPositions(i,r,e+o),n.pop(),a.shift(),n.concat(a)},_makeHorizontalPixelPositions:function(t){var e;return this.options.divided?e=this._makeDividedPlotPositions(t):(e=s.makeTickPixelPositions(t,this.data.hTickCount),e.shift()),e}});e.exports=o},{"../helpers/calculator":47,"../helpers/domHandler":49,"../helpers/renderUtil":53,"./plotTemplate":63}],63:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_PLOT_LINE:'<div class="tui-chart-plot-line {{ className }}" style="{{ cssText }}"></div>'};e.exports={tplPlotLine:n.template(s.HTML_PLOT_LINE)}},{"../helpers/templateMaker":54}],64:[function(t,e,i){"use strict";var n=t("./raphaelBarChart"),s=t("./raphaelLineChart"),a=t("./raphaelAreaChart"),r=t("./raphaelPieChart"),o=t("./raphaelCoordinateTypeChart"),h=t("./raphaelMapChart"),l=t("./raphaelMapLegend"),u=t("./raphaelCircleLegend"),c="raphael",d={bar:n,column:n,line:s,area:a,pie:r,bubble:o,scatter:o,map:h,mapLegend:l,circleLegend:u};tui.chart.registerPlugin(c,d)},{"./raphaelAreaChart":65,"./raphaelBarChart":66,"./raphaelCircleLegend":67,"./raphaelCoordinateTypeChart":68,"./raphaelLineChart":69,"./raphaelMapChart":71,"./raphaelMapLegend":72,"./raphaelPieChart":73}],65:[function(t,e,i){"use strict";var n=t("./raphaelLineTypeBase"),s=t("./raphaelRenderUtil"),a=1,r=.3,o=window.Raphael,h=Array.prototype.concat,l=tui.util.defineClass(n,{init:function(){this.selectedLegendIndex=null,this.chartType="area"},render:function(t,e){var i,n=e.dimension,s=e.groupPositions,a=e.theme,r=a.colors,h=e.options.showDot?1:0,l=this.makeBorderStyle(a.borderColor,h),u=this.makeOutDotStyle(h,l);return this.paper=i=o(t,1,n.height),this.isSpline=e.options.spline,this.dimension=n,this.zeroTop=e.zeroTop,this.hasRangeData=e.hasRangeData,this.groupPaths=this.isSpline?this._getSplineAreasPath(s):this._getAreasPath(s),this.groupAreas=this._renderAreas(i,this.groupPaths,r),this.tooltipLine=this._renderTooltipLine(i,n.height),this.groupDots=this._renderDots(i,s,r,h),e.options.allowSelect&&(this.selectionDot=this._makeSelectionDot(i),this.selectionColor=a.selectionColor,this.hasRangeData&&(this.selectionStartDot=this._makeSelectionDot(i))),this.outDotStyle=u,this.groupPositions=s,this.dotOpacity=h,delete this.pivotGroupDots,i},_renderAreas:function(t,e,i){var n;return i=i.slice(0,e.length),i.reverse(),e.reverse(),n=tui.util.map(e,function(e,n){var a=i[n]||"transparent",r=a,o={area:s.renderArea(t,e.area.join(" "),{fill:a,opacity:.5,stroke:a}),line:s.renderLine(t,e.line.join(" "),r,1)};return e.startLine&&(o.startLine=s.renderLine(t,e.startLine.join(" "),r,1)),o}),n.reverse()},_makeHeight:function(t,e){return Math.abs(t-e)},_makeAreasPath:function(t){var e=2*t.length,i=[];return tui.util.forEachArray(t,function(t,n){i[n]=["L",t.left,t.top],i[e-n-1]=["L",t.left,t.startTop]}),i=h.apply([],i),i[0]="M",i},_getAreasPath:function(t){var e=this;return tui.util.map(t,function(t){var i;return t[0].left-=1,i={area:e._makeAreasPath(t),line:e._makeLinesPath(t)},e.hasRangeData&&(i.startLine=e._makeLinesPath(t,"startTop")),i})},_makeSplineAreaBottomPath:function(t){var e=this;return tui.util.map(t,function(t){return["L",t.left,e.zeroTop]}).reverse()},_getSplineAreasPath:function(t){var e=this;return tui.util.map(t,function(t){var i,n;return t[0].left-=1,i=e._makeSplineLinesPath(t),n=e._makeSplineAreaBottomPath(t),{area:i.concat(n),line:i}})},resize:function(t){var e=this,i=t.dimension,n=t.groupPositions;this.groupPositions=n,this.groupPaths=this.isSpline?this._getSplineAreasPath(n):this._getAreasPath(n),this.paper.setSize(i.width,i.height),this.tooltipLine.attr({top:i.height}),tui.util.forEachArray(this.groupPaths,function(t,i){var s=e.groupAreas[i];s.area.attr({path:t.area.join(" ")}),s.line.attr({path:t.line.join(" ")}),s.startLine&&s.startLine.attr({path:t.startLine.join(" ")}),tui.util.forEachArray(e.groupDots[i],function(t,s){var a,r=n[i][s];e._moveDot(t.dot.dot,r),t.startDot&&(a=tui.util.extend({},r),a.top=a.startTop,e._moveDot(t.startDot.dot,a))})})},selectLegend:function(t){var e=this,i=tui.util.isNull(t);this.selectedLegendIndex=t,tui.util.forEachArray(this.groupPaths,function(n,s){var o=e.groupAreas[s],h=i||t===s?a:r;o.area.attr({"fill-opacity":h}),o.line.attr({"stroke-opacity":h}),o.startLine&&o.startLine.attr({"stroke-opacity":h}),tui.util.forEachArray(e.groupDots[s],function(t){e.dotOpacity&&(t.dot.dot.attr({"fill-opacity":h}),t.startDot&&t.startDot.dot.attr({"fill-opacity":h}))})})}});e.exports=l},{"./raphaelLineTypeBase":70,"./raphaelRenderUtil":74}],66:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=window.Raphael,a=700,r=1,o=.3,h=.2,l=tui.util.defineClass({render:function(t,e){var i,n=e.groupBounds,a=e.dimension;return n?(this.paper=i=s(t,a.width,a.height),this.theme=e.theme,this.seriesDataModel=e.seriesDataModel,this.chartType=e.chartType,this.groupBars=this._renderBars(n),this.groupBorders=this._renderBarBorders(n),this.overlay=this._renderOverlay(),this.theme=e.theme,this.groupBounds=n,i):null},_renderOverlay:function(){var t=this._renderBar({bound:{width:1,height:1,left:0,top:0},color:"#fff"}).attr({"fill-opacity":0});return t},_renderBar:function(t,e){var i;return t.width<0||t.height<0?null:(i=this.paper.rect(t.left,t.top,t.width,t.height),i.attr({fill:e,stroke:"none"}),i)},_renderBars:function(t){var e,i=this,n=[],s=this.theme.colors;return 1===t[0].length&&this.theme.singleColors&&(n=this.theme.singleColors),e=tui.util.map(t,function(t,e){var a=n[e];return tui.util.map(t,function(t,n){var r,o,h;return t?(h=i.seriesDataModel.getSeriesItem(e,n,i.chartType),r=a||s[n],o=i._renderBar(t.start,r),{rect:o,color:r,bound:t.end,item:h,groupIndex:e,index:n,isRange:h.isRange}):null})})},_makeRectPoints:function(t){return{leftTop:{left:Math.ceil(t.left),top:Math.ceil(t.top)},rightTop:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top)},rightBottom:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top+t.height)},leftBottom:{left:Math.ceil(t.left),top:Math.ceil(t.top+t.height)}}},_makeTopLinePath:function(t,e,i){var s,a=null,r=i.value;return("bar"===e||r>=0||i.isRange)&&(s=tui.util.extend({},t.leftTop),s.left-="column"===e||0>r?1:0,a=n.makeLinePath(s,t.rightTop).join(" ")),a},_makeRightLinePath:function(t,e,i){var s=null;return("column"===e||i.value>=0||i.isRange)&&(s=n.makeLinePath(t.rightTop,t.rightBottom).join(" ")),s},_makeBottomLinePath:function(t,e,i){var s=null;return("bar"===e||i.value<0||i.isRange)&&(s=n.makeLinePath(t.leftBottom,t.rightBottom).join(" ")),s},_makeLeftLinePath:function(t,e,i){var s=null;return("column"===e||i.value<0||i.isRange)&&(s=n.makeLinePath(t.leftTop,t.leftBottom).join(" ")),s},_makeBorderLinesPaths:function(t,e,i){var n=this._makeRectPoints(t),s={top:this._makeTopLinePath(n,e,i),right:this._makeRightLinePath(n,e,i),bottom:this._makeBottomLinePath(n,e,i),left:this._makeLeftLinePath(n,e,i)};return tui.util.filter(s,function(t){return t})},_renderBorderLines:function(t,e,i,s){var a=this,r=this._makeBorderLinesPaths(t,i,s),o={};return tui.util.forEach(r,function(t,i){o[i]=n.renderLine(a.paper,t,e,1)}),o},_renderBarBorders:function(t){var e,i=this,n=this.theme.borderColor;return n?e=tui.util.map(t,function(t,e){return tui.util.map(t,function(t,s){var a;return t?(a=i.seriesDataModel.getSeriesItem(e,s,i.chartType),i._renderBorderLines(t.start,n,i.chartType,a)):null})}):null},_animateRect:function(t,e){t.animate({x:e.left,y:e.top,width:e.width,height:e.height},a)},_animateBorders:function(t,e,i,n){var s=this._makeBorderLinesPaths(e,i,n);tui.util.forEach(t,function(t,e){t.animate({path:s[e]},a)})},animate:function(t){var e=this,i=this.groupBorders||[];this.callbackTimeout&&(clearTimeout(this.callbackTimeout),delete this.callbackTimeout),n.forEach2dArray(this.groupBars,function(t,n,s){var a=i[n]&&i[n][s];t&&(e._animateRect(t.rect,t.bound),a&&e._animateBorders(a,t.bound,e.chartType,t.item))}),t&&(this.callbackTimeout=setTimeout(function(){t(),delete e.callbackTimeout},a))},showAnimation:function(t){var e=this.groupBars[t.groupIndex][t.index],i=e.bound;this.overlay.attr({width:i.width,height:i.height,x:i.left,y:i.top,"fill-opacity":.3})},hideAnimation:function(){this.overlay.attr({width:1,height:1,x:0,y:0,"fill-opacity":0})},_updateRectBound:function(t,e){t.attr({x:e.left,y:e.top,width:e.width,height:e.height})},_updateBordersPath:function(t,e,i,n){var s=this._makeBorderLinesPaths(e,i,n);tui.util.forEach(t,function(t,e){t.attr({path:s[e]})})},resize:function(t){var e=this,i=this.groupBorders||[],s=t.dimension,a=t.groupBounds;this.groupBounds=a,this.paper.setSize(s.width,s.height),n.forEach2dArray(this.groupBars,function(t,n,s){var r,o;t&&(r=i[n]&&i[n][s],o=a[n][s].end,t.bound=o,e._updateRectBound(t.rect,o),r&&e._updateBordersPath(r,o,e.chartType,t.item))})},_changeBordersColor:function(t,e){tui.util.forEach(t,function(t){t.attr({stroke:e})})},_changeBarColor:function(t,e,i){var n,s=this.groupBars[t.groupIndex][t.index];s.rect.attr({fill:e}),i&&(n=this.groupBorders[t.groupIndex][t.index],this._changeBordersColor(n,i))},selectSeries:function(t){var e,i=this.groupBars[t.groupIndex][t.index],a=s.color(i.color),r=this.theme.selectionColor,o=r||n.makeChangedLuminanceColor(a.hex,h),l=this.theme.borderColor;l&&(e=s.color(l),l=n.makeChangedLuminanceColor(e.hex,h)),this._changeBarColor(t,o,l)},unselectSeries:function(t){var e=this.groupBars[t.groupIndex][t.index],i=this.theme.borderColor;this._changeBarColor(t,e.color,i)},selectLegend:function(t){var e=this.groupBorders||[],i=tui.util.isNull(t);n.forEach2dArray(this.groupBars,function(n,s,a){var h,l;n&&(h=e[s]&&e[s][a],l=i||t===a?r:o,n.rect.attr({"fill-opacity":l}),h&&tui.util.forEach(h,function(t){t.attr({"stroke-opacity":l})}))})}});e.exports=l},{"./raphaelRenderUtil":74}],67:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=window.Raphael,a=tui.util.defineClass({render:function(t,e,i,n){var a=s(t,e.width,e.height);return this.paper=a,this._renderCircles(e,i,n),a},_renderCircles:function(t,e,i){var s=this.paper,a=t.width/2;tui.util.forEachArray(i,function(i){var r=e*i,o=t.height-r-1;n.renderCircle(s,{left:a,top:o},r,{fill:"none",opacity:1,stroke:"#888","stroke-width":1})})}});e.exports=a},{"./raphaelRenderUtil":74}],68:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=window.Raphael,a=700,r=.5,o=.3,h=.5,l=.3,u=.2,c=2,d=tui.util.defineClass({render:function(t,e,i){var n,a=e.dimension;return this.paper=n=s(t,a.width,a.height),this.container=t,this.theme=e.theme,this.seriesDataModel=e.seriesDataModel,this.groupBounds=e.groupBounds,this.callbacks=i,this.overlay=this._renderOverlay(),this.groupCircleInfos=this._renderCircles(),this.prevCircle=null,this.prevOverCircle=null,this.animationTimeoutId=null,n},_renderOverlay:function(){var t={left:0,top:0},e={fill:"none",stroke:"#fff","stroke-opacity":o,"stroke-width":2},i=n.renderCircle(this.paper,t,0,e);return i},_renderCircles:function(){var t=this,e=this.theme.colors,i=[];return 1===this.groupBounds[0].length&&this.theme.singleColors&&(i=this.theme.singleColors),tui.util.map(this.groupBounds,function(s,a){var r=i[a];return tui.util.map(s,function(i,s){var o,h,l=null;return i&&(o=r||e[s],h=n.renderCircle(t.paper,i,0,{fill:o,opacity:0,stroke:"none"}),h.data("groupIndex",a),h.data("index",s),l={circle:h,color:o,bound:i}),l})})},_animateCircle:function(t,e){t.animate({r:e,opacity:r},a)},animate:function(t){var e=this;this.animationTimeoutId&&(clearTimeout(this.animationTimeoutId),this.animationTimeoutId=null),n.forEach2dArray(this.groupCircleInfos,function(t){t&&e._animateCircle(t.circle,t.bound.radius)}),t&&(this.animationTimeoutId=setTimeout(function(){t(),this.animationTimeoutId=null},a))},_updatePosition:function(t,e){t.attr({cx:e.left,cy:e.top,r:e.radius})},resize:function(t){var e=this,i=t.dimension,s=t.groupBounds;this.groupBounds=s,this.paper.setSize(i.width,i.height),n.forEach2dArray(this.groupCircleInfos,function(t,i,n){var a=s[i][n];t.bound=a,e._updatePosition(t.circle,a)})},clickSeries:function(t){var e=this.paper.getElementByPoint(t.left,t.top),i=this.prevCircle;e&&i&&this._unselectSeries(i.data("groupIndex"),i.data("index")),i===e?this.prevCircle=null:e&&(this._selectSeries(e.data("groupIndex"),e.data("index")),this.prevCircle=e)},_getContainerBound:function(){return this.containerBound||(this.containerBound=this.container.getBoundingClientRect()),this.containerBound},_isChangedPosition:function(t,e){return!t||t.left!==e.left||t.top!==e.top},_showOverlay:function(t,e){var i=this.groupCircleInfos[t][e],n=i.bound;this.overlay.attr({cx:n.left,cy:n.top,r:n.radius+c,stroke:i.color,opacity:1})},_hideOverlay:function(){this.overlay.attr({cx:0,cy:0,r:0,opacity:0})},_findCircle:function(t){for(var e,i,n=[],s=this.paper;tui.util.isUndefined(e);)i=s.getElementByPoint(t.left,t.top),i?i.attrs.opacity>l?e=i:(n.push(i),i.hide()):e=null;return e||(e=n[0]),tui.util.forEachArray(n,function(t){t.show()}),e},moveMouseOnSeries:function(t){var e,i,n,s,a,r=this._findCircle(t);r&&tui.util.isExisty(r.data("groupIndex"))?(e=this._getContainerBound(),i=this.prevOverCircle!==r,n=r.data("groupIndex"),s=r.data("index"),a=[{},n,s,{left:t.left-e.left,top:t.top-e.top}],i&&this._showOverlay(n,s),this._isChangedPosition(this.prevPosition,t)&&(this.callbacks.showTooltip.apply(null,a),this.prevOverCircle=r)):this.prevOverCircle&&(this._hideOverlay(),this.callbacks.hideTooltip(),this.prevOverCircle=null),this.prevPosition=t},_selectSeries:function(t,e){var i=this.groupCircleInfos[t][e],a=s.color(i.color),r=this.theme.selectionColor,o=r||n.makeChangedLuminanceColor(a.hex,u);i.circle.attr({fill:o})},_unselectSeries:function(t,e){var i=this.groupCircleInfos[t][e];i.circle.attr({fill:i.color})},selectLegend:function(t){var e=tui.util.isNull(t);n.forEach2dArray(this.groupCircleInfos,function(i,n,s){var a;i&&(a=e||t===s?h:l,i.circle.attr({opacity:a}))})}});e.exports=d},{"./raphaelRenderUtil":74}],69:[function(t,e,i){"use strict";var n=t("./raphaelLineTypeBase"),s=t("./raphaelRenderUtil"),a=window.Raphael,r=1,o=.3,h=tui.util.defineClass(n,{init:function(){this.selectedLegendIndex=null,this.chartType="line"},render:function(t,e){var i,n=e.dimension,s=e.groupPositions,r=e.theme,o=r.colors,h=e.options.showDot?1:0,l=e.options.spline,u=l?this._getSplineLinesPath(s):this._getLinesPath(s),c=this.makeBorderStyle(r.borderColor,h),d=this.makeOutDotStyle(h,c);return this.paper=i=a(t,1,n.height),this.isSpline=l,this.dimension=n,this.groupLines=this._renderLines(i,u,o),this.tooltipLine=this._renderTooltipLine(i,n.height),this.groupDots=this._renderDots(i,s,o,h),e.options.allowSelect&&(this.selectionDot=this._makeSelectionDot(i),this.selectionColor=r.selectionColor),this.colors=o,this.borderStyle=c,this.outDotStyle=d,this.groupPositions=s,this.groupPaths=u,this.dotOpacity=h,delete this.pivotGroupDots,i},_getLinesPath:function(t){var e=this;return tui.util.map(t,function(t){return t[0].left-=1,e._makeLinesPath(t)})},_getSplineLinesPath:function(t){return tui.util.map(t,this._makeSplineLinesPath,this)},_renderLines:function(t,e,i,n){return tui.util.map(e,function(e,a){var r=i[a]||"transparent";return s.renderLine(t,e.join(" "),r,n)})},resize:function(t){var e=this,i=t.dimension,n=t.groupPositions;this.groupPositions=n,this.groupPaths=this.isSpline?this._getSplineLinesPath(n):this._getLinesPath(n),this.paper.setSize(i.width,i.height),this.tooltipLine.attr({top:i.height}),tui.util.forEachArray(this.groupPaths,function(t,i){e.groupLines[i].attr({path:t.join(" ")}),tui.util.forEachArray(e.groupDots[i],function(t,s){e._moveDot(t.dot.dot,n[i][s])})})},selectLegend:function(t){var e=this,i=tui.util.isNull(t);this.selectedLegendIndex=t,tui.util.forEachArray(this.groupPaths,function(n,s){var a=i||t===s?r:o;e.groupLines[s].attr({"stroke-opacity":a}),tui.util.forEachArray(e.groupDots[s],function(t){t.opacity=a,e.dotOpacity&&t.dot.dot.attr({"fill-opacity":a})})})}});e.exports=h},{"./raphaelLineTypeBase":70,"./raphaelRenderUtil":74}],70:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=700,a=3,r=4,o=7,h=.3,l=Array.prototype.concat,u=tui.util.defineClass({_makeLinesPath:function(t,e){var i;return e=e||"top",i=tui.util.map(t,function(t){return["L",t.left,t[e]]}),i=l.apply([],i),i[0]="M",i},_getAnchor:function(t,e,i){var n,s,a,r,o,h=(e.left-t.left)/2,l=(i.left-e.left)/2,u=Math.atan((e.left-t.left)/Math.abs(e.top-t.top)),c=Math.atan((i.left-e.left)/Math.abs(e.top-i.top));return u=t.top<e.top?Math.PI-u:u,c=i.top<e.top?Math.PI-c:c,n=Math.PI/2-(u+c)%(2*Math.PI)/2,s=h*Math.sin(n+u),a=h*Math.cos(n+u),r=l*Math.sin(n+c),o=l*Math.cos(n+c),{x1:e.left-s,y1:e.top+a,x2:e.left+r,y2:e.top+o}},_makeSplineLinesPath:function(t){var e=this,i=t[0],n=t.length,s=i,a=t[n-1],r=t.slice(1).slice(0,n-2),o=tui.util.map(r,function(i,n){var a=t[n+2],r=e._getAnchor(s,i,a);return s=i,[r.x1,r.y1,i.left,i.top,r.x2,r.y2]});return i.left-=1,o.push([a.left,a.top,a.left,a.top]),o.unshift(["M",i.left,i.top,"C",i.left,i.top]),o},_renderTooltipLine:function(t,e){var i=n.makeLinePath({left:10,top:e},{left:10,top:0});return n.renderLine(t,i,"transparent",1)},makeBorderStyle:function(t,e){var i;return t&&(i={stroke:t,"stroke-width":1,"stroke-opacity":e}),i},makeOutDotStyle:function(t,e){var i={"fill-opacity":t,"stroke-opacity":0,r:a};return e&&tui.util.extend(i,e),i},renderDot:function(t,e,i,n){var s=t.circle(e.left,e.top,a),r={fill:i,"fill-opacity":n,"stroke-opacity":0};return s.attr(r),{dot:s,color:i}},_renderDots:function(t,e,i,n){var s=this,a=tui.util.map(e,function(e,a){var r=i[a];return tui.util.map(e,function(e){var i,a={dot:s.renderDot(t,e,r,n)};return s.hasRangeData&&(i=tui.util.extend({},e),i.top=i.startTop,a.startDot=s.renderDot(t,i,r,n)),a})});return a},_getCenter:function(t,e){return{left:(t.left+e.left)/2,top:(t.top+e.top)/2}},_showDot:function(t){t.attr({"fill-opacity":1,"stroke-opacity":.3,"stroke-width":2,r:r})},_updateLineStrokeWidth:function(t,e){t.attr({"stroke-width":e})},showAnimation:function(t){var e,i,n=t.groupIndex,s=t.index,a=this.groupLines?this.groupLines[s]:this.groupAreas[s],r=this.groupDots[s][n];"area"===this.chartType?(e=2,i=a.startLine,a=a.line):e=3,this._updateLineStrokeWidth(a,e),i&&this._updateLineStrokeWidth(i,e),this._showDot(r.dot.dot),r.startDot&&this._showDot(r.startDot.dot)},_getPivotGroupDots:function(){return this.pivotGroupDots||(this.pivotGroupDots=tui.util.pivot(this.groupDots)),this.pivotGroupDots},_showGroupDots:function(t){var e=this,i=this._getPivotGroupDots();tui.util.forEachArray(i[t],function(t){e._showDot(t.dot.dot)})},showGroupTooltipLine:function(t){var e=n.makeLinePath({left:t.position.left,top:t.position.top+t.dimension.height},{left:t.position.left,top:t.position.top});this.tooltipLine.attr({path:e,stroke:"#999","stroke-opacity":1})},showGroupAnimation:function(t){this._showGroupDots(t)},_hideDot:function(t,e){var i=this.outDotStyle;tui.util.isUndefined(e)||(i=tui.util.extend({},this.outDotStyle,{"fill-opacity":e})),t.attr(i)},hideAnimation:function(t){var e,i,n=t.groupIndex,s=t.index,a=this.groupLines?this.groupLines[s]:this.groupAreas[s],r=this.groupDots[s][n],o=this.dotOpacity;"area"===this.chartType?(e=1,i=a.startLine,a=a.line):e=2,o&&!tui.util.isNull(this.selectedLegendIndex)&&this.selectedLegendIndex!==s&&(o=h),a&&this._updateLineStrokeWidth(a,e),i&&this._updateLineStrokeWidth(i,e),r&&(this._hideDot(r.dot.dot,o),r.startDot&&this._hideDot(r.startDot.dot,o))},_hideGroupDots:function(t){var e=this,i=this._getPivotGroupDots(),n=!tui.util.isNull(this.selectedLegendIndex),s=this.dotOpacity;tui.util.forEachArray(i[t],function(t,i){var a=s;a&&n&&e.selectedLegendIndex!==i&&(a=h),e._hideDot(t.dot.dot,a)})},hideGroupTooltipLine:function(){this.tooltipLine.attr({"stroke-opacity":0})},hideGroupAnimation:function(t){this._hideGroupDots(t)},_moveDot:function(t,e){var i={cx:e.left,cy:e.top};this.dotOpacity&&(i=tui.util.extend({"fill-opacity":this.dotOpacity},i,this.borderStyle)),t.attr(i)},animate:function(t){var e=this,i=this.dimension.width,n=this.dimension.height;tui.chart.renderUtil.cancelAnimation(this.animation),this.animation=tui.chart.renderUtil.startAnimation(s,function(s){var a=Math.min(i*s,i);e.paper.setSize(a,n),1===s&&t()})},_makeSelectionDot:function(t){var e=t.circle(0,0,o);return e.attr({fill:"#ffffff","fill-opacity":0,"stroke-opacity":0,"stroke-width":2}),e},selectSeries:function(t){var e=this.groupDots[t.index][t.groupIndex],i=this.groupPositions[t.index][t.groupIndex];this.selectedItem=e,this.selectionDot.attr({cx:i.left,cy:i.top,"fill-opacity":.5,"stroke-opacity":1,stroke:this.selectionColor||e.dot.color}),this.selectionStartDot&&this.selectionStartDot.attr({cx:i.left,cy:i.startTop,"fill-opacity":.5,"stroke-opacity":1,stroke:this.selectionColor||e.startDot.color})},unselectSeries:function(t){var e=this.groupDots[t.index][t.groupIndex];this.selectedItem===e&&this.selectionDot.attr({"fill-opacity":0,"stroke-opacity":0}),this.selectionStartDot&&this.selectionStartDot.attr({"fill-opacity":0,"stroke-opacity":0})}});e.exports=u},{"./raphaelRenderUtil":74}],71:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=window.Raphael,a="gray",r=100,o=tui.util.defineClass({render:function(t,e){var i,n=e.dimension,a=e.mapModel.getMapDimension();return this.paper=i=s(t,n.width,n.height),this.sectors=this._renderMap(e),this.overColor=e.theme.overColor,i.setViewBox(0,0,a.width,a.height,!1),i},_renderMap:function(t){var e=this.paper,i=t.colorModel;return tui.util.map(t.mapModel.getMapData(),function(t,s){var r=t.ratio||0,o=i.getColor(r),h=n.renderArea(e,t.path,{fill:o,opacity:1,stroke:a,"stroke-opacity":1});return h.data("index",s),{sector:h,color:o,ratio:t.ratio}})},findSectorIndex:function(t){var e=this.paper.getElementByPoint(t.left,t.top),i=e&&e.data("index"),n=!tui.util.isUndefined(i)&&this.sectors[i];return n&&!tui.util.isUndefined(n.ratio)?i:null},changeColor:function(t){var e=this.sectors[t];e.sector.animate({fill:this.overColor},r)},restoreColor:function(t){var e=this.sectors[t];e.sector.animate({fill:e.color},r)},setSize:function(t){this.paper.setSize(t.width,t.height)}});e.exports=o},{"./raphaelRenderUtil":74}],72:[function(t,e,i){"use strict";var n=window.Raphael,s=10,a=tui.util.defineClass({render:function(t,e,i,s){var a=n(t,e.width,e.height);return this._renderGradientBar(a,e,i,s),
this.wedge=this._renderWedge(a),a},_renderGradientBar:function(t,e,i,n){var a,r=e.width-s,o=e.height,h=0;n?(o-=s,h=s/2,a=360,this._makeWedghPath=this._makeHorizontalWedgePath):(a=270,this._makeWedghPath=this._makeVerticalWedgePath),t.rect(h,0,r,o).attr({fill:a+"-"+i.start+"-"+i.end,stroke:"none"})},_renderWedge:function(t){var e=t.path(this.verticalBasePath).attr({fill:"gray",stroke:"none",opacity:0});return e},verticalBasePath:["M",16,6,"L",24,3,"L",24,9],_makeVerticalWedgePath:function(t){var e=this.verticalBasePath;return e[2]=t,e[5]=t-3,e[8]=t+3,e},horizontalBasePath:["M",5,16,"L",8,24,"L",2,24],_makeHorizontalWedgePath:function(t){var e=this.horizontalBasePath;return t+=s/2,e[1]=t,e[4]=t+3,e[7]=t-3,e},showWedge:function(t){var e=this._makeWedghPath(t);this.wedge.attr({path:e,opacity:1})},hideWedge:function(){this.wedge.attr({opacity:0})}});e.exports=a},{}],73:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=window.Raphael,a=180,r=360,o=.01,h=Math.PI/a,l=700,u=1,c=.3,d=.2,p="overlay",m=tui.util.defineClass({render:function(t,e,i){var n,a=e.dimension;return e.paper?this.paper=n=e.paper:this.paper=n=s(t,a.width,a.height),this.container=t,this.holeRatio=e.options.radiusRange[0],this.chartBackground=e.chartBackground,this.chartType=e.chartType,this.callbacks=i,this.selectionColor=e.theme.selectionColor,this.circleBound=e.circleBound,this.sectorName="sector_"+this.chartType,this._setSectorAttr(),this.sectorInfos=this._renderPie(e.sectorData,e.theme.colors),this.overlay=this._renderOverlay(),this.containerBound=null,this.prevSelectedSector=null,this.prevPosition=null,this.prevHoverSector=null,n},clear:function(){this.paper.clear()},_makeSectorPath:function(t,e,i,n,s){var r=n*h,o=s*h,l=t+i*Math.sin(r),u=e-i*Math.cos(r),c=t+i*Math.sin(o),d=e-i*Math.cos(o),p=s-n>a?1:0,m=["M",t,e,"L",l,u,"A",i,i,0,p,1,c,d,"Z"];return{path:m}},_makeDonutSectorPath:function(t,e,i,n,s,r){var o=n*h,l=s*h,u=r||i*this.holeRatio,c=t+i*Math.sin(o),d=e-i*Math.cos(o),p=t+u*Math.sin(o),m=e-u*Math.cos(o),f=t+i*Math.sin(l),g=e-i*Math.cos(l),_=t+u*Math.sin(l),T=e-u*Math.cos(l),v=s-n>a?1:0,C=["M",c,d,"A",i,i,0,v,1,f,g,"L",_,T,"A",u,u,0,v,0,p,m,"Z"];return{path:C}},_setSectorAttr:function(){var t;this.paper.customAttributes[this.sectorName]||(t=this.holeRatio?this._makeDonutSectorPath:this._makeSectorPath,this.paper.customAttributes[this.sectorName]=tui.util.bind(t,this))},_renderOverlay:function(){var t={paper:this.paper,circleBound:{cx:0,cy:0,r:0},angles:{startAngle:0,endAngle:0},attrs:{fill:"none",opacity:0,stroke:this.chartBackground,"stroke-width":1}},e=this._renderSector(t);return e.data("id",p),e.data("chartType",this.chartType),{inner:e,outer:this._renderSector(t)}},_renderSector:function(t){var e=t.circleBound,i=t.angles,n=t.attrs;return n[this.sectorName]=[e.cx,e.cy,e.r,i.startAngle,i.endAngle],t.paper.path().attr(n)},_renderPie:function(t,e){var i=this,n=this.circleBound,s=this.chartBackground,a=[];return tui.util.forEachArray(t,function(t,r){var o=t.ratio,h=e[r],l=i._renderSector({paper:i.paper,circleBound:n,angles:t.angles.start,attrs:{fill:s,stroke:s,"stroke-width":1}});l.data("index",r),l.data("chartType",i.chartType),a.push({sector:l,color:h,angles:t.angles.end,ratio:o})}),a},renderLegendLines:function(t){var e,i=this.paper;this.legendLines||(e=this._makeLinePaths(t),this.legendLines=tui.util.map(e,function(t){return n.renderLine(i,t,"transparent",1)}))},_makeLinePaths:function(t){var e=tui.util.map(t,function(t){return[n.makeLinePath(t.start,t.middle),n.makeLinePath(t.middle,t.end),"Z"].join("")});return e},_showOverlay:function(t){var e,i=this.overlay,n=this.sectorInfos[t],s=n.angles.startAngle,a=n.angles.endAngle,r=this.circleBound;e={fill:"#fff",opacity:.3},e[this.sectorName]=[r.cx,r.cy,r.r,s,a,r.r*this.holeRatio],i.inner.attr(e),i.inner.data("index",t),i.outer.attr({path:this._makeDonutSectorPath(r.cx,r.cy,r.r+10,s,a,r.r).path,fill:n.color,opacity:.3})},_hideOverlay:function(){var t=this.overlay,e={fill:"none",opacity:0};t.inner.attr(e),t.outer.attr(e)},animate:function(t){var e=0,i=this.sectorName,n=this.circleBound,a=[n.cx,n.cy,n.r];tui.util.forEachArray(this.sectorInfos,function(t){var n,h=t.angles,u={fill:t.color},c=l*t.ratio;0===h.startAngle&&h.endAngle===r&&(h.endAngle=r-o),u[i]=a.concat([h.startAngle,h.endAngle]),n=s.animation(u,c),t.sector.animate(n.delay(e)),e+=c}),t&&setTimeout(t,e)},animateLegendLines:function(){this.legendLines&&tui.util.forEachArray(this.legendLines,function(t){t.animate({stroke:"black","stroke-opacity":1})})},resize:function(t){var e=t.dimension,i=t.circleBound,n=this.sectorName;this.circleBound=i,this.paper.setSize(e.width,e.height),this.containerBound=null,tui.util.forEachArray(this.sectorInfos,function(t){var e=t.angles,s={};s[n]=[i.cx,i.cy,i.r,e.startAngle,e.endAngle],t.sector.attr(s)})},moveLegendLines:function(t){var e;this.legendLines&&(e=this._makeLinePaths(t),tui.util.forEachArray(this.legendLines,function(t,i){return t.attr({path:e[i]}),t}))},_isValidSector:function(t){return t&&t.data("chartType")===this.chartType},_isDetectedLabel:function(t){var e=document.elementFromPoint(t.left,t.top);return tui.util.isString(e.className)},clickSeries:function(t){var e,i=this.paper.getElementByPoint(t.left,t.top),n=this.prevSelectedSector;(i||this._isDetectedLabel(t))&&this.prevSelectedSector&&(this._unselectSeries(this.prevSelectedSector.data("index")),this.prevSelectedSector=null),this._isValidSector(i)&&(e=i.data("index"),i=this.sectorInfos[e].sector,i!==n&&(this._selectSeries(e),this.prevSelectedSector=i))},_getContainerBound:function(){return this.containerBound||(this.containerBound=this.container.getBoundingClientRect()),this.containerBound},_isChangedPosition:function(t,e){return!t||t.left!==e.left||t.top!==e.top},_showTooltip:function(t,e){var i=this._getContainerBound(),n=[{},0,t.data("index"),{left:e.left-i.left,top:e.top-i.top}];this.callbacks.showTooltip.apply(null,n)},moveMouseOnSeries:function(t){var e=this.paper.getElementByPoint(t.left,t.top);this._isValidSector(e)?(this.prevHoverSector!==e&&(this._showOverlay(e.data("index")),this.prevHoverSector=e),this._isChangedPosition(this.prevPosition,t)&&this._showTooltip(e,t)):this.prevHoverSector&&(this._hideOverlay(),this.callbacks.hideTooltip(),this.prevHoverSector=null),this.prevPosition=t},_selectSeries:function(t){var e,i,a=this.sectorInfos[t];a&&(e=s.color(a.color),i=this.selectionColor||n.makeChangedLuminanceColor(e.hex,d),a.sector.attr({fill:i}))},_unselectSeries:function(t){var e=this.sectorInfos[t];e&&e.sector.attr({fill:e.color})},selectLegend:function(t){var e=tui.util.isNull(t);tui.util.forEachArray(this.sectorInfos,function(i,n){var s;s=e||t===n?u:c,i.sector.attr({"fill-opacity":s})})}});e.exports=m},{"./raphaelRenderUtil":74}],74:[function(t,e,i){"use strict";var n={makeLinePath:function(t,e,i){var n=[t.left,t.top],s=[e.left,e.top];return i=i||1,tui.util.forEachArray(n,function(t,e){t===s[e]&&(n[e]=s[e]=Math.round(t)-i%2/2)}),["M"].concat(n).concat("L").concat(s)},renderLine:function(t,e,i,n){var s=t.path([e]),a={stroke:i,"stroke-width":n||2};return"transparent"===i&&(a.stroke="#fff",a["stroke-opacity"]=0),s.attr(a),s},renderArea:function(t,e,i){var n=t.path(e);return i=tui.util.extend({"stroke-opacity":0},i),n.attr(i),n},renderCircle:function(t,e,i,n){var s=t.circle(e.left,e.top,i);return s.attr(n),s},forEach2dArray:function(t,e){tui.util.forEachArray(t,function(t,i){tui.util.forEachArray(t,function(t,n){e(t,i,n)})})},makeChangedLuminanceColor:function(t,e){var i;return t=t.replace("#",""),e=e||0,i=tui.util.map(tui.util.range(3),function(i){var n=parseInt(t.substr(2*i,2),16),s=n+n*e;return s=Math.round(Math.min(Math.max(0,s),255)).toString(16),tui.chart.renderUtil.formatToZeroFill(s,2)}).join(""),"#"+i}};e.exports=n},{}],75:[function(require,module,exports){window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(){var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)},i={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},n=function(t){return i[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},s=/[\\"\u0000-\u001F\u2028\u2029]/g;return function a(i){if(null==i)return"null";if("number"==typeof i)return isFinite(i)?i.toString():"null";if("boolean"==typeof i)return i.toString();if("object"==typeof i){if("function"==typeof i.toJSON)return a(i.toJSON());if(e(i)){for(var r="[",o=0;o<i.length;o++)r+=(o?", ":"")+a(i[o]);return r+"]"}if("[object Object]"===t.call(i)){var h=[];for(var l in i)i.hasOwnProperty(l)&&h.push(a(l)+": "+a(i[l]));return"{"+h.join(", ")+"}"}}return'"'+i.toString().replace(s,n)+'"'}}()}),function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),s=window.setTimeout(function(){e(i+n)},n);return t=i+n,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},{}],76:[function(t,e,i){"use strict";var n=t("./const"),s=t("./factories/chartFactory"),a=t("./charts/barChart"),r=t("./charts/columnChart"),o=t("./charts/lineChart"),h=t("./charts/areaChart"),l=t("./charts/columnLineComboChart"),u=t("./charts/pieDonutComboChart"),c=t("./charts/pieChart"),d=t("./charts/bubbleChart"),p=t("./charts/scatterChart"),m=t("./charts/mapChart");s.register(n.CHART_TYPE_BAR,a),s.register(n.CHART_TYPE_COLUMN,r),s.register(n.CHART_TYPE_LINE,o),s.register(n.CHART_TYPE_AREA,h),s.register(n.CHART_TYPE_COLUMN_LINE_COMBO,l),s.register(n.CHART_TYPE_PIE_DONUT_COMBO,u),s.register(n.CHART_TYPE_PIE,c),s.register(n.CHART_TYPE_BUBBLE,d),s.register(n.CHART_TYPE_SCATTER,p),s.register(n.CHART_TYPE_MAP,m)},{"./charts/areaChart":4,"./charts/barChart":6,"./charts/bubbleChart":8,"./charts/columnChart":10,"./charts/columnLineComboChart":11,"./charts/lineChart":14,"./charts/mapChart":16,"./charts/pieChart":19,"./charts/pieDonutComboChart":20,"./charts/scatterChart":22,"./const":24,"./factories/chartFactory":40}],77:[function(t,e,i){"use strict";var n=t("./const"),s=t("./factories/themeFactory"),a=t("./themes/defaultTheme");s.register(n.DEFAULT_THEME_NAME,a)},{"./const":24,"./factories/themeFactory":43,"./themes/defaultTheme":92}],78:[function(t,e,i){"use strict";var n=t("./series"),s=t("./lineTypeSeriesBase"),a=t("../const"),r=t("../helpers/predicate"),o=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makePositionTopOfZeroPoint:function(){var t=this.boundsMaker.getDimension("series"),e=this.data.limit,i=this._getLimitDistanceFromZeroPoint(t.height,e),n=i.toMax;return e.min>=0&&!n&&(n=t.height),n+a.SERIES_EXPAND_SIZE},_makeStackedPositions:function(t){var e=this.boundsMaker.getDimension("series").height+a.SERIES_EXPAND_SIZE,i=this._makePositionTopOfZeroPoint(),n=[];return tui.util.map(t,function(t){return tui.util.map(t,function(t,s){var a=n[s]||i,r=e-t.top,o=a-r;return t.startTop=a,t.top=o,n[s]=o,t})})},_makePositions:function(){var t=this._makeBasicPositions();return r.isValidStackOption(this.options.stackType)&&(t=this._makeStackedPositions(t)),t},_makeSeriesData:function(){var t=this.boundsMaker.getDimension("series"),e=this._getLimitDistanceFromZeroPoint(t.height,this.data.limit).toMax;return{groupPositions:this._makePositions(),hasRangeData:this.dataProcessor.getSeriesDataModel(this.seriesName).hasRangeData(),zeroTop:e+a.SERIES_EXPAND_SIZE}}});s.mixin(o),e.exports=o},{"../const":24,"../helpers/predicate":51,"./lineTypeSeriesBase":85,"./series":89}],79:[function(t,e,i){"use strict";var n=t("./series"),s=t("./barTypeSeriesBase"),a=t("../const"),r=t("../helpers/predicate"),o=t("../helpers/renderUtil"),h=t("../helpers/calculator"),l=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeBound:function(t,e,i,n,s){return{start:{top:i,left:n,width:0,height:e},end:{top:i,left:s,width:t,height:e}}},_calculateAdditionalLeft:function(t){var e=0;return this.options.divided&&t>0&&(e=this.boundsMaker.getDimension("yAxis").width+a.OVERLAPPING_WIDTH),e},_makeBarChartBound:function(t,e,i,n,s){var r,o,h,l=t.baseBarSize*n.ratioDistance,u=this._calculateAdditionalLeft(n.value),c=t.baseBarSize*n.startRatio,d=t.basePosition+c+u+a.SERIES_EXPAND_SIZE,p=n.stack!==e.prevStack;return(!i||!this.options.diverging&&p)&&(r=i?this.dataProcessor.findStackIndex(n.stack):s,e.top=t.step*r+e.baseTop+t.additionalPosition,e.plusLeft=0,e.minusLeft=0),n.value>=0?(o=d+e.plusLeft,e.plusLeft+=l):(e.minusLeft-=l,o=d+e.minusLeft),e.prevStack=n.stack,h=this._makeBound(l,t.barSize,e.top,d,o)},_makeBounds:function(){var t=this,e=this.dataProcessor.getSeriesDataModel(this.seriesName),i=r.isValidStackOption(this.options.stackType),n=this.boundsMaker.getDimension("series"),s=this._makeBaseDataForMakingBound(n.height,n.width);return e.map(function(e,n){var r=n*s.groupSize+s.firstAdditionalPosition+a.SERIES_EXPAND_SIZE,o={baseTop:r,top:r,plusLeft:0,minusLeft:0,prevStack:null},h=tui.util.bind(t._makeBarChartBound,t,s,o,i);return e.map(h)})},_makeSeriesRenderingPosition:function(t,e,i,n,s){var r=o.getRenderedLabelWidth(n,this.theme.label),h=t.left,l=t.top+(t.height-e+a.TEXT_PADDING)/2;return i>=0&&!s||0>i&&s?h+=t.width+a.SERIES_LABEL_PADDING:h-=r+a.SERIES_LABEL_PADDING,{left:h,top:l}},_calculateTopPositionOfSumLabel:function(t,e){return t.top+(t.height-e+a.TEXT_PADDING)/2},_makePlusSumLabelHtml:function(t,e,i){var n,s,r="";return e&&(n=h.sumPlusValues(t),s=o.formatValue(n,this.dataProcessor.getFormatFunctions(),"series"),r=this._makeSeriesLabelHtml({left:e.left+e.width+a.SERIES_LABEL_PADDING,top:this._calculateTopPositionOfSumLabel(e,i)},s,-1)),r},_makeMinusSumLabelHtml:function(t,e,i){var n,s,r,l="";return e&&(n=h.sumMinusValues(t),this.options.diverging&&(n=Math.abs(n)),s=o.formatValue(n,this.dataProcessor.getFormatFunctions(),"series"),r=o.getRenderedLabelWidth(s,this.theme.label),l=this._makeSeriesLabelHtml({left:e.left-r-a.SERIES_LABEL_PADDING,top:this._calculateTopPositionOfSumLabel(e,i)},s,-1)),l}});s.mixin(l),e.exports=l},{"../const":24,"../helpers/calculator":47,"../helpers/predicate":51,"../helpers/renderUtil":53,"./barTypeSeriesBase":80,"./series":89}],80:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),a=t("../helpers/renderUtil"),r=tui.util.defineClass({_makeSeriesData:function(){return this.groupBounds=this._makeBounds(this.boundsMaker.getDimension("series")),{groupBounds:this.groupBounds,seriesDataModel:this.dataProcessor.getSeriesDataModel(this.seriesName)}},_makeBarGutter:function(t,e){var i,n=t/(e+1)/2,s=6;return i=2>=n?0:s>=n?2:4},_makeBarSize:function(t,e,i){return(t-e*(i-1))/(i+1)},_makeOptionSize:function(t,e){var i=0;return e&&(i=Math.min(t,e)),i},_calculateAdditionalPosition:function(t,e,i){var n=0;return e&&t>e&&(n=t/2+(t-e)*i/2),n},_makeBaseDataForMakingBound:function(t,e){var i,n,a,r,o,h,l=s.isValidStackOption(this.options.stackType),u=this.dataProcessor.getSeriesDataModel(this.seriesName),c=t/u.getGroupCount(),d=0;return i=l?this.options.diverging?1:this.dataProcessor.getStackCount():u.getFirstSeriesGroup().getSeriesItemCount(),n=this._makeBarGutter(c,i),a=this._makeBarSize(c,n,i),r=this._makeOptionSize(a,this.options.barWidth),o=this._calculateAdditionalPosition(a,r,i),a=r||a,h=this._getLimitDistanceFromZeroPoint(e,this.data.limit).toMin,s.isColumnChart(this.chartType)&&(h=e-h),(!this.options.barWidth||a<this.options.barWidth)&&(d=a/2+o),{baseBarSize:e,groupSize:c,barSize:a,step:n+a,firstAdditionalPosition:d,additionalPosition:o,basePosition:h}},_makeSeriesLabelsHtml:function(t,e,i,n){var s=this.seriesData.groupBounds[t][n].end,a=i.value,r=this._makeSeriesRenderingPosition(s,e,a,i.label),o=this._makeSeriesLabelHtml(r,i.endLabel,n);return i.isRange&&(r=this._makeSeriesRenderingPosition(s,e,a,i.startLabel,!0),o+=this._makeSeriesLabelHtml(r,i.startLabel,n)),o},_renderNormalSeriesLabel:function(t){var e,i=this,n=this.dataProcessor.getSeriesDataModel(this.seriesName),s=n.getFirstItemLabel(),r=a.getRenderedLabelHeight(s,this.theme.label);e=n.map(function(t,e){var n=tui.util.bind(i._makeSeriesLabelsHtml,i,e,r);return t.map(n).join("")}).join(""),t.innerHTML=e},_makeSumValues:function(t){var e=tui.util.sum(t);return a.formatValue(e,this.dataProcessor.getFormatFunctions(),"seires")},_makeStackedLabelPosition:function(t,e,i){var s=a.getRenderedLabelWidth(e,this.theme.label),r=t.left+(t.width-s+n.TEXT_PADDING)/2,o=t.top+(t.height-i+n.TEXT_PADDING)/2;return{left:r,top:o}},_makeStackedLabelsHtml:function(t){var e,i,n,s,a=this,r=t.seriesGroup,o=t.labelHeight;return e=r.map(function(e,s){var r,o,h=t.bounds[s],l="";return h&&e&&(r=h.end,o=a._makeStackedLabelPosition(r,e.label,t.labelHeight),l=a._makeSeriesLabelHtml(o,e.label,s)),e.value>0?i=r:e.value<0&&(n=r),l}),"normal"===this.options.stackType&&(s=r.pluck("value"),e.push(this._makePlusSumLabelHtml(s,i,o)),e.push(this._makeMinusSumLabelHtml(s,n,o))),e.join("")},_renderStackedSeriesLabel:function(t){var e,i=this,n=this.seriesData.groupBounds,s=this.dataProcessor.getSeriesDataModel(this.seriesName),r=s.getFirstItemLabel(this.chartType),o=a.getRenderedLabelHeight(r,this.theme.label);e=s.map(function(t,e){var s=i._makeStackedLabelsHtml({groupIndex:e,seriesGroup:t,bounds:n[e],labelHeight:o});return s}).join(""),t.innerHTML=e},_renderSeriesLabel:function(t){this.options.stackType?this._renderStackedSeriesLabel(t):this._renderNormalSeriesLabel(t)}});r.mixin=function(t){tui.util.extend(t.prototype,r.prototype)},e.exports=r},{"../const":24,"../helpers/predicate":51,"../helpers/renderUtil":53}],81:[function(t,e,i){"use strict";var n=t("./series"),s=t("./coordinateTypeSeriesBase"),a=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_calculateStep:function(){var t,e,i,n,s=0;return this.dataProcessor.hasCategories()&&(t=this.boundsMaker.getDimension("series"),e=this.dataProcessor.getSeriesDataModel(this.seriesName),n=this.dataProcessor.getCategories().length,i=e.isXCountGreaterThanYCount()?t.height:t.width,s=i/n),s},_makeBound:function(t,e,i){var n=this.boundsMaker.getDimension("series"),s=tui.util.isExisty(t.x)?t.x*n.width:e,a=tui.util.isExisty(t.y)?t.y*n.height:e;return{left:s,top:n.height-a,radius:Math.max(i*t.r,2)}},_makeBounds:function(){var t=this,e=this.dataProcessor.getSeriesDataModel(this.seriesName),i=this.boundsMaker.getMaxRadiusForBubbleChart(),n=this._calculateStep(),s=n?n/2:0;return e.map(function(e,a){var r=s+n*a;return e.map(function(e){var n=e&&e.ratioMap;return n?t._makeBound(e.ratioMap,r,i):null})})}});s.mixin(a),tui.util.CustomEvents.mixin(a),e.exports=a},{"./coordinateTypeSeriesBase":83,"./series":89}],82:[function(t,e,i){"use strict";var n=t("./series"),s=t("./barTypeSeriesBase"),a=t("../const"),r=t("../helpers/predicate"),o=t("../helpers/renderUtil"),h=t("../helpers/calculator"),l=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeBound:function(t,e,i,n,s){return{start:{top:n,left:i,width:t,height:0},end:{top:s,left:i,width:t,height:e}}},_makeColumnChartBound:function(t,e,i,n,s){var r,o,h,l=Math.abs(t.baseBarSize*n.ratioDistance),u=t.baseBarSize*n.startRatio,c=t.basePosition-u+a.SERIES_EXPAND_SIZE,d=n.stack!==e.prevStack;return(!i||!this.options.diverging&&d)&&(r=i?this.dataProcessor.findStackIndex(n.stack):s,e.left=t.step*r+e.baseLeft+t.additionalPosition,e.plusTop=0,e.minusTop=0),n.value>=0?(e.plusTop-=l,o=c+e.plusTop):(o=c+e.minusTop,e.minusTop+=l),e.prevStack=n.stack,h=this._makeBound(t.barSize,l,e.left,c,o)},_makeBounds:function(){var t=this,e=this.dataProcessor.getSeriesDataModel(this.seriesName),i=r.isValidStackOption(this.options.stackType),n=this.boundsMaker.getDimension("series"),s=this._makeBaseDataForMakingBound(n.width,n.height);return e.map(function(e,n){var r=n*s.groupSize+s.firstAdditionalPosition+a.SERIES_EXPAND_SIZE,o={baseLeft:r,left:r,plusTop:0,minusTop:0,prevStack:null},h=tui.util.bind(t._makeColumnChartBound,t,s,o,i);return e.map(h)})},_makeSeriesRenderingPosition:function(t,e,i,n,s){var r=o.getRenderedLabelWidth(n,this.theme.label),h=t.top,l=t.left+(t.width-r)/2;return i>=0&&!s||0>i&&s?h-=e+a.SERIES_LABEL_PADDING:h+=t.height+a.SERIES_LABEL_PADDING,{left:l,top:h}},_calculateLeftPositionOfSumLabel:function(t,e){var i=o.getRenderedLabelWidth(e,this.theme.label);return t.left+(t.width-i+a.TEXT_PADDING)/2},_makePlusSumLabelHtml:function(t,e,i){var n,s,r="";return e&&(n=h.sumPlusValues(t),s=o.formatValue(n,this.dataProcessor.getFormatFunctions(),"series"),r=this._makeSeriesLabelHtml({left:this._calculateLeftPositionOfSumLabel(e,s),top:e.top-i-a.SERIES_LABEL_PADDING},s,-1)),r},_makeMinusSumLabelHtml:function(t,e){var i,n,s="";return e&&(i=h.sumMinusValues(t),this.options.diverging&&(i=Math.abs(i)),n=o.formatValue(i,this.dataProcessor.getFormatFunctions(),"series"),s=this._makeSeriesLabelHtml({left:this._calculateLeftPositionOfSumLabel(e,n),top:e.top+e.height+a.SERIES_LABEL_PADDING},n,-1)),s}});s.mixin(l),e.exports=l},{"../const":24,"../helpers/calculator":47,"../helpers/predicate":51,"../helpers/renderUtil":53,"./barTypeSeriesBase":80,"./series":89}],83:[function(t,e,i){"use strict";var n=t("../helpers/renderUtil"),s=tui.util.defineClass({_makeSeriesData:function(){var t=this._makeBounds();return{groupBounds:t,seriesDataModel:this.dataProcessor.getSeriesDataModel(this.seriesName)}},showTooltip:function(t,e,i,n,s){this.fire("showTooltip",tui.util.extend({indexes:{groupIndex:i,index:n},mousePosition:s},t))},hideTooltip:function(){this.fire("hideTooltip")},_renderGraph:function(t,e){var i=tui.util.bind(this.showTooltip,this,{chartType:this.chartType}),n={showTooltip:i,hideTooltip:tui.util.bind(this.hideTooltip,this)},s=this._makeParamsForGraphRendering(t,e);this.graphRenderer.render(this.seriesContainer,s,n)},_makeSeriesLabelsHtml:function(t,e,i){var s=n.getRenderedLabelHeight(e,this.theme.label),a=n.getRenderedLabelWidth(e,this.theme.label),r={left:t.left-a/2,top:t.top-s/2};return this._makeSeriesLabelHtml(r,e,i)},_renderSeriesLabel:function(t){var e=this,i=this.dataProcessor.getSeriesDataModel(this.seriesName),n=i.map(function(t,i){return t.map(function(t,n){var s=e.seriesData.groupBounds[i][n];return t?e._makeSeriesLabelsHtml(s,t.label,n):""}).join("")}).join("");t.innerHTML=n},onClickSeries:function(t){this.options.allowSelect&&this._executeGraphRenderer(t,"clickSeries")},onMoveSeries:function(t){this._executeGraphRenderer(t,"moveMouseOnSeries")}});s.mixin=function(t){tui.util.extend(t.prototype,s.prototype)},tui.util.CustomEvents.mixin(s),e.exports=s},{"../helpers/renderUtil":53}],84:[function(t,e,i){"use strict";var n=t("./series"),s=t("./lineTypeSeriesBase"),a=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makePositions:function(){return this._makeBasicPositions()},_makeSeriesData:function(){return{groupPositions:this._makePositions()}}});s.mixin(a),e.exports=a},{"./lineTypeSeriesBase":85,"./series":89}],85:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),a=t("../helpers/renderUtil"),r=tui.util.defineClass({_makeBasicPositions:function(){var t,e=this.boundsMaker.getDimension("series"),i=this.dataProcessor.getSeriesDataModel(this.seriesName),s=e.width,a=e.height,r=i.getGroupCount(),o=n.SERIES_EXPAND_SIZE;return this.data.aligned?t=s/(r-1):(t=s/r,o+=t/2),i.map(function(e){return e.map(function(e,i){var s={left:o+t*i,top:a-e.ratio*a+n.SERIES_EXPAND_SIZE};return tui.util.isExisty(e.startRatio)&&(s.startTop=a-e.startRatio*a+n.SERIES_EXPAND_SIZE),s})},!0)},_calculateLabelPositionTop:function(t,e,i,a){var r,o=t.top;return r=s.isValidStackOption(this.options.stackType)?(t.startTop+o-i)/2+1:e>=0&&!a||0>e&&a?o-i-n.SERIES_LABEL_PADDING:o+n.SERIES_LABEL_PADDING},_makeLabelPosition:function(t,e,i,n,s){var r=a.getRenderedLabelWidth(i,this.theme.label);return{left:t.left-r/2,top:this._calculateLabelPositionTop(t,n,e,s)}},_makeSeriesLabelHtmlForLineType:function(t,e,i,n,s){var a,r,o=tui.util.extend({},this.seriesData.groupPositions[t][e]);return s?(a=i.startLabel,o.top=o.startTop):a=i.endLabel,r=this._makeLabelPosition(o,n,a,i.value,s),this._makeSeriesLabelHtml(r,a,t)},_renderSeriesLabel:function(t){var e,i=this,n=this.dataProcessor.getSeriesDataModel(this.seriesName),s=n.getFirstItemLabel(),r=a.getRenderedLabelHeight(s,this.theme.label);e=n.map(function(t,e){return t.map(function(t,n){var s=i._makeSeriesLabelHtmlForLineType(e,n,t,r);return t.isRange&&(s+=i._makeSeriesLabelHtmlForLineType(e,n,t,r,!0)),s}).join("")},!0),t.innerHTML=e.join("")},_isChanged:function(t,e){var i=this.prevIndexes;return this.prevIndexes={groupIndex:t,index:e},!i||i.groupIndex!==t||i.index!==e},onShowGroupTooltipLine:function(t){this.graphRenderer.showGroupTooltipLine&&this.graphRenderer.showGroupTooltipLine(t)},onHideGroupTooltipLine:function(){this.graphRenderer.hideGroupTooltipLine&&this.graphRenderer.hideGroupTooltipLine()}});r.mixin=function(t){tui.util.extend(t.prototype,r.prototype)},e.exports=r},{"../const":24,"../helpers/predicate":51,"../helpers/renderUtil":53}],86:[function(t,e,i){"use strict";var n=t("./series"),s=t("../helpers/domHandler"),a=t("../helpers/predicate"),r=t("../helpers/renderUtil"),o=tui.util.defineClass(n,{init:function(t){this.basePosition={left:0,top:0},this.zoomMagn=1,this.mapRatio=1,this.graphDimension={},this.limitPosition={},this.mapModel=null,this.prevPosition=null,this.prevMovedIndex=null,this.isDrag=!1,this.startPosition=null,n.call(this,t)},_setMapRatio:function(){var t=this.boundsMaker.getDimension("series"),e=this.mapModel.getMapDimension(),i=t.width/e.width,n=t.height/e.height;this.mapRatio=Math.min(i,n)},_setGraphDimension:function(){var t=this.boundsMaker.getDimension("series");this.graphDimension={width:t.width*this.zoomMagn,height:t.height*this.zoomMagn}},render:function(t){var e;return this.mapModel=t.mapModel,this._setMapRatio(),e=n.prototype.render.call(this,t)},_setLimitPositionToMoveMap:function(){var t=this.boundsMaker.getDimension("series"),e=this.graphDimension;this.limitPosition={left:t.width-e.width,top:t.height-e.height}},_renderGraph:function(){this.graphContainer||(this.graphContainer=s.create("DIV","tui-chart-series-graph-area"),this.seriesContainer.appendChild(this.graphContainer)),this._setGraphDimension(),r.renderDimension(this.graphContainer,this.graphDimension),this._setLimitPositionToMoveMap(),this.graphRenderer.render(this.graphContainer,{colorModel:this.data.colorModel,mapModel:this.mapModel,dimension:this.graphDimension,theme:this.theme})},_renderSeriesLabel:function(t){var e=this,i=tui.util.map(this.mapModel.getLabelData(this.zoomMagn*this.mapRatio),function(t,i){var n=t.name||t.code,s=t.labelPosition.left-r.getRenderedLabelWidth(n,e.theme.label)/2,a=t.labelPosition.top-r.getRenderedLabelHeight(n,e.theme.label)/2;return e._makeSeriesLabelHtml({left:s,top:a},t.name,i)});t.innerHTML=i.join("")},_renderSeriesArea:function(t,e,i){n.prototype._renderSeriesArea.call(this,t,e,i),a.isShowLabel(this.options)&&!this.seriesLabelContainer&&this.graphContainer.appendChild(this.seriesLabelContainer)},_adjustMapPosition:function(t){return{left:Math.max(Math.min(t.left,0),this.limitPosition.left),top:Math.max(Math.min(t.top,0),this.limitPosition.top)}},_updateBasePositionForZoom:function(t,e,i){var n=this.basePosition,s=n.left-e.left/2,a=n.top-e.top/2,r={left:s*i+this.limitPosition.left/2,top:a*i+this.limitPosition.top/2};this.basePosition=this._adjustMapPosition(r)},_zoom:function(t){var e=this.graphDimension,i=this.limitPosition;this._setGraphDimension(),r.renderDimension(this.graphContainer,this.graphDimension),this.graphRenderer.setSize(this.graphDimension),this._setLimitPositionToMoveMap(),this._updateBasePositionForZoom(e,i,t),r.renderPosition(this.graphContainer,this.basePosition),this._renderSeriesLabel(this.seriesLabelContainer)},_updatePositionsToResize:function(t){var e=this.mapRatio/t;this.basePosition.left*=e,this.basePosition.top*=e,this.limitPosition.left*=e,this.limitPosition.top*=e},_resizeGraph:function(){var t=this.mapRatio;this._setMapRatio(),this._setGraphDimension(),r.renderDimension(this.graphContainer,this.graphDimension),this.graphRenderer.setSize(this.graphDimension),this._updatePositionsForResizing(t),r.renderPosition(this.graphContainer,this.basePosition),this._renderSeriesLabel(this.seriesLabelContainer)},onClickSeries:function(){},_isChangedPosition:function(t,e){return!t||t.left!==e.left||t.top!==e.top},_showWedge:function(t){var e=this.mapModel.getDatum(t);tui.util.isUndefined(e.ratio)||this.fire("showWedge",e.ratio)},_showTooltip:function(t,e){this.fire("showTooltip",{chartType:this.chartType,indexes:{index:t},mousePosition:e})},_getContainerBound:function(){return this.containerBound||(this.containerBound=this.seriesContainer.getBoundingClientRect()),this.containerBound},onMoveSeries:function(t){var e,i=this._executeGraphRenderer(t,"findSectorIndex");tui.util.isNull(i)?tui.util.isNull(this.prevMovedIndex)||(this.graphRenderer.restoreColor(this.prevMovedIndex),this.fire("hideWedge"),this.fire("hideTooltip"),this.prevMovedIndex=null):(this.prevMovedIndex!==i&&(tui.util.isNull(this.prevMovedIndex)||(this.graphRenderer.restoreColor(this.prevMovedIndex),this.fire("hideWedge"),this.fire("hideTooltip")),this.graphRenderer.changeColor(i)),this._isChangedPosition(this.prevPosition,t)&&(e=this._getContainerBound(),this._showTooltip(i,{left:t.left-e.left,top:t.top-e.top}),this.prevMovedIndex=i),this._showWedge(i)),this.prevPosition=t},onDragStartSeries:function(t){this.startPosition={left:t.left,top:t.top}},_movePosition:function(t,e){var i=this._adjustMapPosition({left:this.basePosition.left+(e.left-t.left),top:this.basePosition.top+(e.top-t.top)});r.renderPosition(this.graphContainer,i),this.basePosition=i},onDragSeries:function(t){this._movePosition(this.startPosition,t),this.startPosition=t,this.isDrag||(this.isDrag=!0,this.fire("hideTooltip"))},onDragEndSeries:function(){this.isDrag=!1},_movePositionForZoom:function(t,e){var i,n=this.boundsMaker.getDimension("series"),s=this._getContainerBound(),a={left:n.width/2+s.left,top:n.height/2+s.top},r={left:t.left-a.left,top:t.top-a.top};e=e>1?-(e/2):e,i={left:a.left+r.left*e,top:a.top+r.top*e},this._movePosition(a,i)},onZoom:function(t,e){var i=t/this.zoomMagn;this.zoomMagn=t,this._zoom(i),e&&this._movePositionForZoom(e,i),this.userEvent.fire("zoom",t)},animateComponent:function(){this.animateShowingAboutSeriesLabelArea()}});tui.util.CustomEvents.mixin(o),e.exports=o},{"../helpers/domHandler":49,"../helpers/predicate":51,"../helpers/renderUtil":53,"./series":89}],87:[function(t,e,i){"use strict";var n=t("./series"),s=t("../const"),a=t("../helpers/predicate"),r=t("../helpers/renderUtil"),o=tui.util.defineClass(n,{init:function(t){n.call(this,t),this.isCombo=!!t.isCombo,this.isShowOuterLabel=!!t.isShowOuterLabel||a.isShowOuterLabel(this.options),this.chartBackground=t.chartBackground,this.quadrantRange=null,this._setDefaultOptions()},_makeValidAngle:function(t,e){return tui.util.isUndefined(t)?t=e:0>t?t=s.ANGLE_360-Math.abs(t)%s.ANGLE_360:t>0&&(t%=s.ANGLE_360),t},_transformRadiusRange:function(t){return t=t||["0%","100%"],tui.util.map(t,function(t){var e=.01*parseInt(t,10);return Math.max(Math.min(e,1),0)})},_setDefaultOptions:function(){var t=this.options;t.startAngle=this._makeValidAngle(t.startAngle,0),t.endAngle=this._makeValidAngle(t.endAngle,t.startAngle),t.radiusRange=this._transformRadiusRange(t.radiusRange),1===t.radiusRange.length&&t.radiusRange.unshift(0)},_calculateAngleForRendering:function(){var t,e=this.options.startAngle,i=this.options.endAngle;return t=i>e?i-e:e>i?s.ANGLE_360-(e-i):s.ANGLE_360},_makeSectorData:function(t){var e,i=this,n=this.dataProcessor.getSeriesDataModel(this.seriesName).getFirstSeriesGroup(),s=t.cx,a=t.cy,r=t.r,o=this.options.startAngle,h=this._calculateAngleForRendering(),l=10,u=this.options.radiusRange[0],c=.5*r;return u&&(c+=c*u),
e=n.map(function(t){var e=h*t.ratio,n=o+e,u=o+e/2,d={start:{startAngle:o,endAngle:o},end:{startAngle:o,endAngle:n}},p={cx:s,cy:a,angle:u};return o=n,{ratio:t.ratio,angles:d,centerPosition:i._getArcPosition(tui.util.extend({r:c},p)),outerPosition:{start:i._getArcPosition(tui.util.extend({r:r},p)),middle:i._getArcPosition(tui.util.extend({r:r+l},p))}}})},_makeSeriesData:function(){var t=this._makeCircleBound(),e=this._makeSectorData(t);return{chartBackground:this.chartBackground,circleBound:t,sectorData:e}},_getQuadrantFromAngle:function(t,e){var i=parseInt(t/s.ANGLE_90,10)+1;return e&&t%s.ANGLE_90===0&&(i+=1===i?3:-1),i},_getRangeForQuadrant:function(){return this.quadrantRange||(this.quadrantRange={start:this._getQuadrantFromAngle(this.options.startAngle),end:this._getQuadrantFromAngle(this.options.endAngle,!0)}),this.quadrantRange},_isInQuadrantRange:function(t,e){var i=this._getRangeForQuadrant();return i.start===t&&i.end===e},_calculateBaseSize:function(){var t,e=this.boundsMaker.getDimension("series"),i=e.width,n=e.height;return this.isCombo||(t=this._getRangeForQuadrant(),this._isInQuadrantRange(2,3)||this._isInQuadrantRange(4,1)?n*=2:this._isInQuadrantRange(1,2)||this._isInQuadrantRange(3,4)?i*=2:t.start===t.end&&(i*=2,n*=2)),Math.min(i,n)},_calculateRadius:function(){var t=this.isShowOuterLabel?s.PIE_GRAPH_SMALL_RATIO:s.PIE_GRAPH_DEFAULT_RATIO,e=this._calculateBaseSize();return e*t*this.options.radiusRange[1]/2},_calculateCenterXY:function(t){var e=this.boundsMaker.getDimension("series"),i=t/2,n=e.width/2,s=e.height/2;return this.isCombo||(this._isInQuadrantRange(1,1)?(n-=i,s+=i):this._isInQuadrantRange(1,2)?n-=i:this._isInQuadrantRange(2,2)?(n-=i,s-=i):this._isInQuadrantRange(2,3)?s-=i:this._isInQuadrantRange(3,3)?(n+=i,s-=i):this._isInQuadrantRange(3,4)?n+=i:this._isInQuadrantRange(4,1)?s+=i:this._isInQuadrantRange(4,4)&&(n+=i,s+=i)),{cx:n,cy:s}},_makeCircleBound:function(){var t=this._calculateRadius(),e=this._calculateCenterXY(t);return tui.util.extend({r:t},e)},_getArcPosition:function(t){return{left:t.cx+t.r*Math.sin(t.angle*s.RAD),top:t.cy-t.r*Math.cos(t.angle*s.RAD)}},_renderGraph:function(t,e,i){var n=tui.util.bind(this.showTooltip,this,{allowNegativeTooltip:!!this.allowNegativeTooltip,seriesName:this.seriesName,chartType:this.chartType}),s={showTooltip:n,hideTooltip:tui.util.bind(this.hideTooltip,this)},a=this._makeParamsForGraphRendering(t,e);return a.paper=i,this.graphRenderer.render(this.seriesContainer,a,s)},resize:function(){n.prototype.resize.apply(this,arguments),this._moveLegendLines()},showTooltip:function(t,e,i,n,s){this.fire("showTooltip",tui.util.extend({indexes:{groupIndex:i,index:n},mousePosition:s},t))},hideTooltip:function(){this.fire("hideTooltip")},_makeSeriesDataBySelection:function(t){return{indexes:{index:t,groupIndex:t}}},_getSeriesLabel:function(t){var e="";return this.options.showLegend&&(e='<span class="tui-chart-series-legend">'+t.legend+"</span>"),this.options.showLabel&&(e+=(e?t.separator:"")+t.label),e},_renderLegendLabel:function(t,e){var i=this,n=this.dataProcessor,s=n.getSeriesDataModel(this.seriesName),a=t.positions,r=tui.util.map(n.getLegendLabels(this.seriesName),function(e,n){var r,o,h="";return a[n]&&(r=i._getSeriesLabel({legend:e,label:s.getSeriesItem(0,n).label,separator:t.separator}),o=t.funcMoveToPosition(a[n],r),h=i._makeSeriesLabelHtml(o,r,n)),h});e.innerHTML=r.join("")},_moveToCenterPosition:function(t,e){var i=t.left-r.getRenderedLabelWidth(e,this.theme.label)/2,n=t.top-r.getRenderedLabelHeight(e,this.theme.label)/2;return{left:i,top:n}},_pickPositionsFromSectorData:function(t){return tui.util.map(this.seriesData.sectorData,function(e){return e.ratio?e[t]:null})},_renderCenterLegend:function(t){this._renderLegendLabel({positions:this._pickPositionsFromSectorData("centerPosition"),funcMoveToPosition:tui.util.bind(this._moveToCenterPosition,this),separator:"<br>"},t)},_addEndPosition:function(t,e){tui.util.forEachArray(e,function(e){var i;e&&(i=tui.util.extend({},e.middle),i.left<t?i.left-=s.SERIES_OUTER_LABEL_PADDING:i.left+=s.SERIES_OUTER_LABEL_PADDING,e.end=i)})},_moveToOuterPosition:function(t,e,i){var n=e.end,a=n.left,o=n.top-r.getRenderedLabelHeight(i,this.theme.label)/2;return t>a?a-=r.getRenderedLabelWidth(i,this.theme.label)+s.SERIES_LABEL_PADDING:a+=s.SERIES_LABEL_PADDING,{left:a,top:o}},_renderOuterLegend:function(t){var e=this.getSeriesData().circleBound.cx,i=this._pickPositionsFromSectorData("outerPosition"),n=tui.util.filter(i,function(t){return t});this._addEndPosition(e,n),this._renderLegendLabel({positions:i,funcMoveToPosition:tui.util.bind(this._moveToOuterPosition,this,e),separator:":&nbsp;"},t),this.graphRenderer.renderLegendLines(n)},_renderSeriesLabel:function(t){a.isLabelAlignOuter(this.options.labelAlign)?this._renderOuterLegend(t):this._renderCenterLegend(t)},animateShowingAboutSeriesLabelArea:function(){this.graphRenderer.animateLegendLines(),n.prototype.animateShowingAboutSeriesLabelArea.call(this)},_moveLegendLines:function(){var t=this.boundsMaker.getDimension("chart").width/2,e=this._pickPositionsFromSectorData("outerPosition"),i=tui.util.filter(e,function(t){return t});this._addEndPosition(t,i),this.graphRenderer.moveLegendLines(i)},onClickSeries:function(t){this.options.allowSelect&&this._executeGraphRenderer(t,"clickSeries")},onMoveSeries:function(t){this._executeGraphRenderer(t,"moveMouseOnSeries")}});tui.util.CustomEvents.mixin(o),e.exports=o},{"../const":24,"../helpers/predicate":51,"../helpers/renderUtil":53,"./series":89}],88:[function(t,e,i){"use strict";var n=t("./series"),s=t("./coordinateTypeSeriesBase"),a=t("../const"),r=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeBound:function(t){var e=this.boundsMaker.getDimension("series");return{left:t.x*e.width,top:e.height-t.y*e.height,radius:a.SCATTER_RADIUS}},_makeBounds:function(){var t=this,e=this.dataProcessor.getSeriesDataModel(this.seriesName);return e.map(function(e){return e.map(function(e){var i=e&&e.ratioMap;return i?t._makeBound(e.ratioMap):null})})}});s.mixin(r),tui.util.CustomEvents.mixin(r),e.exports=r},{"../const":24,"./coordinateTypeSeriesBase":83,"./series":89}],89:[function(t,e,i){"use strict";var n=t("./seriesTemplate"),s=t("../const"),a=t("../helpers/domHandler"),r=t("../helpers/predicate"),o=t("../helpers/renderUtil"),h=t("../factories/pluginFactory"),l=tui.util.defineClass({init:function(t){var e=t.libType||s.DEFAULT_PLUGIN;this.chartType=t.chartType,this.seriesName=t.seriesName||t.chartType,this.componentType=t.componentType,this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.userEvent=t.userEvent,this.options=t.options||{},this.orgTheme=this.theme=t.theme,this.hasAxes=!!t.hasAxes,this.graphRenderer=h.get(e,t.chartType),this.className="tui-chart-series-area",this.seriesContainer=null,this.seriesLabelContainer=null,this.seriesData=[],this.selectedLegendIndex=null,this.labelShowEffector=null},_makeSeriesData:function(){},getSeriesData:function(){return this.seriesData},_renderSeriesLabel:function(){},_renderSeriesLabelArea:function(t){return t||(t=a.create("div","tui-chart-series-label-area")),this._renderSeriesLabel(t),t},_renderSeriesArea:function(t,e,i){var n,s,h,l=this.boundsMaker.getBound("extendedSeries");return this.data=e,this.seriesData=n=this._makeSeriesData(),e.paper||o.renderDimension(t,l.dimension),this._renderPosition(t,l.position),i&&(h=i(l.dimension,n,e.paper)),r.isShowLabel(this.options)&&!this.seriesLabelContainer&&(s=this._renderSeriesLabelArea(this.seriesLabelContainer),this.seriesLabelContainer=s,a.append(t,s)),h},_makeParamsForGraphRendering:function(t,e){return tui.util.extend({dimension:t,chartType:this.seriesName,theme:this.theme,options:this.options},e)},_renderGraph:function(t,e){var i=this._makeParamsForGraphRendering(t,e);this.graphRenderer.render(this.seriesContainer,i)},render:function(t){var e,i=a.create("DIV",this.className);return this.seriesContainer=i,e=this._renderSeriesArea(i,t,tui.util.bind(this._renderGraph,this)),{container:i,paper:e}},_updateTheme:function(t,e){var i;return e.length?(i=JSON.parse(JSON.stringify(t)),i.colors=tui.util.filter(i.colors,function(t,i){return e[i]}),i):t},rerender:function(t){var e;return this.graphRenderer.clear&&this.graphRenderer.clear(),this.seriesContainer.innerHTML="",this.seriesLabelContainer=null,this.selectedLegendIndex=null,this.seriesData=[],this.dataProcessor.getGroupCount(this.seriesName)&&(this.theme=this._updateTheme(this.orgTheme,t.checkedLegends),e=this._renderSeriesArea(this.seriesContainer,t,tui.util.bind(this._renderGraph,this)),this.labelShowEffector&&clearInterval(this.labelShowEffector.timerId),this.animateComponent()),{container:this.seriesContainer,paper:e}},_resizeGraph:function(t,e){this.graphRenderer.resize(tui.util.extend({dimension:t},e))},resize:function(t){this._renderSeriesArea(this.seriesContainer,t,tui.util.bind(this._resizeGraph,this))},_renderPosition:function(t,e){var i=(o.isOldBrowser(),0);o.renderPosition(t,{top:e.top-2*i,left:e.left-i})},_getLimitDistanceFromZeroPoint:function(t,e){var i=e.min,n=e.max,s=n-i,a=0,r=0;return 0>=i&&n>=0&&(a=(s+i)/s*t,r=(s-n)/s*t),{toMax:a,toMin:r}},_findLabelElement:function(t){var e=null;return e=a.hasClass(t,s.CLASS_NAME_SERIES_LABEL)?t:a.findParentByClass(t,s.CLASS_NAME_SERIES_LABEL)},onShowAnimation:function(t){this.graphRenderer.showAnimation&&this.graphRenderer.showAnimation(t)},onHideAnimation:function(t){this.graphRenderer.hideAnimation&&this.graphRenderer.hideAnimation(t)},onShowGroupAnimation:function(t){this.graphRenderer.showGroupAnimation&&this.graphRenderer.showGroupAnimation(t)},onHideGroupAnimation:function(t){this.graphRenderer.hideGroupAnimation&&this.graphRenderer.hideGroupAnimation(t)},animateComponent:function(){this.graphRenderer.animate&&this.graphRenderer.animate(tui.util.bind(this.animateShowingAboutSeriesLabelArea,this))},_makeOpacityCssText:function(){var t;return t=o.isOldBrowser()?function(t){return";filter: alpha(opacity="+t*s.OLD_BROWSER_OPACITY_100+")"}:function(t){return";opacity: "+t}}(),_makeSeriesLabelHtml:function(t,e,i){var a=tui.util.extend(t,this.theme.label);return tui.util.isNull(this.selectedLegendIndex)||this.selectedLegendIndex===i?a.opacity="":a.opacity=this._makeOpacityCssText(s.SERIES_LABEL_OPACITY),n.tplSeriesLabel({cssText:n.tplCssText(a),label:e})},animateShowingAboutSeriesLabelArea:function(){var t=this;(this.options.showLabel||this.options.showLegend)&&this.seriesLabelContainer&&(a.addClass(this.seriesLabelContainer,"show"),o.isIE7()?this.seriesLabelContainer.style.filter="":(this.labelShowEffector=new tui.component.Effects.Fade({element:this.seriesLabelContainer,duration:300}),this.labelShowEffector.action({start:0,end:1,complete:function(){t.labelShowEffector&&clearInterval(t.labelShowEffector.timerId),t.labelShowEffector=null}})))},_makeExportationSeriesData:function(t){var e=t.indexes.index,i=this.dataProcessor.getLegendItem(e);return{chartType:i.chartType,legend:i.label,legendIndex:e,index:t.indexes.groupIndex}},_executeGraphRenderer:function(t,e){var i,n=!1;return this.fire("hideTooltipContainer"),this.seriesLabelContainer&&a.hasClass(this.seriesLabelContainer,"show")&&(a.removeClass(this.seriesLabelContainer,"show"),n=!0),i=this.graphRenderer[e](t),n&&a.addClass(this.seriesLabelContainer,"show"),this.fire("showTooltipContainer"),i},onSelectSeries:function(t){this.userEvent.fire("selectSeries",this._makeExportationSeriesData(t)),this.options.allowSelect&&this.graphRenderer.selectSeries(t.indexes)},onUnselectSeries:function(t){this.userEvent.fire("unselectSeries",this._makeExportationSeriesData(t)),this.options.allowSelect&&this.graphRenderer.unselectSeries(t.indexes)},onSelectLegend:function(t,e){this.chartType===t||tui.util.isNull(e)||(e=-1),this.selectedLegendIndex=e,this.dataProcessor.getSeriesDataModel(this.seriesName).getGroupCount()&&(this._renderSeriesArea(this.seriesContainer,this.data),this.graphRenderer.selectLegend(e))},showLabel:function(){this.options.showLabel=!0,a.addClass(this.seriesLabelContainer,"show opacity")},hideLabel:function(){this.options.showLabel=!1,a.removeClass(this.seriesLabelContainer,"show")}});e.exports=l},{"../const":24,"../factories/pluginFactory":42,"../helpers/domHandler":49,"../helpers/predicate":51,"../helpers/renderUtil":53,"./seriesTemplate":90}],90:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_SERIES_LABEL:'<div class="tui-chart-series-label" style="{{ cssText }}">{{ label }}</div>',TEXT_CSS_TEXT:"left:{{ left }}px;top:{{ top }}px;font-family:{{ fontFamily }};font-size:{{ fontSize }}px{{opacity}}",HTML_ZOOM_BUTTONS:'<a class="tui-chart-zoom-btn" href="#" data-magn="2"><div class="horizontal-line"></div><div class="vertical-line"></div></a><a class="tui-chart-zoom-btn" href="#" data-magn="0.5"><div class="horizontal-line"></div></a>'};e.exports={tplSeriesLabel:n.template(s.HTML_SERIES_LABEL),tplCssText:n.template(s.TEXT_CSS_TEXT),ZOOM_BUTTONS:s.HTML_ZOOM_BUTTONS}},{"../helpers/templateMaker":54}],91:[function(t,e,i){"use strict";var n=t("./seriesTemplate"),s=t("../const"),a=t("../helpers/domHandler"),r=t("../helpers/renderUtil"),o=t("../helpers/eventListener"),h=tui.util.defineClass({init:function(t){this.className="tui-chart-zoom-area",this.boundsMaker=t.boundsMaker,this.magn=1,this.stackedWheelDelta=0},render:function(){var t=a.create("DIV",this.className);return t.innerHTML+=n.ZOOM_BUTTONS,r.renderPosition(t,this.boundsMaker.getPosition("series")),this._attachEvent(t),t},_findBtnElement:function(t){var e="tui-chart-zoom-btn",i=t;return a.hasClass(t,e)||(i=a.findParentByClass(t,e)),i},_zoom:function(t,e){var i=Math.min(Math.max(1,this.magn*t),s.MAX_ZOOM_MAGN);i!==this.magn&&(this.magn=i,this.fire("zoom",this.magn,e))},_onClick:function(t){var e,i=t.target||t.srcElement,n=this._findBtnElement(i);return n&&(e=parseFloat(n.getAttribute("data-magn")),this._zoom(e)),t.preventDefault&&t.preventDefault(),!1},_attachEvent:function(t){o.bindEvent("click",t,this._onClick,this)},_calculateMagn:function(t){var e,i=parseInt(t/s.WHEEL_TICK,10);return e=i>0?Math.pow(2,i):Math.pow(.5,Math.abs(i))},onWheel:function(t,e){var i;Math.abs(t)<s.WHEEL_TICK?this.stackedWheelDelta+=t:this.stackedWheelDelta=t,Math.abs(this.stackedWheelDelta)<s.WHEEL_TICK||(i=this._calculateMagn(this.stackedWheelDelta),this._zoom(i,e),this.stackedWheelDelta=this.stackedWheelDelta%s.WHEEL_TICK)}});tui.util.CustomEvents.mixin(h),e.exports=h},{"../const":24,"../helpers/domHandler":49,"../helpers/eventListener":50,"../helpers/renderUtil":53,"./seriesTemplate":90}],92:[function(t,e,i){"use strict";var n="#000000",s="#ffffff",a="",r={tickColor:n,title:{fontSize:12,fontFamily:a,color:n},label:{fontSize:12,fontFamily:a,color:n}},o={chart:{background:s,fontFamily:"Verdana"},title:{fontSize:18,fontFamily:a,color:n},yAxis:r,xAxis:r,plot:{lineColor:"#dddddd",background:"#ffffff"},series:{label:{fontSize:11,fontFamily:a,color:n},colors:["#ac4142","#d28445","#f4bf75","#90a959","#75b5aa","#6a9fb5","#aa759f","#8f5536"],singleColors:[],borderColor:a,selectionColor:a,startColor:"#F4F4F4",endColor:"#345391",overColor:"#F0C952"},legend:{label:{fontSize:12,fontFamily:a,color:n}},tooltip:{}};e.exports=o},{}],93:[function(t,e,i){"use strict";var n=t("./tooltipBase"),s=t("./groupTooltipPositionModel"),a=t("../const"),r=t("../helpers/domHandler"),o=t("../helpers/renderUtil"),h=t("../themes/defaultTheme"),l=t("./tooltipTemplate"),u=tui.util.defineClass(n,{init:function(t){n.call(this,t)},_makeTooltipHtml:function(t,e){var i=l.tplGroupItem,n=l.tplGroupCssText,s=this._makeColors(this.theme),a=tui.util.map(e,function(t,e){return i(tui.util.extend({cssText:n({color:s[e]})},t))}).join("");return l.tplGroup({category:t,items:a})},_setDefaultTooltipPositionOption:function(){this.options.align||(this.isVertical?this.options.align=a.TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION:this.options.align=a.TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION)},render:function(){var t=n.prototype.render.call(this),e=this.boundsMaker.getDimension("chart"),i=this.boundsMaker.getBound("tooltip");return this.positionModel=new s(e,i,this.isVertical,this.options),t},rerender:function(t){n.prototype.rerender.call(this,t),this.theme=this._updateLegendTheme(t.checkedLegends)},_updateLegendTheme:function(t){var e=[];return tui.util.forEachArray(this.dataProcessor.getOriginalLegendData(),function(i){var n=t[i.chartType]||t;n[i.index]&&e.push(i.theme.color)}),{colors:e}},_makeTooltipData:function(){var t=this;return tui.util.map(this.dataProcessor.getSeriesGroups(),function(e,i){return{category:t.dataProcessor.getCategory(i),values:e.pluck("label")}})},_makeColors:function(t){var e,i,n,s=0,a=this.dataProcessor.getLegendData();return t.colors?t.colors:(e=h.series.colors.slice(0,a.length),tui.util.map(tui.util.pluck(a,"chartType"),function(a){var r;return n!==a&&(i=t[a]?t[a].colors:e,s=0),n=a,r=i[s],s+=1,r}))},_makeItemRenderingData:function(t){var e=this.dataProcessor,i=this.suffix;return tui.util.map(t,function(t,n){var s=e.getLegendItem(n);return{value:t,legend:s.label,chartType:s.chartType,suffix:i}})},_makeGroupTooltipHtml:function(t){var e=this.data[t],i=this._makeItemRenderingData(e.values);return this.templateFunc(e.category,i)},_getTooltipSectorElement:function(){var t;return this.groupTooltipSector||(this.groupTooltipSector=t=r.create("DIV","tui-chart-group-tooltip-sector"),r.append(this.tooltipContainer,t)),this.groupTooltipSector},_makeVerticalTooltipSectorBound:function(t,e,i){var n;return i?(n=1,t+=6):n=e.end-e.start,{dimension:{width:n,height:t},position:{left:e.start+a.SERIES_EXPAND_SIZE,top:a.SERIES_EXPAND_SIZE}}},_makeHorizontalTooltipSectorBound:function(t,e){return{dimension:{width:t,height:e.end-e.start},position:{left:a.SERIES_EXPAND_SIZE,top:e.start+a.SERIES_EXPAND_SIZE}}},_makeTooltipSectorBound:function(t,e,i,n){var s;return s=i?this._makeVerticalTooltipSectorBound(t,e,n):this._makeHorizontalTooltipSectorBound(t,e)},_showTooltipSector:function(t,e,i,n){var s=this._getTooltipSectorElement(),a=e.start===e.end,h=this._makeTooltipSectorBound(t,e,i,a);a?this.fire("showGroupTooltipLine",h):(o.renderDimension(s,h.dimension),o.renderPosition(s,h.position),r.addClass(s,"show")),this.fire("showGroupAnimation",n)},_hideTooltipSector:function(t){var e=this._getTooltipSectorElement();r.removeClass(e,"show"),this.fire("hideGroupAnimation",t),this.fire("hideGroupTooltipLine")},_showTooltip:function(t,e,i){var n,s;tui.util.isUndefined(this.prevIndex)||this.fire("hideGroupAnimation",this.prevIndex),t.innerHTML=this._makeGroupTooltipHtml(e.index),this._fireBeforeShowTooltip(e.index,e.range),r.addClass(t,"show"),this._showTooltipSector(e.size,e.range,e.isVertical,e.index),n=this.getTooltipDimension(t),s=this.positionModel.calculatePosition(n,e.range),this._moveToPosition(t,s,i),this._fireAfterShowTooltip(e.index,e.range,{element:t,position:s}),this.prevIndex=e.index},_fireBeforeShowTooltip:function(t,e){this.userEvent.fire("beforeShowTooltip",{index:t,range:e})},_fireAfterShowTooltip:function(t,e,i){this.userEvent.fire("afterShowTooltip",tui.util.extend({index:t,range:e},i))},_hideTooltip:function(t,e){delete this.prevIndex,this._hideTooltipSector(e),r.removeClass(t,"show"),t.style.cssText=""}});e.exports=u},{"../const":24,"../helpers/domHandler":49,"../helpers/renderUtil":53,"../themes/defaultTheme":92,"./groupTooltipPositionModel":94,"./tooltipBase":98,"./tooltipTemplate":99}],94:[function(t,e,i){"use strict";var n=t("../const"),s=tui.util.defineClass({init:function(t,e,i,n){this.chartDimension=t,this.areaBound=e,this.isVertical=i,this.options=n,this.positions={},this._setData(t,e,i,n)},_getHorizontalDirection:function(t){var e;return t=t||"",e=t.indexOf("left")>-1?n.TOOLTIP_DIRECTION_BACKWARD:t.indexOf("center")>-1?n.TOOLTIP_DIRECTION_CENTER:n.TOOLTIP_DIRECTION_FORWARD},_makeVerticalData:function(t,e,i){var s=this._getHorizontalDirection(i);return{positionType:"left",sizeType:"width",direction:s,areaPosition:e.position.left,areaSize:e.dimension.width,chartSize:t.width,basePosition:n.SERIES_EXPAND_SIZE}},_getVerticalDirection:function(t){var e;return t=t||"",e=t.indexOf("top")>-1?n.TOOLTIP_DIRECTION_BACKWARD:t.indexOf("bottom")>-1?n.TOOLTIP_DIRECTION_FORWARD:n.TOOLTIP_DIRECTION_CENTER},_makeHorizontalData:function(t,e,i){var s=this._getVerticalDirection(i);return{positionType:"top",sizeType:"height",direction:s,areaPosition:e.position.top,areaSize:e.dimension.height,chartSize:t.height,basePosition:n.SERIES_EXPAND_SIZE}},_setData:function(t,e,i,n){var s=this._makeVerticalData(t,e,n.align),a=this._makeHorizontalData(t,e,n.align);i?(this.mainData=s,this.subData=a):(this.mainData=a,this.subData=s),this.positionOption=tui.util.extend({left:0,top:0},n.position),this.positions={}},_calculateMainPositionValue:function(t,e,i){var s=e.start===e.end,a=9,r=5,o=s?a:r,h=i.basePosition;return h+=i.direction===n.TOOLTIP_DIRECTION_FORWARD?e.end+o:i.direction===n.TOOLTIP_DIRECTION_BACKWARD?e.start-t-o:s?e.start-t/2:e.start+(e.end-e.start-t)/2},_calculateSubPositionValue:function(t,e){var i,s=e.areaSize/2;return i=e.direction===n.TOOLTIP_DIRECTION_FORWARD?s+e.basePosition:e.direction===n.TOOLTIP_DIRECTION_BACKWARD?s-t+e.basePosition:s-t/2+e.basePosition},_makePositionValueDiff:function(t,e,i){return t+i.areaPosition+e-i.chartSize},_adjustBackwardPositionValue:function(t,e,i,s){var a;return t<-s.areaPosition&&(a=this._calculateMainPositionValue(i,e,{direction:n.TOOLTIP_DIRECTION_FORWARD,basePosition:s.basePosition}),t=this._makePositionValueDiff(a,i,s)>0?-s.areaPosition:a),t},_adjustForwardPositionValue:function(t,e,i,s){var a,r=this._makePositionValueDiff(t,i,s);return r>0&&(a=this._calculateMainPositionValue(i,e,{direction:n.TOOLTIP_DIRECTION_BACKWARD,basePosition:s.basePosition}),a<-s.areaPosition?t-=r:t=a),t},_adjustMainPositionValue:function(t,e,i,s){return s.direction===n.TOOLTIP_DIRECTION_BACKWARD?t=this._adjustBackwardPositionValue(t,e,i,s):s.direction===n.TOOLTIP_DIRECTION_FORWARD?t=this._adjustForwardPositionValue(t,e,i,s):(t=Math.max(t,-s.areaPosition),t=Math.min(t,s.chartSize-s.areaPosition-i)),t},_adjustSubPositionValue:function(t,e,i){return t=i.direction===n.TOOLTIP_DIRECTION_FORWARD?Math.min(t,i.chartSize-i.areaPosition-e):Math.max(t,-i.areaPosition)},_makeCachingKey:function(t){return t.start+"-"+t.end},_addPositionOptionValue:function(t,e){return t+this.positionOption[e]},_makeMainPositionValue:function(t,e,i){var n;return n=this._calculateMainPositionValue(t[i.sizeType],e,i),n=this._addPositionOptionValue(n,i.positionType),n=this._adjustMainPositionValue(n,e,t[i.sizeType],i)},_makeSubPositionValue:function(t,e){var i;return i=this._calculateSubPositionValue(t[e.sizeType],e),i=this._addPositionOptionValue(i,e.positionType),i=this._adjustSubPositionValue(i,t[e.sizeType],e)},calculatePosition:function(t,e){var i=this._makeCachingKey(e),n=this.mainData,s=this.subData,a=this.positions[i];return a||(a={},a[n.positionType]=this._makeMainPositionValue(t,e,n),a[s.positionType]=this._makeSubPositionValue(t,s),this.positions[i]=a),a},updateOptions:function(t){this.options=t,this._setData(this.chartDimension,this.areaBound,this.isVertical,t)},updateBound:function(t){this.areaBound=t,this._setData(this.chartDimension,t,this.isVertical,this.options)}});e.exports=s},{"../const":24}],95:[function(t,e,i){"use strict";var n=t("../const"),s=t("./tooltipBase"),a=t("./singleTooltipMixer"),r=t("./tooltipTemplate"),o=tui.util.defineClass(s,{init:function(t){this.mapModel=null,s.call(this,t)},_makeTooltipHtml:function(t){return r.tplMapChartDefault(t)},_makeSingleTooltipHtml:function(t,e){var i=this.mapModel.getDatum(e.index),n=this.options.suffix?" "+this.options.suffix:"";return this.templateFunc({name:i.name||i.code,value:i.label,suffix:n})},_makeShowTooltipParams:function(t,e){var i,n=this.mapModel.getDatum(t.index);return i=tui.util.extend({chartType:this.chartType,code:n.code,name:n.name,value:n.label,index:t.index},e)},_setDefaultTooltipPositionOption:function(){this.options.align||(this.options.align=n.TOOLTIP_DEFAULT_ALIGN_OPTION)},render:function(t){return this.mapModel=t.mapModel,s.prototype.render.call(this)}});a.mixin(o),e.exports=o},{"../const":24,"./singleTooltipMixer":96,"./tooltipBase":98,"./tooltipTemplate":99}],96:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),a=t("../helpers/domHandler"),r=t("../helpers/renderUtil"),o={_fireShowAnimation:function(t,e){var i=r.makeCustomEventName("show",e,"animation");this.fire(i,t)},_fireHideAnimation:function(t,e){var i=r.makeCustomEventName("hide",e,"animation");this.fire(i,t)},_setIndexesCustomAttribute:function(t,e){t.setAttribute("data-groupIndex",e.groupIndex),t.setAttribute("data-index",e.index)},_getIndexesCustomAttribute:function(t){var e=t.getAttribute("data-groupIndex"),i=t.getAttribute("data-index"),n=null;return tui.util.isNull(e)||tui.util.isNull(i)||(n={groupIndex:parseInt(e,10),index:parseInt(i,10)}),n},_setShowedCustomAttribute:function(t,e){t.setAttribute("data-showed",e)},_isShowedTooltip:function(t){var e=t.getAttribute("data-showed");return"true"===e||e===!0},_makeLeftPositionOfNotBarChart:function(t,e,i,n){var s=t;return e.indexOf("left")>-1?s-=i+n:e.indexOf("center")>-1?s-=i/2:s+=n,s},_makeTopPositionOfNotBarChart:function(t,e,i,s){var a=t;return e.indexOf("bottom")>-1?a+=i+s:e.indexOf("middle")>-1?a+=i/2:a-=n.TOOLTIP_GAP,a},_makeTooltipPositionOfNotBarChart:function(t){var e=t.bound,i=t.positionOption,s=t.dimension.width-(e.width||0),a=e.width?0:n.TOOLTIP_GAP,r=t.alignOption||"",o=t.dimension.height,h=e.left+i.left,l=e.top-o+i.top;return{left:this._makeLeftPositionOfNotBarChart(h,r,s,a),top:this._makeTopPositionOfNotBarChart(l,r,o,a)}},_makeTooltipPositionToMousePosition:function(t){return t.bound=t.bound||{},tui.util.extend(t.bound,t.mousePosition),this._makeTooltipPositionOfNotBarChart(t)},_makeLeftPositionOfBarChart:function(t,e,i){var s=t;return e.indexOf("left")>-1?s-=i:e.indexOf("center")>-1?s-=i/2:s+=n.TOOLTIP_GAP,s},_makeTopPositionOfBarChart:function(t,e,i){var n=t;return e.indexOf("top")>-1?n-=i:e.indexOf("middle")>-1&&(n-=i/2),n},_makeTooltipPositionOfBarChart:function(t){var e=t.bound,i=t.positionOption,n=t.dimension.height-(e.height||0),s=t.alignOption||"",a=t.dimension.width,r=e.left+e.width+i.left,o=e.top+i.top;return{left:this._makeLeftPositionOfBarChart(r,s,a),top:this._makeTopPositionOfBarChart(o,s,n)}},_adjustPosition:function(t,e){var i=this.boundsMaker.getDimension("chart"),n=this.boundsMaker.getPosition("tooltip");return e.left=Math.max(e.left,-n.left),e.left=Math.min(e.left,i.width-n.left-t.width),e.top=Math.max(e.top,-n.top),e.top=Math.min(e.top,i.height-n.top-t.height),e},_makeTooltipPosition:function(t){var e,i,n,a={};return t.mousePosition?a=this._makeTooltipPositionToMousePosition(t):(s.isBarChart(t.chartType)?(a=this._makeTooltipPositionOfBarChart(t),e="width",i="left",n=1):(a=this._makeTooltipPositionOfNotBarChart(t),e="height",i="top",n=-1),t.allowNegativeTooltip&&(a=this._moveToSymmetry(a,{bound:t.bound,indexes:t.indexes,dimension:t.dimension,chartType:t.chartType,sizeType:e,positionType:i,addPadding:n})),a=this._adjustPosition(t.dimension,a)),a},_moveToSymmetry:function(t,e){var i,n,s,a,r=e.bound,o=e.sizeType,h=e.positionType,l=e.seriesName||e.chartType,u=this.dataProcessor.getValue(e.indexes.groupIndex,e.indexes.index,l);return 0>u&&(i=e.dimension[o]/2,n=r[h],s=r[o]/2,a=2*(n+s-i)-t[h],t[h]=a),t},_isChangedIndexes:function(t,e){return!!t&&(t.groupIndex!==e.groupIndex||t.index!==e.index)},_showTooltip:function(t,e,i){var n,s,r=e.indexes,o=this._getIndexesCustomAttribute(t);this._isChangedIndexes(o,r)&&(n=t.getAttribute("data-chart-type"),this._fireHideAnimation(o,n)),t.innerHTML=this._makeSingleTooltipHtml(e.seriesName||e.chartType,r),t.setAttribute("data-chart-type",e.chartType),this._setIndexesCustomAttribute(t,r),this._setShowedCustomAttribute(t,!0),this._fireBeforeShowTooltip(r),a.addClass(t,"show"),s=this._makeTooltipPosition(tui.util.extend({dimension:this.getTooltipDimension(t),positionOption:tui.util.extend({left:0,top:0},this.options.position),alignOption:this.options.align||""},e)),this._moveToPosition(t,s,i),this._fireShowAnimation(r,e.chartType),this._fireAfterShowTooltip(r,{element:t,position:s})},_fireBeforeShowTooltip:function(t){var e=this._makeShowTooltipParams(t);this.userEvent.fire("beforeShowTooltip",e)},_fireAfterShowTooltip:function(t,e){var i=this._makeShowTooltipParams(t,e);this.userEvent.fire("afterShowTooltip",i)},_hideTooltip:function(t){var e=this,i=this._getIndexesCustomAttribute(t),r=t.getAttribute("data-chart-type");s.isMousePositionChart(r)?a.removeClass(t,"show"):r&&(this._setShowedCustomAttribute(t,!1),this._fireHideAnimation(i,r),this._isChangedIndexes(this.prevIndexes,i)&&delete this.prevIndexes,setTimeout(function(){e._isShowedTooltip(t)||(a.removeClass(t,"show"),t.style.cssText="",i=null)},n.HIDE_DELAY))},onShowTooltipContainer:function(){this.tooltipContainer.style.zIndex=n.TOOLTIP_ZINDEX},onHideTooltipContainer:function(){this.tooltipContainer.style.zIndex=0},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=o},{"../const":24,"../helpers/domHandler":49,"../helpers/predicate":51,"../helpers/renderUtil":53}],97:[function(t,e,i){"use strict";var n=t("./tooltipBase"),s=t("./singleTooltipMixer"),a=t("../const"),r=t("../helpers/predicate"),o=t("../helpers/renderUtil"),h=t("./tooltipTemplate"),l=tui.util.defineClass(n,{init:function(t){n.call(this,t)},_makeTooltipHtml:function(t,e){var i;return(i=r.isCoordinateTypeChart(this.chartType)?h.tplCoordinatetypeChart:h.tplDefault)(tui.util.extend({category:t||""},e))},_makeHtmlForValueTypes:function(t,e){return tui.util.map(e,function(e){return t[e]?"<div>"+e+": "+t[e]+"</div>":""}).join("")},_makeSingleTooltipHtml:function(t,e){var i=tui.util.pick(this.data,t,e.groupIndex,e.index);return i=tui.util.extend({suffix:this.suffix},i),i.valueTypes=this._makeHtmlForValueTypes(i,["x","y","r"]),this.templateFunc(i.category,i)},_setDefaultTooltipPositionOption:function(){this.options.align||(this.isVertical?this.options.align=a.TOOLTIP_DEFAULT_ALIGN_OPTION:this.options.align=a.TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION)},_makeShowTooltipParams:function(t,e){var i,n=t.index,s=this.dataProcessor.getLegendItem(n);return s?i=tui.util.extend({chartType:s.chartType,legend:s.label,legendIndex:n,index:t.groupIndex},e):null},_formatValueMap:function(t){var e={},i=this.dataProcessor.getFormatFunctions();return tui.util.forEach(t,function(t,n){e[n]=o.formatValue(t,i,"tooltip",n)}),e},_makeTooltipDatum:function(t,e,i,n,s){var a=t[i][s],r=a&&n.label?":&nbsp;":"",o=n.label?r+n.label:"",h=this._formatValueMap(n.pickValueMap());return tui.util.extend({category:e,legend:a,label:o},h)},_makeTooltipData:function(){var t=this,e=this.dataProcessor.getCategories(),i=this.dataProcessor.getLegendLabels(),n={},s={};return tui.util.isArray(i)?n[this.chartType]=i:n=i,this.dataProcessor.eachBySeriesGroup(function(i,a,r){var o,h=e[a]||"";r=r||t.chartType,o=i.map(function(e,i){return e?t._makeTooltipDatum(n,h,r,e,i):null}),s[r]||(s[r]=[]),s[r].push(o)}),s}});s.mixin(l),e.exports=l},{"../const":24,"../helpers/predicate":51,"../helpers/renderUtil":53,"./singleTooltipMixer":96,"./tooltipBase":98,"./tooltipTemplate":99}],98:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/domHandler"),a=t("../helpers/predicate"),r=t("../helpers/renderUtil"),o=tui.util.defineClass({init:function(t){var e=a.isPieChart(t.chartType);tui.util.extend(this,t),this.className="tui-chart-tooltip-area",this.tooltipContainer=null,this.suffix=this.options.suffix?"&nbsp;"+this.options.suffix:"",this.templateFunc=this.options.template||tui.util.bind(this._makeTooltipHtml,this),this.animationTime=e?n.TOOLTIP_PIE_ANIMATION_TIME:n.TOOLTIP_ANIMATION_TIME,this.chartType=t.chartType,this.data=[],this._setDefaultTooltipPositionOption(),this._saveOriginalPositionOptions()},_makeTooltipHtml:function(){},_setDefaultTooltipPositionOption:function(){},_saveOriginalPositionOptions:function(){
this.orgPositionOptions={align:this.options.align,position:this.options.position}},_makeTooltipData:function(){},render:function(){var t=s.create("DIV",this.className);return this.data=this._makeTooltipData(),r.renderPosition(t,this.boundsMaker.getPosition("tooltip")),this.tooltipContainer=t,t},rerender:function(){this.data=this._makeTooltipData(),this.resize()},resize:function(){r.renderPosition(this.tooltipContainer,this.boundsMaker.getPosition("tooltip")),this.positionModel&&this.positionModel.updateBound(this.boundsMaker.getBound("tooltip"))},_getTooltipElement:function(){var t;return this.tooltipElement||(this.tooltipElement=t=s.create("DIV","tui-chart-tooltip"),s.append(this.tooltipContainer,t)),this.tooltipElement},onShow:function(t){var e,i=this._getTooltipElement();!a.isMousePositionChart(t.chartType)&&i.offsetWidth&&(e={left:i.offsetLeft,top:i.offsetTop}),this._showTooltip(i,t,e)},getTooltipDimension:function(t){return{width:t.offsetWidth,height:t.offsetHeight}},_moveToPosition:function(t,e,i){i?this._slideTooltip(t,i,e):r.renderPosition(t,e)},_slideTooltip:function(t,e,i){var n=i.top-e.top,s=i.left-e.left;r.cancelAnimation(this.slidingAnimation),this.slidingAnimation=r.startAnimation(this.animationTime,function(i){var a=s*i,r=n*i;t.style.left=e.left+a+"px",t.style.top=e.top+r+"px"})},onHide:function(t){var e=this._getTooltipElement();this._hideTooltip(e,t)},setAlign:function(t){this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},setPosition:function(t){this.options.position=tui.util.extend({},this.options.position,t),this.positionModel&&this.positionModel.updateOptions(this.options)},resetAlign:function(){var t=this.orgPositionOptions.align;this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},resetPosition:function(){var t=this.orgPositionOptions.position;this.options.position=t,this.positionModel&&this.positionModel.updateOptions(this.options)}});tui.util.CustomEvents.mixin(o),e.exports=o},{"../const":24,"../helpers/domHandler":49,"../helpers/predicate":51,"../helpers/renderUtil":53}],99:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_DEFAULT_TEMPLATE:'<div class="tui-chart-default-tooltip"><div>{{ category }}</div><div><span>{{ legend }}</span><span>{{ label }}</span><span>{{ suffix }}</span></div></div>',HTML_COORDINATE_TYPE_CHART_TEMPLATE:'<div class="tui-chart-default-tooltip"><div>{{ category }}</div><div><span>{{ legend }}</span><span>{{ label }}</span></div>{{ valueTypes }}</div>',HTML_GROUP:'<div class="tui-chart-default-tooltip tui-chart-group-tooltip"><div>{{ category }}</div>{{ items }}</div>',HTML_GROUP_ITEM:'<div><div class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></div>&nbsp;<span>{{ legend }}</span>:&nbsp;<span>{{ value }}</span><span>{{ suffix }}</span></div>',GROUP_CSS_TEXT:"background-color:{{ color }}",HTML_MAP_CHART_DEFAULT_TEMPLATE:'<div class="tui-chart-default-tooltip"><div>{{ name }}: {{ value }}{{ suffix }}</div></div>'};e.exports={tplDefault:n.template(s.HTML_DEFAULT_TEMPLATE),tplCoordinatetypeChart:n.template(s.HTML_COORDINATE_TYPE_CHART_TEMPLATE),tplGroup:n.template(s.HTML_GROUP),tplGroupItem:n.template(s.HTML_GROUP_ITEM),tplGroupCssText:n.template(s.GROUP_CSS_TEXT),tplMapChartDefault:n.template(s.HTML_MAP_CHART_DEFAULT_TEMPLATE)}},{"../helpers/templateMaker":54}]},{},[3,64]);