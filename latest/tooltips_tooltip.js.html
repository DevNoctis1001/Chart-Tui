<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: tooltips/tooltip.js</title>
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-fe2.css">
</head>
<body>

<div id="wrap">

    <div class="header">

        <div class="container-fluid">
            <h3><a href="index.html">API Documentation</a> <small>FE개발팀</small></h3>
        </div>

    </div>

    <div class="body">
        <div id="navigation" class="navigation"><h3>Samples</h3><ul class="list samples"><li class="item"><a href="tutorial-sample01-01-bar-chart.html">Bar Chart Sample</a></li><li class="item"><a href="tutorial-sample01-02-normal-stacked-bar-chart.html">Normal Stacked Bar Chart Sample</a></li><li class="item"><a href="tutorial-sample02-01-column-chart.html">Column Chart Sample</a></li><li class="item"><a href="tutorial-sample02-02-percent-stacked-column-chart.html">Percent Stacked Column Chart Sample</a></li><li class="item"><a href="tutorial-sample03-01-line-chart.html">Line Chart Sample</a></li><li class="item"><a href="tutorial-sample04-01-combo-chart.html">Combo Chart Sample</a></li><li class="item"><a href="tutorial-sample05-01-pie-chart.html">Pie Chart Sample</a></li></ul><h3>Modules</h3><ul class="list modules"><li class="item" id="module:axisDataMaker"><span class="title"><a href="module-axisDataMaker.html">axisDataMaker</a></span><ul class="sublist methods module:axisDataMaker"><span class="subtitle">Methods</span><li><a href="module-axisDataMaker.html#.makeLabelAxisData">makeLabelAxisData</a></li><li><a href="module-axisDataMaker.html#.makeValueAxisData">makeValueAxisData</a></li></ul></li><li class="item" id="module:boundsMaker"><span class="title"><a href="module-boundsMaker.html">boundsMaker</a></span><ul class="sublist methods module:boundsMaker"><span class="subtitle">Methods</span><li><a href="module-boundsMaker.html#._getRenderedLabelsMaxHeight">_getRenderedLabelsMaxHeight</a></li><li><a href="module-boundsMaker.html#.make">make</a></li></ul></li><li class="item" id="module:calculator"><span class="title"><a href="module-calculator.html">calculator</a></span><ul class="sublist methods module:calculator"><span class="subtitle">Methods</span><li><a href="module-calculator.html#.arrayPivot">arrayPivot</a></li><li><a href="module-calculator.html#.calculateScale">calculateScale</a></li><li><a href="module-calculator.html#.getScaleStep">getScaleStep</a></li><li><a href="module-calculator.html#.makePixelPositions">makePixelPositions</a></li><li><a href="module-calculator.html#.normalizeAxisNumber">normalizeAxisNumber</a></li></ul></li><li class="item" id="module:dataConverter"><span class="title"><a href="module-dataConverter.html">dataConverter</a></span><ul class="sublist methods module:dataConverter"><span class="subtitle">Methods</span><li><a href="module-dataConverter.html#._findFormatFunctions">_findFormatFunctions</a></li><li><a href="module-dataConverter.html#._pickLegendLabels">_pickLegendLabels</a></li><li><a href="module-dataConverter.html#._pickValues">_pickValues</a></li><li><a href="module-dataConverter.html#.convert">convert</a></li></ul></li><li class="item" id="module:domHandler"><span class="title"><a href="module-domHandler.html">domHandler</a></span><ul class="sublist methods module:domHandler"><span class="subtitle">Methods</span><li><a href="module-domHandler.html#.addClass">addClass</a></li><li><a href="module-domHandler.html#.append">append</a></li><li><a href="module-domHandler.html#.create">create</a></li><li><a href="module-domHandler.html#.findParentByClass">findParentByClass</a></li><li><a href="module-domHandler.html#.hasClass">hasClass</a></li><li><a href="module-domHandler.html#.removeClass">removeClass</a></li></ul></li><li class="item" id="module:eventListener"><span class="title"><a href="module-eventListener.html">eventListener</a></span><ul class="sublist methods module:eventListener"><span class="subtitle">Methods</span><li><a href="module-eventListener.html#.bindEvent">bindEvent</a></li></ul></li><li class="item" id="module:renderUtil"><span class="title"><a href="module-renderUtil.html">renderUtil</a></span><ul class="sublist methods module:renderUtil"><span class="subtitle">Methods</span><li><a href="module-renderUtil.html#.concatStr">concatStr</a></li><li><a href="module-renderUtil.html#.getRenderedLabelHeight">getRenderedLabelHeight</a></li><li><a href="module-renderUtil.html#.getRenderedLabelWidth">getRenderedLabelWidth</a></li><li><a href="module-renderUtil.html#.isIE8">isIE8</a></li><li><a href="module-renderUtil.html#.makeFontCssText">makeFontCssText</a></li><li><a href="module-renderUtil.html#.renderBackground">renderBackground</a></li><li><a href="module-renderUtil.html#.renderDimension">renderDimension</a></li><li><a href="module-renderUtil.html#.renderPosition">renderPosition</a></li><li><a href="module-renderUtil.html#.renderTitle">renderTitle</a></li></ul></li></ul><h3>Classes</h3><ul class="list classes"><li class="item" id="Axis"><span class="title"><a href="Axis.html">Axis</a></span><ul class="sublist members Axis"><span class="subtitle">Members</span><li><a href="Axis.html#className">className</a></li></ul><ul class="sublist division Axis"><li></li></ul><ul class="sublist methods Axis"><span class="subtitle">Methods</span><li><a href="Axis.html#render">render</a></li></ul></li><li class="item" id="AxisTypeBase"><span class="title"><a href="AxisTypeBase.html">AxisTypeBase</a></span><ul class="sublist methods AxisTypeBase"><span class="subtitle">Methods</span><li><a href="AxisTypeBase.html#addAxisComponents">addAxisComponents</a></li><li><a href="AxisTypeBase.html#addComponent">addComponent</a></li><li><a href="AxisTypeBase.html#getPaper">getPaper</a></li><li><a href="AxisTypeBase.html#makeBaseData">makeBaseData</a></li><li><a href="AxisTypeBase.html#render">render</a></li></ul></li><li class="item" id="BarChart"><span class="title"><a href="BarChart.html">BarChart</a></span><ul class="sublist methods BarChart"><span class="subtitle">Methods</span><li><a href="BarChart.html#addAxisComponents">addAxisComponents</a></li><li><a href="BarChart.html#addComponent">addComponent</a></li><li><a href="BarChart.html#getPaper">getPaper</a></li><li><a href="BarChart.html#makeBaseData">makeBaseData</a></li><li><a href="BarChart.html#render">render</a></li></ul></li><li class="item" id="BarChartSeries"><span class="title"><a href="BarChartSeries.html">BarChartSeries</a></span><ul class="sublist members BarChartSeries"><span class="subtitle">Members</span><li><a href="BarChartSeries.html#className">className</a></li><li><a href="BarChartSeries.html#graphRenderer">graphRenderer</a></li></ul><ul class="sublist division BarChartSeries"><li></li></ul><ul class="sublist methods BarChartSeries"><span class="subtitle">Methods</span><li><a href="BarChartSeries.html#_makeBounds">_makeBounds</a></li><li><a href="BarChartSeries.html#_makePositions">_makePositions</a></li><li><a href="BarChartSeries.html#getPaper">getPaper</a></li><li><a href="BarChartSeries.html#hideTooltip">hideTooltip</a></li><li><a href="BarChartSeries.html#onHideAnimation">onHideAnimation</a></li><li><a href="BarChartSeries.html#onShowAnimation">onShowAnimation</a></li><li><a href="BarChartSeries.html#render">render</a></li><li><a href="BarChartSeries.html#showTooltip">showTooltip</a></li></ul></li><li class="item" id="ChartBase"><span class="title"><a href="ChartBase.html">ChartBase</a></span><ul class="sublist methods ChartBase"><span class="subtitle">Methods</span><li><a href="ChartBase.html#addComponent">addComponent</a></li><li><a href="ChartBase.html#getPaper">getPaper</a></li><li><a href="ChartBase.html#makeBaseData">makeBaseData</a></li><li><a href="ChartBase.html#render">render</a></li></ul></li><li class="item" id="ColumnChart"><span class="title"><a href="ColumnChart.html">ColumnChart</a></span><ul class="sublist methods ColumnChart"><span class="subtitle">Methods</span><li><a href="ColumnChart.html#addAxisComponents">addAxisComponents</a></li><li><a href="ColumnChart.html#addComponent">addComponent</a></li><li><a href="ColumnChart.html#getPaper">getPaper</a></li><li><a href="ColumnChart.html#makeBaseData">makeBaseData</a></li><li><a href="ColumnChart.html#render">render</a></li></ul></li><li class="item" id="ColumnChartSeries"><span class="title"><a href="ColumnChartSeries.html">ColumnChartSeries</a></span><ul class="sublist members ColumnChartSeries"><span class="subtitle">Members</span><li><a href="ColumnChartSeries.html#className">className</a></li><li><a href="ColumnChartSeries.html#graphRenderer">graphRenderer</a></li></ul><ul class="sublist division ColumnChartSeries"><li></li></ul><ul class="sublist methods ColumnChartSeries"><span class="subtitle">Methods</span><li><a href="ColumnChartSeries.html#_makeBounds">_makeBounds</a></li><li><a href="ColumnChartSeries.html#_makePositions">_makePositions</a></li><li><a href="ColumnChartSeries.html#getPaper">getPaper</a></li><li><a href="ColumnChartSeries.html#hideTooltip">hideTooltip</a></li><li><a href="ColumnChartSeries.html#onHideAnimation">onHideAnimation</a></li><li><a href="ColumnChartSeries.html#onShowAnimation">onShowAnimation</a></li><li><a href="ColumnChartSeries.html#render">render</a></li><li><a href="ColumnChartSeries.html#showTooltip">showTooltip</a></li></ul></li><li class="item" id="ComboChart"><span class="title"><a href="ComboChart.html">ComboChart</a></span><ul class="sublist methods ComboChart"><span class="subtitle">Methods</span><li><a href="ComboChart.html#addComponent">addComponent</a></li><li><a href="ComboChart.html#getPaper">getPaper</a></li><li><a href="ComboChart.html#makeBaseData">makeBaseData</a></li><li><a href="ComboChart.html#render">render</a></li></ul></li><li class="item" id="Legend"><span class="title"><a href="Legend.html">Legend</a></span><ul class="sublist members Legend"><span class="subtitle">Members</span><li><a href="Legend.html#className">className</a></li></ul><ul class="sublist division Legend"><li></li></ul><ul class="sublist methods Legend"><span class="subtitle">Methods</span><li><a href="Legend.html#render">render</a></li></ul></li><li class="item" id="LineChart"><span class="title"><a href="LineChart.html">LineChart</a></span><ul class="sublist methods LineChart"><span class="subtitle">Methods</span><li><a href="LineChart.html#addAxisComponents">addAxisComponents</a></li><li><a href="LineChart.html#addComponent">addComponent</a></li><li><a href="LineChart.html#getPaper">getPaper</a></li><li><a href="LineChart.html#makeBaseData">makeBaseData</a></li><li><a href="LineChart.html#render">render</a></li></ul></li><li class="item" id="LineChartSeries"><span class="title"><a href="LineChartSeries.html">LineChartSeries</a></span><ul class="sublist members LineChartSeries"><span class="subtitle">Members</span><li><a href="LineChartSeries.html#className">className</a></li><li><a href="LineChartSeries.html#graphRenderer">graphRenderer</a></li></ul><ul class="sublist division LineChartSeries"><li></li></ul><ul class="sublist methods LineChartSeries"><span class="subtitle">Methods</span><li><a href="LineChartSeries.html#_makeBounds">_makeBounds</a></li><li><a href="LineChartSeries.html#_makePositions">_makePositions</a></li><li><a href="LineChartSeries.html#getPaper">getPaper</a></li><li><a href="LineChartSeries.html#hideTooltip">hideTooltip</a></li><li><a href="LineChartSeries.html#onHideAnimation">onHideAnimation</a></li><li><a href="LineChartSeries.html#onShowAnimation">onShowAnimation</a></li><li><a href="LineChartSeries.html#render">render</a></li><li><a href="LineChartSeries.html#showTooltip">showTooltip</a></li></ul></li><li class="item" id="PieChart"><span class="title"><a href="PieChart.html">PieChart</a></span><ul class="sublist methods PieChart"><span class="subtitle">Methods</span><li><a href="PieChart.html#addComponent">addComponent</a></li><li><a href="PieChart.html#getPaper">getPaper</a></li><li><a href="PieChart.html#makeBaseData">makeBaseData</a></li><li><a href="PieChart.html#render">render</a></li></ul></li><li class="item" id="PieChartSeries"><span class="title"><a href="PieChartSeries.html">PieChartSeries</a></span><ul class="sublist members PieChartSeries"><span class="subtitle">Members</span><li><a href="PieChartSeries.html#className">className</a></li><li><a href="PieChartSeries.html#graphRenderer">graphRenderer</a></li></ul><ul class="sublist division PieChartSeries"><li></li></ul><ul class="sublist methods PieChartSeries"><span class="subtitle">Methods</span><li><a href="PieChartSeries.html#_makeBounds">_makeBounds</a></li><li><a href="PieChartSeries.html#_makePositions">_makePositions</a></li><li><a href="PieChartSeries.html#getPaper">getPaper</a></li><li><a href="PieChartSeries.html#hideTooltip">hideTooltip</a></li><li><a href="PieChartSeries.html#onHideAnimation">onHideAnimation</a></li><li><a href="PieChartSeries.html#onShowAnimation">onShowAnimation</a></li><li><a href="PieChartSeries.html#render">render</a></li><li><a href="PieChartSeries.html#showTooltip">showTooltip</a></li></ul></li><li class="item" id="Plot"><span class="title"><a href="Plot.html">Plot</a></span><ul class="sublist members Plot"><span class="subtitle">Members</span><li><a href="Plot.html#className">className</a></li></ul><ul class="sublist division Plot"><li></li></ul><ul class="sublist methods Plot"><span class="subtitle">Methods</span><li><a href="Plot.html#makeHorizontalPixelPositions">makeHorizontalPixelPositions</a></li><li><a href="Plot.html#makeVerticalPixelPositions">makeVerticalPixelPositions</a></li><li><a href="Plot.html#render">render</a></li></ul></li><li class="item" id="RaphaelBarChart"><span class="title"><a href="RaphaelBarChart.html">RaphaelBarChart</a></span><ul class="sublist methods RaphaelBarChart"><span class="subtitle">Methods</span><li><a href="RaphaelBarChart.html#render">render</a></li></ul></li><li class="item" id="RaphaelLineChart"><span class="title"><a href="RaphaelLineChart.html">RaphaelLineChart</a></span><ul class="sublist methods RaphaelLineChart"><span class="subtitle">Methods</span><li><a href="RaphaelLineChart.html#hideAnimation">hideAnimation</a></li><li><a href="RaphaelLineChart.html#render">render</a></li><li><a href="RaphaelLineChart.html#showAnimation">showAnimation</a></li></ul></li><li class="item" id="RaphaelPieChart"><span class="title"><a href="RaphaelPieChart.html">RaphaelPieChart</a></span><ul class="sublist methods RaphaelPieChart"><span class="subtitle">Methods</span><li><a href="RaphaelPieChart.html#hideAnimation">hideAnimation</a></li><li><a href="RaphaelPieChart.html#render">render</a></li><li><a href="RaphaelPieChart.html#showAnimation">showAnimation</a></li></ul></li><li class="item" id="Series"><span class="title"><a href="Series.html">Series</a></span><ul class="sublist members Series"><span class="subtitle">Members</span><li><a href="Series.html#className">className</a></li><li><a href="Series.html#graphRenderer">graphRenderer</a></li></ul><ul class="sublist division Series"><li></li></ul><ul class="sublist methods Series"><span class="subtitle">Methods</span><li><a href="Series.html#_makeBounds">_makeBounds</a></li><li><a href="Series.html#_makeBounds">_makeBounds</a></li><li><a href="Series.html#_makePositions">_makePositions</a></li><li><a href="Series.html#getPaper">getPaper</a></li><li><a href="Series.html#hideTooltip">hideTooltip</a></li><li><a href="Series.html#onHideAnimation">onHideAnimation</a></li><li><a href="Series.html#onShowAnimation">onShowAnimation</a></li><li><a href="Series.html#render">render</a></li><li><a href="Series.html#showTooltip">showTooltip</a></li></ul></li><li class="item" id="Tooltip"><span class="title"><a href="Tooltip.html">Tooltip</a></span><ul class="sublist members Tooltip"><span class="subtitle">Members</span><li><a href="Tooltip.html#className">className</a></li></ul><ul class="sublist division Tooltip"><li></li></ul><ul class="sublist methods Tooltip"><span class="subtitle">Methods</span><li><a href="Tooltip.html#attachEvent">attachEvent</a></li><li><a href="Tooltip.html#onHide">onHide</a></li><li><a href="Tooltip.html#onMouseout">onMouseout</a></li><li><a href="Tooltip.html#onMouseover">onMouseover</a></li><li><a href="Tooltip.html#onShow">onShow</a></li><li><a href="Tooltip.html#render">render</a></li></ul></li></ul><h3>Namespaces</h3><ul class="list namespaces"><li class="item" id="ne.application.chart"><span class="icon blue static">static</span><span class="title"><a href="ne.application.chart.html">chart</a></span><ul class="sublist methods ne.application.chart"><span class="subtitle">Methods</span><li><a href="ne.application.chart.html#.barChart">barChart</a></li><li><a href="ne.application.chart.html#.columnChart">columnChart</a></li><li><a href="ne.application.chart.html#.comboChart">comboChart</a></li><li><a href="ne.application.chart.html#.lineChart">lineChart</a></li><li><a href="ne.application.chart.html#.pieChart">pieChart</a></li><li><a href="ne.application.chart.html#.registerPlugin">registerPlugin</a></li><li><a href="ne.application.chart.html#.registerTheme">registerTheme</a></li></ul></li></ul></div>
        <div id="main" class="main">



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview Tooltip component.
 * @author NHN Ent.
 *         FE Development Team &lt;dl_javascript@nhnent.com>
 */

'use strict';

var dom = require('../helpers/domHandler.js'),
    renderUtil = require('../helpers/renderUtil.js'),
    event = require('../helpers/eventListener.js'),
    templateMaker = require('../helpers/templateMaker.js'),
    tooltipTemplate = require('./tooltipTemplate.js');

var TOOLTIP_GAP = 5,
    HIDDEN_WIDTH = 1,
    TOOLTIP_CLASS_NAME = 'ne-chart-tooltip',
    HIDE_DELAY = 0;

var concat = Array.prototype.concat;

var Tooltip = ne.util.defineClass(/** @lends Tooltip.prototype */ {
    /**
     * Tooltip component.
     * @constructs Tooltip
     * @param {object} params parameters
     *      @param {array.&lt;number>} params.values converted values
     *      @param {array} params.labels labels
     *      @param {array} params.legendLabels legend labels
     *      @param {string} prefix tooltip prefix
     *      @param {object} params.bound axis bound
     *      @param {object} params.theme axis theme
     */
    init: function(params) {
        ne.util.extend(this, params);
        /**
         * Tooltip view className
         * @type {string}
         */
        this.className = 'ne-chart-tooltip-area';
    },

    /**
     * Render tooltip.
     * @param {{position: object}} bound tooltip bound
     * @param {string} prefix tooltip id prefix
     * @returns {HTMLElement} tooltip element
     */
    render: function() {
        var el = dom.create('DIV', this.className),
            bound = this.bound;

        renderUtil.renderPosition(el, bound.position);
        el.innerHTML = this._makeTooltipsHtml();

        this.attachEvent(el);
        return el;
    },

    /**
     * To make tooltip data.
     * @returns {array.&lt;object>} tooltip data
     * @private
     */
    _makeTooltipData: function() {
        var labels = this.labels,
            groupValues = this.values,
            legendLabels = this.legendLabels,
            tooltipData = ne.util.map(groupValues, function(values, groupIndex) {
                var items = ne.util.map(values, function(value, index) {
                    var item = {value: value,
                        legendLabel: legendLabels[index],
                        id: groupIndex + '-' + index
                    };
                    if (labels) {
                        item.label = labels[groupIndex];
                    }
                    return item;
                });

                return items;
            });
        return concat.apply([], tooltipData);
    },

    /**
     * To make html of tooltip.
     * @param {object} data tooltip data
     * @param {string} prefix tooltip id prefix
     * @returns {string} html
     * @private
     */
    _makeTooltipsHtml: function() {
        var options = this.options,
            prefix = this.prefix,
            data = this._makeTooltipData(),
            optionTemplate = options.template ? options.template : '',
            tplOuter = tooltipTemplate.TPL_TOOLTIP,
            tplTooltip = optionTemplate ? templateMaker.template(optionTemplate) : tooltipTemplate.TPL_DEFAULT_TEMPLATE,
            suffix = options.suffix ? '&amp;nbsp;' + options.suffix : '',
            html = ne.util.map(data, function(tooltipData) {
                var id = prefix + tooltipData.id,
                    tooltipHtml;

                tooltipData = ne.util.extend({
                    label: '',
                    legendLabel: '',
                    value: '',
                    suffix: suffix
                }, tooltipData);
                tooltipHtml = tplTooltip(tooltipData);
                return tplOuter({
                    id: id,
                    html: tooltipHtml
                });
            }, this).join('');
        return html;
    },

    /**
     * Get index from id
     * @param {string} id tooltip id
     * @returns {array.&lt;number>} indexes
     * @private
     */
    _getIndexFromId: function(id) {
        var ids = id.split('-'),
            sliceIndex = ids.length - 2;
        return ids.slice(sliceIndex);
    },

    /**
     * Fire custom event showAnimation.
     * @param {string} id tooltip id
     * @private
     */
    _fireShowAnimation: function(id) {
        var indexes = this._getIndexFromId(id);
        this.fire('showAnimation', {
            groupIndex: indexes[0],
            index: indexes[1]
        });
    },

    /**
     * Fire custom event hideAnimation.
     * @param {string} id tooltip id
     * @private
     */
    _fireHideAnimation: function(id) {
        var indexes = this._getIndexFromId(id);
        this.fire('hideAnimation', {
            groupIndex: indexes[0],
            index: indexes[1]
        });
    },

    /**
     * On mouseover event handler for tooltip area
     * @param {MouseEvent} e mouse event
     */
    onMouseover: function(e) {
        var elTarget = e.target || e.srcElement,
            id;

        if (!dom.hasClass(elTarget, TOOLTIP_CLASS_NAME)) {
            elTarget = dom.findParentByClass(elTarget, TOOLTIP_CLASS_NAME);
        }

        this.showedId = id = elTarget.id;
        this._fireShowAnimation(id);
    },

    /**
     * On mouseout event handler for tooltip area
     * @param {MouseEvent} e mouse event
     */
    onMouseout: function(e) {
        var elTarget = e.target || e.srcElement,
            that = this,
            indexes;

        if (!dom.hasClass(elTarget, TOOLTIP_CLASS_NAME)) {
            elTarget = dom.findParentByClass(elTarget, TOOLTIP_CLASS_NAME);
        }

        indexes = this._getIndexFromId(elTarget.id);

        this._hideTooltip(elTarget, function() {
            that.fire('hideAnimation', {
                groupIndex: indexes[0],
                index: indexes[1]
            });
        });
    },

    /**
     * Calculate tooltip point position
     * @param {object} params parameters
     *      @param {{bound: object}} params.data graph information
     *      @param {{width: number, height: number}} params.dimension tooltip dimension
     *      @param {string} params.positionOption position option (ex: 'left top')
     * @returns {{top: number, left: number}} position
     * @private
     */
    _calculatePointPosition: function(params) {
        var bound = params.data.bound,
            minusWidth = params.dimension.width - (bound.width || 0),
            lineGap = bound.width ? 0 : TOOLTIP_GAP,
            positionOption = params.positionOption || '',
            tooltipHeight = params.dimension.height,
            result = {};

        result.left = bound.left + (HIDDEN_WIDTH * 2);
        result.top = bound.top - tooltipHeight;

        if (positionOption.indexOf('left') > -1) {
            result.left -= minusWidth + lineGap;
        } else if (positionOption.indexOf('center') > -1) {
            result.left -= minusWidth / 2;
        } else {
            result.left += lineGap;
        }

        if (positionOption.indexOf('bottom') > -1) {
            result.top += tooltipHeight - HIDDEN_WIDTH + lineGap;
        } else if (positionOption.indexOf('middle') > -1) {
            result.top += tooltipHeight / 2;
        } else {
            result.top -= TOOLTIP_GAP + HIDDEN_WIDTH;
        }

        return result;
    },

    /**
     * Calculate tooltip rect position
     * @param {object} params parameters
     *      @param {{bound: object}} params.data graph information
     *      @param {{width: number, height: number}} params.dimension tooltip dimension
     *      @param {string} params.positionOption position option (ex: 'left top')
     * @returns {{top: number, left: number}} position
     * @private
     */
    _calculateRectPosition: function(params) {
        var bound = params.data.bound,
            minusHeight = params.dimension.height - (bound.height || 0),
            positionOption = params.positionOption || '',
            tooltipWidth = params.dimension.width,
            result = {};

        result.left = bound.left + bound.width;
        result.top = bound.top;
        if (positionOption.indexOf('left') > -1) {
            result.left -= tooltipWidth;
        } else if (positionOption.indexOf('center') > -1) {
            result.left -= tooltipWidth / 2;
        } else {
            result.left += TOOLTIP_GAP;
        }

        if (positionOption.indexOf('top') > -1) {
            result.top -= minusHeight + HIDDEN_WIDTH;
        } else if (positionOption.indexOf('middle') > -1) {
            result.top -= minusHeight / 2;
        } else {
            result.top -= HIDDEN_WIDTH * 2;
        }
        return result;
    },

    /**
     * Calculate tooltip position.
     * @param {object} params parameters
     *      @param {{bound: object, isPointPosition: boolean}} params.data graph information
     *      @param {{width: number, height: number}} params.dimension tooltip dimension
     *      @param {string} params.positionOption position option (ex: 'left top')
     * @returns {{top: number, left: number}} position
     * @private
     */
    _calculatePosition: function(params) {
        var result = {};
        if (params.data.isPointPosition) {
            result = this._calculatePointPosition(params);
        } else {
            result = this._calculateRectPosition(params);
        }
        return result;
    },

    /**
     * onShow is callback of custom event showTooltip for SeriesView.
     * @param {{id: string, bound: object}} data tooltip data
     */
    onShow: function(data) {
        var elTooltip = document.getElementById(data.id),
            addPosition = ne.util.extend({
                left: 0,
                top: 0
            }, this.options.addPosition),
            positionOption = this.options.position || '',
            position;

        if (this.showedId) {
            dom.removeClass(elTooltip, 'show');
            this._fireHideAnimation(this.showedId);
        }

        this.showedId = data.id;
        dom.addClass(elTooltip, 'show');

        position = this._calculatePosition({
            data: data,
            dimension: {
                width: elTooltip.offsetWidth,
                height: elTooltip.offsetHeight
            },
            positionOption: positionOption || ''
        });

        elTooltip.style.cssText = [
            renderUtil.concatStr('left:', position.left + addPosition.left, 'px'),
            renderUtil.concatStr('top:', position.top + addPosition.top, 'px')
        ].join(';');

        this._fireShowAnimation(data.id);
    },

    /**
     * onHide is callback of custom event hideTooltip for SeriesView
     * @param {{id: string}} data tooltip data
     */
    onHide: function(data) {
        var elTooltip = document.getElementById(data.id),
            that = this;

        this._hideTooltip(elTooltip, function() {
            var indexes = that._getIndexFromId(data.id);

            that.fire('hideAnimation', {
                groupIndex: indexes[0],
                index: indexes[1]
            });

            data = null;
            elTooltip = null;
            that = null;
        });
    },

    /**
     * Hide tooltip.
     * @param {HTMLElement} elTooltip tooltip element
     * @param {function} callback callback
     * @private
     */
    _hideTooltip: function(elTooltip, callback) {
        var that = this;
        delete this.showedId;
        setTimeout(function() {
            if (that.showedId === elTooltip.id) {
                return;
            }

            dom.removeClass(elTooltip, 'show');
            if (callback) {
                callback();
            }

            that = null;
        }, HIDE_DELAY);
    },

    /**
     * Attach event
     * @param {HTMLElement} el target element
     */
    attachEvent: function(el) {
        event.bindEvent('mouseover', el, ne.util.bind(this.onMouseover, this));
        event.bindEvent('mouseout', el, ne.util.bind(this.onMouseout, this));
    }
});

ne.util.CustomEvents.mixin(Tooltip);

module.exports = Tooltip;
</code></pre>
        </article>
    </section>



</div>
        <div class="clearfix"></div>
    </div>

</div>
<script>
(function() {
// 영역 height 설정
var height = (window.innerHeight || document.documentElement.clientHeight || document.getElementByTagName('body')[0].clientHeight) - 50;
var navigation = document.getElementById('navigation');
var main = document.getElementById('main');
navigation.style.height = height + 'px';
main.style.height = height + 'px';

// IE 7,8을 위한 getElementsByClassName 구현
var getElementsByClassName = function(className, parentElement) {
	if(document.getElementsByClassName) {
		return (parentElement || document).getElementsByClassName(className);
	}

    var regEx = new RegExp('(^| )'+className+'( |$)');
	var nodes = new Array();
    var elements = (parentElement || document.body).getElementsByTagName("*");
    for(var i = 0, len = elements.length; i < len ; i++) {
        if(regEx.test(elements[i].className)) {
			nodes.push(elements[i]);
		}
	}
	elements = null;
    return nodes;
}

// url 파싱후 해당 카테고리만 display:block 처리
var url = location.href;
var path = url.lastIndexOf('/');
var fileName = url.substring(path+1);
var fullName = fileName.split('.');
fullName.length -= 1;
fullName = fullName.join('.');
fullName = fullName.split('-');
fullName = fullName[fullName.length - 1];
var lnbList = getElementsByClassName(fullName);
if(lnbList.length && lnbList.length > 0) {
    for(var i = 0, len = lnbList.length; i < len; i++) {
        lnbList[i].className += ' selected';
    }
}

var title = document.getElementById(fullName);
if(title) {
    title.className += ' selected';
    title.innerHTML = '<span class="arrow">▶</span>' + title.innerHTML;

    var static = getElementsByClassName('static', title);
    if(static) {
        static[0].className += ' selected';
    }
}
})();
</script>
<script type="text/javascript" src="scripts/prettify/prettify.js"></script>
<script type="text/javascript" src="scripts/prettify/lang-css.js"></script>
<script type="text/javascript">prettyPrint();</script>
<script type="text/javascript" src="scripts/linenumber.js"></script>
</body>
</html>
