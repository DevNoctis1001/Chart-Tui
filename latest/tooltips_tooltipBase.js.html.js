ne.util.defineNamespace("fedoc.content", {});
fedoc.content["tooltips_tooltipBase.js.html"] = "      <div id=\"main\" class=\"main\">\n\n\n\n    \n    <section>\n        <article>\n            <pre class=\"prettyprint source linenums\"><code>/**\n * @fileoverview TooltipBase is base class of tooltip components.\n * @author NHN Ent.\n *         FE Development Team &lt;dl_javascript@nhnent.com>\n */\n\n'use strict';\n\nvar dom = require('../helpers/domHandler'),\n    renderUtil = require('../helpers/renderUtil');\n\nvar TooltipBase = tui.util.defineClass(/** @lends TooltipBase.prototype */ {\n    /**\n     * TooltipBase is base class of tooltip components.\n     * @constructs TooltipBase\n     * @param {object} params parameters\n     *      @param {array.&lt;number>} params.values converted values\n     *      @param {array} params.labels labels\n     *      @param {array} params.legendLabels legend labels\n     *      @param {object} params.bound axis bound\n     *      @param {object} params.theme axis theme\n     */\n    init: function(params) {\n        tui.util.extend(this, params);\n        /**\n         * className\n         * @type {string}\n         */\n        this.className = 'tui-chart-tooltip-area';\n\n        /**\n         * TooltipBase container.\n         * @type {HTMLElement}\n         */\n        this.elLayout = null;\n\n        /**\n         * TooltipBase base data.\n         * @type {array.&lt;array.&lt;object>>}\n         */\n        this.data = this.makeTooltipData();\n\n        this.suffix = this.options.suffix ? '&amp;nbsp;' + this.options.suffix : '';\n    },\n\n\n    /**\n     * To make tooltip data.\n     * @abstract\n     */\n    makeTooltipData: function() {},\n\n    /**\n     * Get tooltip layout element.\n     * @returns {HTMLElement} layout element\n     * @private\n     */\n    _getTooltipLayoutElement: function() {\n        var elLayout = document.getElementById(this.chartId);\n        if (!elLayout) {\n            elLayout = dom.create('DIV', this.className);\n            elLayout.id = this.chartId;\n        }\n        return elLayout;\n    },\n\n    /**\n     * Render tooltip.\n     * @param {{position: object}} bound tooltip bound\n     * @returns {HTMLElement} tooltip element\n     */\n    render: function() {\n        var el = this._getTooltipLayoutElement(),\n            bound = this.bound;\n\n        renderUtil.renderPosition(el, bound.position);\n\n        this.elLayout = el;\n\n        return el;\n    },\n\n    /**\n     * Create tooltip element.\n     * @returns {HTMLElement} tooltip element\n     * @private\n     */\n    _createTooltipElement: function() {\n        var elTooltip;\n        if (!this.elLayout.firstChild) {\n            elTooltip = dom.create('DIV', 'tui-chart-tooltip');\n            dom.append(this.elLayout, elTooltip);\n        } else {\n            elTooltip = this.elLayout.firstChild;\n        }\n        return elTooltip;\n    },\n\n    /**\n     * Get tooltip element.\n     * @returns {HTMLElement} tooltip element\n     * @private\n     */\n    _getTooltipElement: function() {\n        if (!this.elTooltip) {\n            this.elTooltip = this._createTooltipElement();\n        }\n        return this.elTooltip;\n    },\n\n    /**\n     * onShow is callback of custom event showTooltip for SeriesView.\n     * @param {object} params coordinate event parameters\n     */\n    onShow: function(params) {\n        var elTooltip = this._getTooltipElement(),\n            prevPosition;\n        if (elTooltip.offsetWidth) {\n            prevPosition = {\n                left: elTooltip.offsetLeft,\n                top: elTooltip.offsetTop\n            };\n        }\n\n        this.showTooltip(elTooltip, params, prevPosition);\n    },\n\n    /**\n     * Get tooltip dimension\n     * @param {HTMLElement} elTooltip tooltip element\n     * @returns {{width: number, height: number}} rendered tooltip dimension\n     */\n    getTooltipDimension: function(elTooltip) {\n        return {\n            width: elTooltip.offsetWidth,\n            height: elTooltip.offsetHeight\n        };\n    },\n\n    /**\n     * Cancel hide tooltip.\n     * @private\n     */\n    _cancelHide: function() {\n        if (!this.activeHider) {\n            return;\n        }\n        clearInterval(this.activeHider.timerId);\n        this.activeHider.setOpacity(1);\n    },\n\n    /**\n     * Cancel slide tooltip.\n     * @private\n     */\n    _cancelSlide: function() {\n        if (!this.activeSliders) {\n            return;\n        }\n\n        tui.util.forEach(this.activeSliders, function(slider) {\n            clearInterval(slider.timerId);\n        });\n\n        this._completeSlide();\n    },\n\n    /**\n     * Move to Position.\n     * @param {HTMLElement} elTooltip tooltip element\n     * @param {{left: number, top: number}} position position\n     * @param {{left: number, top: number}} prevPosition prev position\n     */\n    moveToPosition: function(elTooltip, position, prevPosition) {\n        if (prevPosition) {\n            this._cancelHide();\n            this._cancelSlide();\n            this._slideTooltip(elTooltip, prevPosition, position);\n        } else {\n            renderUtil.renderPosition(elTooltip, position);\n        }\n    },\n\n    /**\n     * Get slider.\n     * @param {HTMLElement} element element\n     * @param {string} type slide type (horizontal or vertical)\n     * @returns {object} effect object\n     * @private\n     */\n    _getSlider: function(element, type) {\n        if (!this.slider) {\n            this.slider = {};\n        }\n\n        if (!this.slider[type]) {\n            this.slider[type] = new tui.component.Effects.Slide({\n                flow: type,\n                element: element,\n                duration: 100\n            });\n        }\n        return this.slider[type];\n    },\n\n    /**\n     * Complete slide tooltip.\n     * @private\n     */\n    _completeSlide: function() {\n        delete this.activeSliders;\n    },\n\n    /**\n     * Slide tooltip\n     * @param {HTMLElement} elTooltip tooltip element\n     * @param {{left: number, top: number}} prevPosition prev position\n     * @param {{left: number, top: number}} position position\n     * @private\n     */\n    _slideTooltip: function(elTooltip, prevPosition, position) {\n        var vSlider = this._getSlider(elTooltip, 'vertical'),\n            hSlider = this._getSlider(elTooltip, 'horizontal'),\n            moveTop = prevPosition.top - position.top,\n            moveLeft = prevPosition.left - position.left,\n            vDirection = moveTop > 0 ? 'forword' : 'backword',\n            hDirection = moveTop > 0 ? 'forword' : 'backword',\n            activeSliders = [],\n            complate = tui.util.bind(this._completeSlide, this);\n\n        if (moveTop) {\n            vSlider.setDistance(moveTop);\n            vSlider.action({\n                direction: vDirection,\n                start: prevPosition.top,\n                complete: complate\n            });\n            activeSliders.push(vSlider);\n        }\n\n        if (moveLeft) {\n            hSlider.setDistance(moveLeft);\n            hSlider.action({\n                direction: hDirection,\n                start: prevPosition.left,\n                complete: complate\n            });\n            activeSliders.push(vSlider);\n        }\n\n        if (activeSliders.length) {\n            this.activeSliders = activeSliders;\n        }\n    },\n\n    /**\n     * onHide is callback of custom event hideTooltip for SeriesView\n     * @param {number} index index\n     */\n    onHide: function(index) {\n        var elTooltip = this._getTooltipElement();\n        this.hideTooltip(elTooltip, index);\n    },\n\n    /**\n     * Get hider.\n     * @param {HTMLElement} element element\n     * @returns {object} effect object\n     * @private\n     */\n    _getHider: function(element) {\n        if (!this.hider) {\n            this.hider = new tui.component.Effects.Fade({\n                element: element,\n                duration: 100\n            });\n        }\n\n        return this.hider;\n    },\n\n    hideAnimation: function(elTooltip) {\n        this.activeHider = this._getHider(elTooltip);\n        this.activeHider.action({\n            start: 1,\n            end: 0,\n            complete: function() {\n                dom.removeClass(elTooltip, 'show');\n                elTooltip.style.cssText = '';\n            }\n        });\n    }\n});\n\ntui.util.CustomEvents.mixin(TooltipBase);\n\nmodule.exports = TooltipBase;\n</code></pre>\n        </article>\n    </section>\n\n\n\n</div>\n\n"