<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: helpers/axisDataMaker.js</title>
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-fe2.css">
</head>
<body>

<div id="wrap">

    <div class="header">

        <div class="container-fluid">
            <h3><a href="index.html">API Documentation</a> <small>FE개발팀</small></h3>
        </div>

    </div>

    <div class="body">
        <div id="navigation" class="navigation"><h3>Samples</h3><ul class="list samples"><li class="item"><a href="tutorial-sample01-01-bar-chart.html">Bar Chart Sample</a></li><li class="item"><a href="tutorial-sample01-02-negative-bar-chart.html">Negative Bar Chart Sample</a></li><li class="item"><a href="tutorial-sample01-03-normal-stacked-bar-chart.html">Bar Chart Sample(stacked=normal)</a></li><li class="item"><a href="tutorial-sample01-04-show-label-bar-chart.html">Bar Chart Sample(showLabel=true)</a></li><li class="item"><a href="tutorial-sample01-05-normal-stacked-show-lable-bar-chart.html">Bar Chart Sample(stacked=normal, showLabel=true)</a></li><li class="item"><a href="tutorial-sample02-01-column-chart.html">Column Chart Sample</a></li><li class="item"><a href="tutorial-sample02-02-negative-column-chart.html">Negative Column Chart Sample</a></li><li class="item"><a href="tutorial-sample02-03-percent-stacked-column-chart.html">Column Chart Sample(stacked=percent)</a></li><li class="item"><a href="tutorial-sample02-04-show-label-column-chart.html">Column Chart Sample(showLabel=true)</a></li><li class="item"><a href="tutorial-sample02-05-percent-stacked-show-label-column-chart.html">Column Chart Sample(stacked=percent, showLabel=true)</a></li><li class="item"><a href="tutorial-sample03-01-line-chart.html">Line Chart Sample</a></li><li class="item"><a href="tutorial-sample03-02-show-label-line-chart.html">Line Chart Sample(showLabel=true)</a></li><li class="item"><a href="tutorial-sample04-01-combo-chart.html">Combo Chart Sample</a></li><li class="item"><a href="tutorial-sample05-01-pie-chart.html">Pie Chart Sample</a></li><li class="item"><a href="tutorial-sample05-02-legend-type-center-show-label-pie-chart.html">Pie Chart Sample(legendType=center, showLabel=true)</a></li><li class="item"><a href="tutorial-sample05-03-legend-type-outer-show-label-pie-chart.html">Pie Chart Sample(legendType=outer, showLabel=true)</a></li></ul><h3>Modules</h3><ul class="list modules"><li class="item" id="module:axisDataMaker"><span class="title"><a href="module-axisDataMaker.html">axisDataMaker</a></span><ul class="sublist methods module:axisDataMaker"><span class="subtitle">Methods</span><li><a href="module-axisDataMaker.html#.makeLabelAxisData">makeLabelAxisData</a></li><li><a href="module-axisDataMaker.html#.makeValueAxisData">makeValueAxisData</a></li></ul></li><li class="item" id="module:boundsMaker"><span class="title"><a href="module-boundsMaker.html">boundsMaker</a></span><ul class="sublist methods module:boundsMaker"><span class="subtitle">Methods</span><li><a href="module-boundsMaker.html#._getRenderedLabelsMaxHeight">_getRenderedLabelsMaxHeight</a></li><li><a href="module-boundsMaker.html#.make">make</a></li></ul></li><li class="item" id="module:calculator"><span class="title"><a href="module-calculator.html">calculator</a></span><ul class="sublist methods module:calculator"><span class="subtitle">Methods</span><li><a href="module-calculator.html#.arrayPivot">arrayPivot</a></li><li><a href="module-calculator.html#.calculateScale">calculateScale</a></li><li><a href="module-calculator.html#.getScaleStep">getScaleStep</a></li><li><a href="module-calculator.html#.makeTickPixelPositions">makeTickPixelPositions</a></li><li><a href="module-calculator.html#.normalizeAxisNumber">normalizeAxisNumber</a></li></ul></li><li class="item" id="module:dataConverter"><span class="title"><a href="module-dataConverter.html">dataConverter</a></span><ul class="sublist methods module:dataConverter"><span class="subtitle">Methods</span><li><a href="module-dataConverter.html#._findFormatFunctions">_findFormatFunctions</a></li><li><a href="module-dataConverter.html#._pickLegendLabels">_pickLegendLabels</a></li><li><a href="module-dataConverter.html#._pickValues">_pickValues</a></li><li><a href="module-dataConverter.html#.convert">convert</a></li></ul></li><li class="item" id="module:domHandler"><span class="title"><a href="module-domHandler.html">domHandler</a></span><ul class="sublist methods module:domHandler"><span class="subtitle">Methods</span><li><a href="module-domHandler.html#.addClass">addClass</a></li><li><a href="module-domHandler.html#.append">append</a></li><li><a href="module-domHandler.html#.create">create</a></li><li><a href="module-domHandler.html#.findParentByClass">findParentByClass</a></li><li><a href="module-domHandler.html#.hasClass">hasClass</a></li><li><a href="module-domHandler.html#.removeClass">removeClass</a></li></ul></li><li class="item" id="module:eventListener"><span class="title"><a href="module-eventListener.html">eventListener</a></span><ul class="sublist methods module:eventListener"><span class="subtitle">Methods</span><li><a href="module-eventListener.html#.bindEvent">bindEvent</a></li></ul></li><li class="item" id="module:raphaelRenderUtil"><span class="title"><a href="module-raphaelRenderUtil.html">raphaelRenderUtil</a></span><ul class="sublist methods module:raphaelRenderUtil"><span class="subtitle">Methods</span><li><a href="module-raphaelRenderUtil.html#.makeLinePath">makeLinePath</a></li><li><a href="module-raphaelRenderUtil.html#.renderLine">renderLine</a></li></ul></li><li class="item" id="module:renderUtil"><span class="title"><a href="module-renderUtil.html">renderUtil</a></span><ul class="sublist methods module:renderUtil"><span class="subtitle">Methods</span><li><a href="module-renderUtil.html#.concatStr">concatStr</a></li><li><a href="module-renderUtil.html#.getRenderedLabelHeight">getRenderedLabelHeight</a></li><li><a href="module-renderUtil.html#.getRenderedLabelWidth">getRenderedLabelWidth</a></li><li><a href="module-renderUtil.html#.isIE8">isIE8</a></li><li><a href="module-renderUtil.html#.makeFontCssText">makeFontCssText</a></li><li><a href="module-renderUtil.html#.renderBackground">renderBackground</a></li><li><a href="module-renderUtil.html#.renderDimension">renderDimension</a></li><li><a href="module-renderUtil.html#.renderFontFamily">renderFontFamily</a></li><li><a href="module-renderUtil.html#.renderPosition">renderPosition</a></li><li><a href="module-renderUtil.html#.renderTitle">renderTitle</a></li></ul></li></ul><h3>Classes</h3><ul class="list classes"><li class="item" id="Axis"><span class="title"><a href="Axis.html">Axis</a></span><ul class="sublist members Axis"><span class="subtitle">Members</span><li><a href="Axis.html#className">className</a></li></ul><ul class="sublist division Axis"><li></li></ul><ul class="sublist methods Axis"><span class="subtitle">Methods</span><li><a href="Axis.html#render">render</a></li></ul></li><li class="item" id="BarChart"><span class="title"><a href="BarChart.html">BarChart</a></span><ul class="sublist methods BarChart"><span class="subtitle">Methods</span><li><a href="BarChart.html#addComponent">addComponent</a></li><li><a href="BarChart.html#animateChart">animateChart</a></li><li><a href="BarChart.html#getPaper">getPaper</a></li><li><a href="BarChart.html#makeBaseData">makeBaseData</a></li><li><a href="BarChart.html#render">render</a></li></ul></li><li class="item" id="BarChartSeries"><span class="title"><a href="BarChartSeries.html">BarChartSeries</a></span><ul class="sublist members BarChartSeries"><span class="subtitle">Members</span><li><a href="BarChartSeries.html#className">className</a></li><li><a href="BarChartSeries.html#graphRenderer">graphRenderer</a></li></ul><ul class="sublist division BarChartSeries"><li></li></ul><ul class="sublist methods BarChartSeries"><span class="subtitle">Methods</span><li><a href="BarChartSeries.html#animateComponent">animateComponent</a></li><li><a href="BarChartSeries.html#attachEvent">attachEvent</a></li><li><a href="BarChartSeries.html#getPaper">getPaper</a></li><li><a href="BarChartSeries.html#getScaleDistanceFromZeroPoint">getScaleDistanceFromZeroPoint</a></li><li><a href="BarChartSeries.html#hideTooltip">hideTooltip</a></li><li><a href="BarChartSeries.html#makeAddData">makeAddData</a></li><li><a href="BarChartSeries.html#onHideAnimation">onHideAnimation</a></li><li><a href="BarChartSeries.html#onMouseout">onMouseout</a></li><li><a href="BarChartSeries.html#onMouseover">onMouseover</a></li><li><a href="BarChartSeries.html#onShowAnimation">onShowAnimation</a></li><li><a href="BarChartSeries.html#render">render</a></li><li><a href="BarChartSeries.html#showSeriesLabelArea">showSeriesLabelArea</a></li><li><a href="BarChartSeries.html#showTooltip">showTooltip</a></li></ul></li><li class="item" id="ChartBase"><span class="title"><a href="ChartBase.html">ChartBase</a></span><ul class="sublist methods ChartBase"><span class="subtitle">Methods</span><li><a href="ChartBase.html#addComponent">addComponent</a></li><li><a href="ChartBase.html#animateChart">animateChart</a></li><li><a href="ChartBase.html#getPaper">getPaper</a></li><li><a href="ChartBase.html#makeBaseData">makeBaseData</a></li><li><a href="ChartBase.html#render">render</a></li></ul></li><li class="item" id="ColumnChart"><span class="title"><a href="ColumnChart.html">ColumnChart</a></span><ul class="sublist methods ColumnChart"><span class="subtitle">Methods</span><li><a href="ColumnChart.html#addComponent">addComponent</a></li><li><a href="ColumnChart.html#animateChart">animateChart</a></li><li><a href="ColumnChart.html#getPaper">getPaper</a></li><li><a href="ColumnChart.html#makeBaseData">makeBaseData</a></li><li><a href="ColumnChart.html#render">render</a></li></ul></li><li class="item" id="ColumnChartSeries"><span class="title"><a href="ColumnChartSeries.html">ColumnChartSeries</a></span><ul class="sublist members ColumnChartSeries"><span class="subtitle">Members</span><li><a href="ColumnChartSeries.html#className">className</a></li><li><a href="ColumnChartSeries.html#graphRenderer">graphRenderer</a></li></ul><ul class="sublist division ColumnChartSeries"><li></li></ul><ul class="sublist methods ColumnChartSeries"><span class="subtitle">Methods</span><li><a href="ColumnChartSeries.html#animateComponent">animateComponent</a></li><li><a href="ColumnChartSeries.html#attachEvent">attachEvent</a></li><li><a href="ColumnChartSeries.html#getPaper">getPaper</a></li><li><a href="ColumnChartSeries.html#getScaleDistanceFromZeroPoint">getScaleDistanceFromZeroPoint</a></li><li><a href="ColumnChartSeries.html#hideTooltip">hideTooltip</a></li><li><a href="ColumnChartSeries.html#makeAddData">makeAddData</a></li><li><a href="ColumnChartSeries.html#onHideAnimation">onHideAnimation</a></li><li><a href="ColumnChartSeries.html#onMouseout">onMouseout</a></li><li><a href="ColumnChartSeries.html#onMouseover">onMouseover</a></li><li><a href="ColumnChartSeries.html#onShowAnimation">onShowAnimation</a></li><li><a href="ColumnChartSeries.html#render">render</a></li><li><a href="ColumnChartSeries.html#showSeriesLabelArea">showSeriesLabelArea</a></li><li><a href="ColumnChartSeries.html#showTooltip">showTooltip</a></li></ul></li><li class="item" id="ComboChart"><span class="title"><a href="ComboChart.html">ComboChart</a></span><ul class="sublist methods ComboChart"><span class="subtitle">Methods</span><li><a href="ComboChart.html#addComponent">addComponent</a></li><li><a href="ComboChart.html#animateChart">animateChart</a></li><li><a href="ComboChart.html#getPaper">getPaper</a></li><li><a href="ComboChart.html#makeBaseData">makeBaseData</a></li><li><a href="ComboChart.html#render">render</a></li></ul></li><li class="item" id="Legend"><span class="title"><a href="Legend.html">Legend</a></span><ul class="sublist members Legend"><span class="subtitle">Members</span><li><a href="Legend.html#className">className</a></li></ul><ul class="sublist division Legend"><li></li></ul><ul class="sublist methods Legend"><span class="subtitle">Methods</span><li><a href="Legend.html#render">render</a></li></ul></li><li class="item" id="LineChart"><span class="title"><a href="LineChart.html">LineChart</a></span><ul class="sublist methods LineChart"><span class="subtitle">Methods</span><li><a href="LineChart.html#addComponent">addComponent</a></li><li><a href="LineChart.html#animateChart">animateChart</a></li><li><a href="LineChart.html#getPaper">getPaper</a></li><li><a href="LineChart.html#makeBaseData">makeBaseData</a></li><li><a href="LineChart.html#render">render</a></li></ul></li><li class="item" id="LineChartSeries"><span class="title"><a href="LineChartSeries.html">LineChartSeries</a></span><ul class="sublist members LineChartSeries"><span class="subtitle">Members</span><li><a href="LineChartSeries.html#className">className</a></li><li><a href="LineChartSeries.html#graphRenderer">graphRenderer</a></li></ul><ul class="sublist division LineChartSeries"><li></li></ul><ul class="sublist methods LineChartSeries"><span class="subtitle">Methods</span><li><a href="LineChartSeries.html#animateComponent">animateComponent</a></li><li><a href="LineChartSeries.html#attachEvent">attachEvent</a></li><li><a href="LineChartSeries.html#getPaper">getPaper</a></li><li><a href="LineChartSeries.html#getScaleDistanceFromZeroPoint">getScaleDistanceFromZeroPoint</a></li><li><a href="LineChartSeries.html#hideTooltip">hideTooltip</a></li><li><a href="LineChartSeries.html#makeAddData">makeAddData</a></li><li><a href="LineChartSeries.html#onHideAnimation">onHideAnimation</a></li><li><a href="LineChartSeries.html#onMouseout">onMouseout</a></li><li><a href="LineChartSeries.html#onMouseover">onMouseover</a></li><li><a href="LineChartSeries.html#onShowAnimation">onShowAnimation</a></li><li><a href="LineChartSeries.html#render">render</a></li><li><a href="LineChartSeries.html#showSeriesLabelArea">showSeriesLabelArea</a></li><li><a href="LineChartSeries.html#showTooltip">showTooltip</a></li></ul></li><li class="item" id="PieChart"><span class="title"><a href="PieChart.html">PieChart</a></span><ul class="sublist methods PieChart"><span class="subtitle">Methods</span><li><a href="PieChart.html#addComponent">addComponent</a></li><li><a href="PieChart.html#animateChart">animateChart</a></li><li><a href="PieChart.html#getPaper">getPaper</a></li><li><a href="PieChart.html#makeBaseData">makeBaseData</a></li><li><a href="PieChart.html#render">render</a></li></ul></li><li class="item" id="PieChartSeries"><span class="title"><a href="PieChartSeries.html">PieChartSeries</a></span><ul class="sublist members PieChartSeries"><span class="subtitle">Members</span><li><a href="PieChartSeries.html#className">className</a></li><li><a href="PieChartSeries.html#graphRenderer">graphRenderer</a></li></ul><ul class="sublist division PieChartSeries"><li></li></ul><ul class="sublist methods PieChartSeries"><span class="subtitle">Methods</span><li><a href="PieChartSeries.html#animateComponent">animateComponent</a></li><li><a href="PieChartSeries.html#attachEvent">attachEvent</a></li><li><a href="PieChartSeries.html#getPaper">getPaper</a></li><li><a href="PieChartSeries.html#getScaleDistanceFromZeroPoint">getScaleDistanceFromZeroPoint</a></li><li><a href="PieChartSeries.html#hideTooltip">hideTooltip</a></li><li><a href="PieChartSeries.html#makeAddData">makeAddData</a></li><li><a href="PieChartSeries.html#onHideAnimation">onHideAnimation</a></li><li><a href="PieChartSeries.html#onMouseout">onMouseout</a></li><li><a href="PieChartSeries.html#onMouseover">onMouseover</a></li><li><a href="PieChartSeries.html#onShowAnimation">onShowAnimation</a></li><li><a href="PieChartSeries.html#render">render</a></li><li><a href="PieChartSeries.html#showSeriesLabelArea">showSeriesLabelArea</a></li><li><a href="PieChartSeries.html#showTooltip">showTooltip</a></li></ul></li><li class="item" id="Plot"><span class="title"><a href="Plot.html">Plot</a></span><ul class="sublist members Plot"><span class="subtitle">Members</span><li><a href="Plot.html#className">className</a></li></ul><ul class="sublist division Plot"><li></li></ul><ul class="sublist methods Plot"><span class="subtitle">Methods</span><li><a href="Plot.html#render">render</a></li></ul></li><li class="item" id="RaphaelBarChart"><span class="title"><a href="RaphaelBarChart.html">RaphaelBarChart</a></span><ul class="sublist methods RaphaelBarChart"><span class="subtitle">Methods</span><li><a href="RaphaelBarChart.html#animate">animate</a></li><li><a href="RaphaelBarChart.html#render">render</a></li></ul></li><li class="item" id="RaphaelLineChart"><span class="title"><a href="RaphaelLineChart.html">RaphaelLineChart</a></span><ul class="sublist methods RaphaelLineChart"><span class="subtitle">Methods</span><li><a href="RaphaelLineChart.html#animate">animate</a></li><li><a href="RaphaelLineChart.html#animateLine">animateLine</a></li><li><a href="RaphaelLineChart.html#attachEvent">attachEvent</a></li><li><a href="RaphaelLineChart.html#hideAnimation">hideAnimation</a></li><li><a href="RaphaelLineChart.html#makeBorderStyle">makeBorderStyle</a></li><li><a href="RaphaelLineChart.html#makeLinePath">makeLinePath</a></li><li><a href="RaphaelLineChart.html#makeOutDotStyle">makeOutDotStyle</a></li><li><a href="RaphaelLineChart.html#render">render</a></li><li><a href="RaphaelLineChart.html#renderDot">renderDot</a></li><li><a href="RaphaelLineChart.html#renderDots">renderDots</a></li><li><a href="RaphaelLineChart.html#showAnimation">showAnimation</a></li></ul></li><li class="item" id="RaphaelLineTypeBase"><span class="title"><a href="RaphaelLineTypeBase.html">RaphaelLineTypeBase</a></span><ul class="sublist methods RaphaelLineTypeBase"><span class="subtitle">Methods</span><li><a href="RaphaelLineTypeBase.html#animateLine">animateLine</a></li><li><a href="RaphaelLineTypeBase.html#attachEvent">attachEvent</a></li><li><a href="RaphaelLineTypeBase.html#hideAnimation">hideAnimation</a></li><li><a href="RaphaelLineTypeBase.html#makeBorderStyle">makeBorderStyle</a></li><li><a href="RaphaelLineTypeBase.html#makeLinePath">makeLinePath</a></li><li><a href="RaphaelLineTypeBase.html#makeOutDotStyle">makeOutDotStyle</a></li><li><a href="RaphaelLineTypeBase.html#renderDot">renderDot</a></li><li><a href="RaphaelLineTypeBase.html#renderDots">renderDots</a></li><li><a href="RaphaelLineTypeBase.html#showAnimation">showAnimation</a></li></ul></li><li class="item" id="RaphaelPieChart"><span class="title"><a href="RaphaelPieChart.html">RaphaelPieChart</a></span><ul class="sublist methods RaphaelPieChart"><span class="subtitle">Methods</span><li><a href="RaphaelPieChart.html#animate">animate</a></li><li><a href="RaphaelPieChart.html#animateLegendLines">animateLegendLines</a></li><li><a href="RaphaelPieChart.html#hideAnimation">hideAnimation</a></li><li><a href="RaphaelPieChart.html#render">render</a></li><li><a href="RaphaelPieChart.html#renderLegendLines">renderLegendLines</a></li><li><a href="RaphaelPieChart.html#showAnimation">showAnimation</a></li></ul></li><li class="item" id="Series"><span class="title"><a href="Series.html">Series</a></span><ul class="sublist members Series"><span class="subtitle">Members</span><li><a href="Series.html#className">className</a></li><li><a href="Series.html#graphRenderer">graphRenderer</a></li></ul><ul class="sublist division Series"><li></li></ul><ul class="sublist methods Series"><span class="subtitle">Methods</span><li><a href="Series.html#animateComponent">animateComponent</a></li><li><a href="Series.html#attachEvent">attachEvent</a></li><li><a href="Series.html#getPaper">getPaper</a></li><li><a href="Series.html#getScaleDistanceFromZeroPoint">getScaleDistanceFromZeroPoint</a></li><li><a href="Series.html#hideTooltip">hideTooltip</a></li><li><a href="Series.html#makeAddData">makeAddData</a></li><li><a href="Series.html#onHideAnimation">onHideAnimation</a></li><li><a href="Series.html#onMouseout">onMouseout</a></li><li><a href="Series.html#onMouseover">onMouseover</a></li><li><a href="Series.html#onShowAnimation">onShowAnimation</a></li><li><a href="Series.html#render">render</a></li><li><a href="Series.html#showSeriesLabelArea">showSeriesLabelArea</a></li><li><a href="Series.html#showTooltip">showTooltip</a></li></ul></li><li class="item" id="Tooltip"><span class="title"><a href="Tooltip.html">Tooltip</a></span><ul class="sublist members Tooltip"><span class="subtitle">Members</span><li><a href="Tooltip.html#className">className</a></li></ul><ul class="sublist division Tooltip"><li></li></ul><ul class="sublist methods Tooltip"><span class="subtitle">Methods</span><li><a href="Tooltip.html#attachEvent">attachEvent</a></li><li><a href="Tooltip.html#onHide">onHide</a></li><li><a href="Tooltip.html#onMouseout">onMouseout</a></li><li><a href="Tooltip.html#onMouseover">onMouseover</a></li><li><a href="Tooltip.html#onShow">onShow</a></li><li><a href="Tooltip.html#render">render</a></li></ul></li></ul><h3>Namespaces</h3><ul class="list namespaces"><li class="item" id="ne.application.chart"><span class="icon blue static">static</span><span class="title"><a href="ne.application.chart.html">chart</a></span><ul class="sublist methods ne.application.chart"><span class="subtitle">Methods</span><li><a href="ne.application.chart.html#.barChart">barChart</a></li><li><a href="ne.application.chart.html#.columnChart">columnChart</a></li><li><a href="ne.application.chart.html#.comboChart">comboChart</a></li><li><a href="ne.application.chart.html#.lineChart">lineChart</a></li><li><a href="ne.application.chart.html#.pieChart">pieChart</a></li><li><a href="ne.application.chart.html#.registerPlugin">registerPlugin</a></li><li><a href="ne.application.chart.html#.registerTheme">registerTheme</a></li></ul></li></ul><h3>Mixins</h3><ul class="list mixins"><li class="item" id="AxisTypeBase"><span class="title"><a href="AxisTypeBase.html">AxisTypeBase</a></span><ul class="sublist methods AxisTypeBase"><span class="subtitle">Methods</span><li><a href="AxisTypeBase.html#addAxisComponents">addAxisComponents</a></li></ul></li><li class="item" id="LineTypeSeriesBase"><span class="title"><a href="LineTypeSeriesBase.html">LineTypeSeriesBase</a></span><ul class="sublist methods LineTypeSeriesBase"><span class="subtitle">Methods</span><li><a href="LineTypeSeriesBase.html#makePositions">makePositions</a></li></ul></li><li class="item" id="VerticalTypeBase"><span class="title"><a href="VerticalTypeBase.html">VerticalTypeBase</a></span><ul class="sublist methods VerticalTypeBase"></ul></li></ul></div>
        <div id="main" class="main">



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview Axis Data Maker
 * @author NHN Ent.
 *         FE Development Team &lt;dl_javascript@nhnent.com>
 */

'use strict';

var chartConst = require('../const.js'),
    calculator = require('./calculator.js');

var MIN_PIXEL_STEP_SIZE = 40,
    MAX_PIXEL_STEP_SIZE = 60,
    PERCENT_STACKED_TICK_INFO = {
        scale: {
            min: 0,
            max: 100
        },
        step: 25,
        tickCount: 5,
        labels: [0, 25, 50, 75, 100]
    };

var abs = Math.abs,
    concat = Array.prototype.concat;

/**
 * Axis data maker.
 * @module axisDataMaker
 */
var axisDataMaker = {
    /**
     * To make data about label axis.
     * @memberOf module:axisDataMaker
     * @param {object} params parameters
     *      @param {array.&lt;string>} labels chart labels
     *      @param {boolean} isVertical whether vertical or not
     * @returns {{
     *      labels: array.&lt;string>,
     *      tickCount: number,
     *      validTickCount: number,
     *      isLabelAxis: boolean,
     *      isVertical: boolean
     * }} axis data
     */
    makeLabelAxisData: function(params) {
        return {
            labels: params.labels,
            tickCount: params.labels.length + 1,
            validTickCount: 0,
            isLabelAxis: true,
            isVertical: !!params.isVertical
        };
    },

    /**
     * To make data about value axis.
     * @memberOf module:axisDataMaker
     * @param {object} params parameters
     *      @param {array.&lt;array.&lt;number>>} params.values chart values
     *      @param {{width:number, height:number}} params.seriesDimension series dimension
     *      @param {array.&lt;function>} params.formatFunctions format functions
     *      @param {string} params.stacked stacked option
     *      @param {string} params.options axis options
     * @returns {{
     *      labels: array.&lt;string>,
     *      tickCount: number,
     *      validTickCount: number,
     *      isLabelAxis: boolean,
     *      scale: {min: number, max: number},
     *      isVertical: boolean
     * }} axis data
     */
    makeValueAxisData: function(params) {
        var options = params.options || {},
            isVertical = !!params.isVertical,
            isPositionRight = !!params.isPositionRight,
            formatFunctions = params.formatFunctions,
            tickInfo;
        if (params.stacked === 'percent') {
            tickInfo = PERCENT_STACKED_TICK_INFO;
            formatFunctions = [];
        } else {
            tickInfo = this._getTickInfo({
                values: this._makeBaseValues(params.values, params.stacked),
                seriesDimension: params.seriesDimension,
                isVertical: isVertical,
                isPositionRight: isPositionRight,
                chartType: params.chartType
            }, options);
        }

        return {
            labels: this._formatLabels(tickInfo.labels, formatFunctions),
            tickCount: tickInfo.tickCount,
            validTickCount: tickInfo.tickCount,
            scale: tickInfo.scale,
            step: tickInfo.step,
            isVertical: isVertical,
            isPositionRight: isPositionRight
        };
    },

    /**
     * To make base values.
     * @memberOf module:axisDataMaker
     * @param {array.&lt;number>} groupValues group values
     * @param {string} stacked stacked option.
     * @returns {array.&lt;number>} base values
     * @private
     */
    _makeBaseValues: function(groupValues, stacked) {
        var baseValues = concat.apply([], groupValues); // flatten array
        if (stacked === chartConst.STACKED_NORMAL_TYPE) {
            baseValues = baseValues.concat(ne.util.map(groupValues, function(values) {
                var plusValues = ne.util.filter(values, function(value) {
                    return value > 0;
                });
                return ne.util.sum(plusValues);
            }));
        }
        return baseValues;
    },

    /**
     * Get base size for get candidate tick counts.
     * @memberOf module:axisDataMaker
     * @param {{width: number, height: number}} dimension chat dimension
     * @param {boolean} isVertical whether vertical or not
     * @returns {number} base size
     * @private
     */
    _getBaseSize: function(dimension, isVertical) {
        var baseSize;
        if (isVertical) {
            baseSize = dimension.height;
        } else {
            baseSize = dimension.width;
        }
        return baseSize;
    },

    /**
     * Get candidate tick counts.
     * @memberOf module:axisDataMaker
     * @param {{width: number, height: number}} chartDimension chat dimension
     * @param {boolean} isVertical whether vertical or not
     * @returns {array.&lt;number>} tick counts
     * @private
     */
    _getCandidateTickCounts: function(chartDimension, isVertical) {
        var baseSize = this._getBaseSize(chartDimension, isVertical),
            start = parseInt(baseSize / MAX_PIXEL_STEP_SIZE, 10),
            end = parseInt(baseSize / MIN_PIXEL_STEP_SIZE, 10) + 1,
            tickCounts = ne.util.range(start, end);
        return tickCounts;
    },

    /**
     * Get comparing value.
     * @memberOf module:axisDataMaker
     * @param {number} min minimum value of user data
     * @param {number} max maximum value of user data
     * @param {{scale: {min: number, max: number}, step: number}} tickInfo tick info
     * @returns {number} comparing value
     * @private
     */
    _getComparingValue: function(min, max, tickInfo) {
        var diffMax = abs(tickInfo.scale.max - max),
            diffMin = abs(min - tickInfo.scale.min),
            weight = Math.pow(10, ne.util.lengthAfterPoint(tickInfo.step));
        return (diffMax + diffMin) * weight;
    },

    /**
     * Select tick info.
     * @memberOf module:axisDataMaker
     * @param {number} min minimum value of user data
     * @param {number} max maximum value of user data
     * @param {array.&lt;object>} candidates tick info candidates
     * @returns {{scale: {min: number, max: number}, tickCount: number, step: number, labels: array.&lt;number>}} selected tick info
     * @private
     */
    _selectTickInfo: function(min, max, candidates) {
        var getComparingValue = ne.util.bind(this._getComparingValue, this, min, max),
            tickInfo = ne.util.min(candidates, getComparingValue);
        return tickInfo;
    },

    /**
     * Get tick count and scale.
     * @memberOf module:axisDataMaker
     * @param {object} params parameters
     *      @param {number} params.values base values
     *      @param {{width: number, height: number}} params.seriesDimension chat dimension
     *      @param {boolean} params.isVertical whether vertical or not
     *      @param {string} params.chartType chat type
     * @param {{min: number, max:number}} options axis options
     * @returns {{tickCount: number, scale: object}} tick info
     * @private
     */
    _getTickInfo: function(params, options) {
        var min = ne.util.min(params.values),
            max = ne.util.max(params.values),
            intTypeInfo, tickCounts, candidates, tickInfo;
        // 01. min, max, options 정보를 정수형으로 변경
        intTypeInfo = this._makeIntegerTypeInfo(min, max, options);

        // 02. tick count 후보군 얻기
        tickCounts = params.tickCount ? [params.tickCount] : this._getCandidateTickCounts(params.seriesDimension, params.isVertical);

        // 03. tick info 후보군 계산
        candidates = this._getCandidateTickInfos({
            min: intTypeInfo.min,
            max: intTypeInfo.max,
            tickCounts: tickCounts,
            chartType: params.chartType
        }, intTypeInfo.options);

        // 04. tick info 후보군 중 하나 선택
        tickInfo = this._selectTickInfo(intTypeInfo.min, intTypeInfo.max, candidates);

        // 05. 정수형으로 변경했던 tick info를 원래 형태로 변경
        tickInfo = this._revertOriginalTypeTickInfo(tickInfo, intTypeInfo.divideNum);
        return tickInfo;
    },

    /**
     * To make integer type info
     * @memberOf module:axisDataMaker
     * @param {number} min minimum value of user data
     * @param {number} max maximum value of user data
     * @param {{min: number, max: number}} options axis options
     * @returns {{min: number, max: number, options: {min: number, max: number}, divideNum: number}} integer type info
     * @private
     */
    _makeIntegerTypeInfo: function(min, max, options) {
        var multipleNum, changedOptions;

        if (abs(min) >= 1 || abs(max) >= 1) {
            return {
                min: min,
                max: max,
                options: options,
                divideNum: 1
            };
        }

        multipleNum = ne.util.findMultipleNum(min, max);
        changedOptions = {};

        if (options.min) {
            changedOptions.min = options.min * multipleNum;
        }

        if (options.max) {
            changedOptions.max = options.max * multipleNum;
        }

        return {
            min: min * multipleNum,
            max: max * multipleNum,
            options: changedOptions,
            divideNum: multipleNum
        };
    },

    /**
     * Revert tick info to original type.
     * @memberOf module:axisDataMaker
     * @param {{step: number, scale: {min: number, max: number}, labels: array.&lt;number>}} tickInfo tick info
     * @param {number} divideNum divide num
     * @returns {{step: number, scale: {min: number, max: number}, labels: array.&lt;number>}} divided tick info
     * @private
     */
    _revertOriginalTypeTickInfo: function(tickInfo, divideNum) {
        if (divideNum === 1) {
            return tickInfo;
        }

        tickInfo.step = ne.util.division(tickInfo.step, divideNum);
        tickInfo.scale.min = ne.util.division(tickInfo.scale.min, divideNum);
        tickInfo.scale.max = ne.util.division(tickInfo.scale.max, divideNum);
        tickInfo.labels = ne.util.map(tickInfo.labels, function(label) {
            return ne.util.division(label, divideNum);
        });

        return tickInfo;
    },

    /**
     * Normalize step.
     * @memberOf module:axisDataMaker
     * @param {number} step original step
     * @returns {number} normalized step
     * @private
     */
    _normalizeStep: function(step) {
        return calculator.normalizeAxisNumber(step);
    },

    /**
     * To minimize tick scale.
     * @memberOf module:axisDataMaker
     * @param {object} params parameters
     *      @param {number} params.userMin user min
     *      @param {number} params.userMax user max
     *      @param {{tickCount: number, scale: object}} params.tickInfo tick info
     *      @param {{min: number, max:number}} params.options axis options
     * @returns {{tickCount: number, scale: object, labels: array}} corrected tick info
     * @private
     */
    _minimizeTickScale: function(params) {
        var tickInfo = params.tickInfo,
            ticks = ne.util.range(1, tickInfo.tickCount),
            options = params.options,
            step = tickInfo.step,
            scale = tickInfo.scale,
            tickMax = scale.max,
            tickMin = scale.min,
            isUndefinedMin = ne.util.isUndefined(options.min),
            isUndefinedMax = ne.util.isUndefined(options.max),
            labels;
        ne.util.forEachArray(ticks, function(tickIndex) {
            var curStep = (step * tickIndex),
                curMin = tickMin + curStep,
                curMax = tickMax - curStep;

            // 더이상 변경이 필요 없을 경우
            if (params.userMin &lt;= curMin &amp;&amp; params.userMax >= curMax) {
                return false;
            }

            // min 값에 변경 여유가 있을 경우
            if ((isUndefinedMin &amp;&amp; params.userMin > curMin) ||
                (!isUndefinedMin &amp;&amp; options.min >= curMin)) {
                scale.min = curMin;
            }

            // max 값에 변경 여유가 있을 경우
            if ((isUndefinedMin &amp;&amp; params.userMax &lt; curMax) ||
                (!isUndefinedMax &amp;&amp; options.max &lt;= curMax)) {
                scale.max = curMax;
            }
        });

        labels = calculator.makeLabelsFromScale(scale, step);
        tickInfo.labels = labels;
        tickInfo.step = step;
        tickInfo.tickCount = labels.length;
        return tickInfo;
    },

    /**
     * To divide tick step.
     * @memberOf module:axisDataMaker
     * @param {{scale: {min: number, max: number}, tickCount: number, step: number, labels: array.&lt;number>}} tickInfo tick info
     * @param {number} orgTickCount original tickCount
     * @returns {{scale: {min: number, max: number}, tickCount: number, step: number, labels: array.&lt;number>}} tick info
     * @private
     */
    _divideTickStep: function(tickInfo, orgTickCount) {
        var step = tickInfo.step,
            scale = tickInfo.scale,
            tickCount = tickInfo.tickCount;
        // step 2의 배수 이면서 변경된 tickCount의 두배수-1이 tickCount보다 orgTickCount와 차이가 덜나거나 같으면 step을 반으로 변경한다.
        if ((step % 2 === 0) &amp;&amp;
            abs(orgTickCount - ((tickCount * 2) - 1)) &lt;= abs(orgTickCount - tickCount)) {
            step = step / 2;
            tickInfo.labels = calculator.makeLabelsFromScale(scale, step);
            tickInfo.tickCount = tickInfo.labels.length;
            tickInfo.step = step;
        }
        return tickInfo;
    },

    /**
     * To make tick info
     * @memberOf module:axisDataMaker
     * @param {object} params parameters
     *      @param {number} params.tickCount tick count
     *      @param {number} params.min scale min
     *      @param {number} params.max scale max
     *      @param {number} params.userMin minimum value of user data
     *      @param {number} params.userMax maximum value of user data
     *      @param {boolean} params.isMinus whether scale is minus or not
     *      @param {string} params.chartType chart type
     *      @param {{min: number, max: number}} params.options axis options
     * @returns {{
     *      scale: {min: number, max: number},
     *      tickCount: number,
     *      step: number,
     *      labels: array.&lt;number>
     * }} tick info
     * @private
     */
    _makeTickInfo: function(params) {
        var scale = params.scale,
            step, tickInfo;

        // 01. 기본 scale 정보로 step 얻기
        step = calculator.getScaleStep(scale, params.tickCount);

        // 02. step 정규화 시키기 (ex: 0.3 --> 0.5, 7 --> 10)
        step = this._normalizeStep(step);

        // 03. scale 정규화 시키기
        scale = this._normalizeScale(scale, step, params.tickCount);

        // 04. line차트의 경우 사용자의 min값이 scale의 min값과 같을 경우, min값을 1 step 감소 시킴
        scale.min = this._addMinPadding({
            min: scale.min,
            step: step,
            userMin: params.userMin,
            minOption: params.options.min,
            chartType: params.chartType
        });

        // 05. 사용자의 max값이 scael max와 같을 경우, max값을 1 step 증가 시킴
        scale.max = this._addMaxPadding({
            max: scale.max,
            step: step,
            userMax: params.userMax,
            maxOption: params.options.max
        });

        // 06. axis scale이 사용자 min, max와 거리가 멀 경우 조절
        tickInfo = this._minimizeTickScale({
            userMin: params.userMin,
            userMax: params.userMax,
            tickInfo: {scale: scale, step: step, tickCount: params.tickCount},
            options: params.options
        });

        tickInfo = this._divideTickStep(tickInfo, params.tickCount);
        return tickInfo;
    },

    /**
     * Add scale min padding.
     * @memberOf module:axisDataMaker
     * @param {object} params parameters
     *      @prams {number} params.min scale min
     *      @param {number} params.userMin minimum value of user data
     *      @param {number} params.minOption min option
     *      @param {number} params.step tick step
     * @returns {number} scale min
     * @private
     */
    _addMinPadding: function(params) {
        var min = params.min;

        // normalize된 scale min값이 user min값과 같을 경우 step 감소
        if ((params.chartType === chartConst.CHART_TYPE_LINE || min) &amp;&amp; min === params.userMin) {
            min -= params.step;
        }
        return min;
    },

    /**
     * Add scale max padding.
     * @memberOf module:axisDataMaker
     * @param {object} params parameters
     *      @prams {number} params.max scale max
     *      @param {number} params.userMax maximum value of user data
     *      @param {number} params.maxOption max option
     *      @param {number} params.step tick step
     * @returns {number} scale max
     * @private
     */
    _addMaxPadding: function(params) {
        var max = params.max;
        // normalize된 scale max값이 user max값과 같을 경우 step 증가
        if (ne.util.isUndefined(params.maxOption) &amp;&amp; (params.max === params.userMax)) {
            max += params.step;
        }
        return max;
    },

    /**
     * To normalize min.
     * @memberOf module:axisDataMaker
     * @param {number} min original min
     * @param {number} step tick step
     * @returns {number} normalized min
     * @private
     */
    _normalizeMin: function(min, step) {
        var mod = ne.util.mod(min, step),
            normalized;

        if (mod === 0) {
            normalized = min;
        } else {
            normalized = ne.util.subtraction(min, (min >= 0 ? mod : step + mod));
        }
        return normalized;
    },

    /**
     * To make normalized max.
     * @memberOf module:axisDataMaker
     * @param {{min: number, max: number}} scale scale
     * @param {number} step tick step
     * @param {number} tickCount tick count
     * @returns {number} normalized max
     * @private
     */
    _makeNormalizedMax: function(scale, step, tickCount) {
        var minMaxDiff = ne.util.multiplication(step, tickCount - 1),
            normalizedMax = ne.util.addition(scale.min, minMaxDiff),
            maxDiff = scale.max - normalizedMax,
            modDiff, divideDiff;
        // normalize된 max값이 원래의 max값 보다 작을 경우 step을 증가시켜 큰 값으로 만들기
        if (maxDiff > 0) {
            modDiff = maxDiff % step;
            divideDiff = Math.floor(maxDiff / step);
            normalizedMax += step * (modDiff > 0 ? divideDiff + 1 : divideDiff);
        }
        return normalizedMax;
    },

    /**
     * To normalize scale.
     * @memberOf module:axisDataMaker
     * @param {{min: number, max: number}} scale base scale
     * @param {number} step tick step
     * @param {number} tickCount tick count
     * @returns {{min: number, max: number}} normalized scale
     * @private
     */
    _normalizeScale: function(scale, step, tickCount) {
        scale.min = this._normalizeMin(scale.min, step);
        scale.max = this._makeNormalizedMax(scale, step, tickCount);
        return scale;
    },

    /**
     * Get candidates about tick info.
     * @memberOf module:axisDataMaker
     * @param {object} params parameters
     *      @param {number} params.min minimum value of user data
     *      @param {number} params.max maximum value of user data
     *      @param {array.&lt;number>} params.tickCounts tick counts
     *      @param {string} params.chartType chart type
     * @param {{min: number, max:number}} options axis options
     * @returns {array} candidates about tick info
     * @private
     */
    _getCandidateTickInfos: function(params, options) {
        var userMin = params.min,
            userMax = params.max,
            min = params.min,
            max = params.max,
            scale, candidates;

        // min, max만으로 기본 scale 얻기
        scale = this._makeBaseScale(min, max, options);

        candidates = ne.util.map(params.tickCounts, function(tickCount) {
            return this._makeTickInfo({
                tickCount: tickCount,
                scale: ne.util.extend({}, scale),
                userMin: userMin,
                userMax: userMax,
                chartType: params.chartType,
                options: options
            });
        }, this);
        return candidates;
    },

    /**
     * To make base scale
     * @memberOf module:axisDataMaker
     * @param {number} min minimum value of user data
     * @param {number} max maximum value of user data
     * @param {{min: number, max: number}} options axis options
     * @returns {{min: number, max: number}} base scale
     * @private
     */
    _makeBaseScale: function(min, max, options) {
        var isMinus = false,
            tmpMin, scale;

        if (min &lt; 0 &amp;&amp; max &lt;= 0) {
            isMinus = true;
            tmpMin = min;
            min = -max;
            max = -tmpMin;
        }

        scale = calculator.calculateScale(min, max);

        if (isMinus) {
            tmpMin = scale.min;
            scale.min = -scale.max;
            scale.max = -tmpMin;
        }

        scale.min = options.min || scale.min;
        scale.max = options.max || scale.max;

        return scale;
    },

    /**
     * Format labels.
     * @memberOf module:axisDataMaker
     * @param {string[]} labels target labels
     * @param {function[]} formatFunctions format functions
     * @returns {string[]} formatted labels
     * @private
     */
    _formatLabels: function(labels, formatFunctions) {
        var result;
        if (!formatFunctions || !formatFunctions.length) {
            return labels;
        }
        result = ne.util.map(labels, function(label) {
            var fns = concat.apply([label], formatFunctions);
            return ne.util.reduce(fns, function(stored, fn) {
                return fn(stored);
            });
        });
        return result;
    }
};

module.exports = axisDataMaker;
</code></pre>
        </article>
    </section>



</div>
        <div class="clearfix"></div>
    </div>

</div>
<script>
(function() {
// 영역 height 설정
var height = (window.innerHeight || document.documentElement.clientHeight || document.getElementByTagName('body')[0].clientHeight) - 50;
var navigation = document.getElementById('navigation');
var main = document.getElementById('main');
navigation.style.height = height + 'px';
main.style.height = height + 'px';

// IE 7,8을 위한 getElementsByClassName 구현
var getElementsByClassName = function(className, parentElement) {
	if(document.getElementsByClassName) {
		return (parentElement || document).getElementsByClassName(className);
	}

    var regEx = new RegExp('(^| )'+className+'( |$)');
	var nodes = new Array();
    var elements = (parentElement || document.body).getElementsByTagName("*");
    for(var i = 0, len = elements.length; i < len ; i++) {
        if(regEx.test(elements[i].className)) {
			nodes.push(elements[i]);
		}
	}
	elements = null;
    return nodes;
}

// url 파싱후 해당 카테고리만 display:block 처리
var url = location.href;
var path = url.lastIndexOf('/');
var fileName = url.substring(path+1);
var fullName = fileName.split('.');
fullName.length -= 1;
fullName = fullName.join('.');
fullName = fullName.split('-');
fullName = fullName[fullName.length - 1];
var lnbList = getElementsByClassName(fullName);
if(lnbList.length && lnbList.length > 0) {
    for(var i = 0, len = lnbList.length; i < len; i++) {
        lnbList[i].className += ' selected';
    }
}

var title = document.getElementById(fullName);
if(title) {
    title.className += ' selected';
    title.innerHTML = '<span class="arrow">▶</span>' + title.innerHTML;

    var static = getElementsByClassName('static', title);
    if(static) {
        static[0].className += ' selected';
    }
}
})();
</script>
<script type="text/javascript" src="scripts/prettify/prettify.js"></script>
<script type="text/javascript" src="scripts/prettify/lang-css.js"></script>
<script type="text/javascript">prettyPrint();</script>
<script type="text/javascript" src="scripts/linenumber.js"></script>
</body>
</html>
